function lcs_do(a){if(!b)var b="lcs.naver.com";var c="",d,e=document,f=window.location;try{var g=(f.protocol?f.protocol:"https:")+"//"+b+"/m?"}catch(h){return}try{c=g+"u="+encodeURIComponent(f.href)+"&e="+(e.referrer?encodeURIComponent(e.referrer):"")}catch(h){}try{typeof lcs_add.i=="undefined"&&(lcs_add.i="");for(var d in lcs_add)typeof lcs_add[d]!="function"&&(c+="&"+d+"="+encodeURIComponent(lcs_add[d]));for(var d in a)if(d.length>=3&&typeof a[d]!="function"||d=="qy")c+="&"+d+"="+encodeURIComponent(a[d]);if(lcs_cnt>0){var i=(new Date).getTime();c+="&ts="+i}c+="&EOU";var j=new Image;j.src=c,j.onload=function(){j.onload=null;return},lcs_cnt++}catch(h){return}}function lcs_do_gdid(a,b){try{a&&(lcs_add.i=a,b?lcs_do(b):lcs_do())}catch(c){}}function nclk(a,b,c,d,e,f){var g,h,i,j,k,l,m;return e||(e=0),f||(f=""),k="",e==1?g=0:a.href?(j=a.tagName.toLowerCase(),k=a.href.toLowerCase(),l=a.target,m=a.getAttribute("href",2),l&&l!="_self"&&l!="_top"&&l!="_parent"||k.indexOf("javascript:")!=-1||m&&m.charAt(0)=="#"||k.indexOf("#")!=-1&&k.substr(0,a.href.indexOf("#"))==document.URL||j=="img"?g=0:g=1):g=0,tU=nclk.gl(b,c,d,"",g,nclk.st,f),k&&k.indexOf(nclk.pt+"//"+ccsrv)==0?h=a.href:k&&k.indexOf(nclk.pt+"//"+ccsrv)!=0&&j&&j!="img"?h=tU+"&u="+nclk.ec(a.href):h=tU+"&u=about%3Ablank",g==1?(i=a.innerHTML,a.href=h,a.innerHTML!=i&&(a.innerHTML=i)):document.images&&nclk.sd(h),!0}function nclkR(a,b,c,d){window.location.href=nclk.gl(a,b,c,d,1,nclk.st)}function nclkF(a,b,c,d){var e=nclk.gl(a,b,c,"about%3Ablank",0,nclk.st);nclk.sd(e,d)}window.nts={m:{Bboom:{}}},function(a,b){typeof module=="object"&&typeof module.exports=="object"?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}(typeof window!="undefined"?window:this,function(a,b){function r(a){var b=a.length,c=m.type(a);return c==="function"||m.isWindow(a)?!1:a.nodeType===1&&b?!0:c==="array"||b===0||typeof b=="number"&&b>0&&b-1 in a}function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if(typeof b=="string"){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}function D(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){if(y.addEventListener||event.type==="load"||y.readyState==="complete")I(),m.ready()}function O(a,b,c){if(c===undefined&&a.nodeType===1){var d="data-"+b.replace(N,"-$1").toLowerCase();c=a.getAttribute(d);if(typeof c=="string"){try{c=c==="true"?!0:c==="false"?!1:c==="null"?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=undefined}return c}function P(a){var b;for(b in a){if(b==="data"&&m.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function Q(a,b,d,e){if(!m.acceptData(a))return;var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if((!k||!j[k]||!e&&!j[k].data)&&d===undefined&&typeof b=="string")return;k||(i?k=a[h]=c.pop()||m.guid++:k=h),j[k]||(j[k]=i?{}:{toJSON:m.noop});if(typeof b=="object"||typeof b=="function")e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b);return g=j[k],e||(g.data||(g.data={}),g=g.data),d!==undefined&&(g[m.camelCase(b)]=d),typeof b=="string"?(f=g[b],f==null&&(f=g[m.camelCase(b)])):f=g,f}function R(a,b,c){if(!m.acceptData(a))return;var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(!g[h])return;if(b){d=c?g[h]:g[h].data;if(d){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b in d?b=[b]:b=b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}}if(!c){delete g[h].data;if(!P(g[h]))return}f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null}function ba(){return!0}function bb(){return!1}function bc(){try{return y.activeElement}catch(a){}}function bd(a){var b=be.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bu(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):undefined;if(!f)for(f=[],c=a.childNodes||a;(d=c[e])!=null;e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,bu(d,b));return b===undefined||b&&m.nodeName(a,b)?m.merge([a],f):f}function bv(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function bw(a,b){return m.nodeName(a,"table")&&m.nodeName(b.nodeType!==11?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function bx(a){return a.type=(m.find.attr(a,"type")!==null)+"/"+a.type,a}function by(a){var b=bp.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function bz(a,b){var c,d=0;for(;(c=a[d])!=null;d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function bA(a,b){if(b.nodeType!==1||!m.hasData(a))return;var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}function bB(a,b){var c,d,e;if(b.nodeType!==1)return;c=b.nodeName.toLowerCase();if(!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}if(c==="script"&&b.text!==a.text)bx(b).text=a.text,by(b);else if(c==="object")b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML);else if(c==="input"&&W.test(a.type))b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value);else if(c==="option")b.defaultSelected=b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}function bE(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function bF(a){var b=y,c=bD[a];if(!c){c=bE(a,b);if(c==="none"||!c)bC=(bC||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(bC[0].contentWindow||bC[0].contentDocument).document,b.write(),b.close(),c=bE(a,b),bC.detach();bD[a]=c}return c}function bL(a,b){return{get:function(){var c=a();if(c==null)return;if(c){delete this.get;return}return(this.get=b).apply(this,arguments)}}}function bU(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bT.length;while(e--){b=bT[e]+c;if(b in a)return b}return d}function bV(a,b){var c,d,e,f=[],g=0,h=a.length;for(;g<h;g++){d=a[g];if(!d.style)continue;f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(!f[g]&&c==="none"&&(d.style.display=""),d.style.display===""&&U(d)&&(f[g]=m._data(d,"olddisplay",bF(d.nodeName)))):(e=U(d),(c&&c!=="none"||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display")))}for(g=0;g<h;g++){d=a[g];if(!d.style)continue;if(!b||d.style.display==="none"||d.style.display==="")d.style.display=b?f[g]||"":"none"}return a}function bW(a,b,c){var d=bP.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function bX(a,b,c,d,e){var f=c===(d?"border":"content")?4:b==="width"?1:0,g=0;for(;f<4;f+=2)c==="margin"&&(g+=m.css(a,c+T[f],!0,e)),d?(c==="content"&&(g-=m.css(a,"padding"+T[f],!0,e)),c!=="margin"&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),c!=="padding"&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function bY(a,b,c){var d=!0,e=b==="width"?a.offsetWidth:a.offsetHeight,f=bI(a),g=k.boxSizing&&m.css(a,"boxSizing",!1,f)==="border-box";if(e<=0||e==null){e=bJ(a,b,f);if(e<0||e==null)e=a.style[b];if(bH.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+bX(a,b,c||(g?"border":"content"),d,f)+"px"}function bZ(a,b,c,d,e){return new bZ.prototype.init(a,b,c,d,e)}function cf(){return setTimeout(function(){b$=undefined}),b$=m.now()}function cg(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ch(a,b,c){var d,e=(ce[b]||[]).concat(ce["*"]),f=0,g=e.length;for(;f<g;f++)if(d=e[f].call(c,b,a))return d}function ci(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),h.unqueued==null&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l=j==="none"?m._data(a,"olddisplay")||bF(a.nodeName):j,l==="inline"&&m.css(a,"float")==="none"&&(!k.inlineBlockNeedsLayout||bF(a.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){e=b[d];if(ca.exec(e)){delete b[d],f=f||e==="toggle";if(e===(q?"hide":"show"))if(e==="show"&&r&&r[d]!==undefined)q=!0;else continue;o[d]=r&&r[d]||m.style(a,d)}else j=undefined}if(!m.isEmptyObject(o)){r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=ch(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start=d==="width"||d==="height"?1:0))}else(j==="none"?bF(a.nodeName):j)==="inline"&&(p.display=j)}function cj(a,b){var c,d,e,f,g;for(c in a){d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function ck(a,b,c){var d,e,f=0,g=cd.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;var b=b$||cf(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;for(;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:b$||cf(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;e=!0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;cj(k,j.opts.specialEasing);for(;f<g;f++){d=cd[f].call(j,a,k,j.opts);if(d)return d}return m.map(k,ch,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cL(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])d.charAt(0)==="+"?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function cM(a,b,c,d){function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);if(typeof j=="string"&&!f&&!e[j])return b.dataTypes.unshift(j),g(j),!1;if(f)return!(i=j)}),i}var e={},f=a===cI;return g(b.dataTypes[0])||!e["*"]&&g("*")}function cN(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)b[d]!==undefined&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function cO(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(i[0]==="*")i.shift(),e===undefined&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f)return f!==i[0]&&i.unshift(f),c[f]}function cP(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f){a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift();if(f)if(f==="*")f=i;else if(i!=="*"&&i!==f){g=j[i+" "+f]||j["* "+f];if(!g)for(e in j){h=e.split(" ");if(h[1]===f){g=j[i+" "+h[0]]||j["* "+h[0]];if(g){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}return{state:"success",data:b}}function cV(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||cR.test(a)?d(a,e):cV(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&m.type(b)==="object")for(e in b)cV(a+"["+e+"]",b[e],c,d);else d(a,b)}function cZ(){try{return new a.XMLHttpRequest}catch(b){}}function c$(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function dd(a){return m.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.2",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return a!=null?a<0?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;typeof g=="boolean"&&(j=g,g=arguments[h]||{},h++),typeof g!="object"&&!m.isFunction(g)&&(g={}),h===i&&(g=this,h--);for(;h<i;h++)if((e=arguments[h])!=null)for(d in e){a=g[d],c=e[d];if(g===c)continue;j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):c!==undefined&&(g[d]=c)}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return m.type(a)==="function"},isArray:Array.isArray||function(a){return m.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||m.type(a)!=="object"||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return b===undefined||j.call(a,b)},type:function(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c)if(g)for(;e<f;e++){d=b.apply(a[e],c);if(d===!1)break}else for(e in a){d=b.apply(a[e],c);if(d===!1)break}else if(g)for(;e<f;e++){d=b.call(a[e],e,a[e]);if(d===!1)break}else for(e in a){d=b.call(a[e],e,a[e]);if(d===!1)break}return a},trim:function(a){return a==null?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return a!=null&&(r(Object(a))?m.merge(c,typeof a=="string"?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(d<c)a[e++]=b[d++];if(c!==c)while(b[d]!==undefined)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length,h=!c;for(;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;f<g;f++)d=b(a[f],f,c),d!=null&&i.push(d);else for(f in a)d=b(a[f],f,c),d!=null&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return typeof b=="string"&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):undefined},now:function(){return+(new Date)},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var s=function(a){function bg(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;(b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType;if(typeof a!="string"||!a||k!==1&&k!==9&&k!==11)return d;if(!e&&p){if(k!==11&&(f=_.exec(a)))if(j=f[1]){if(k===9){h=b.getElementById(j);if(!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){s=r=u,w=b,x=k!==1&&a;if(k===1&&b.nodeName.toLowerCase()!=="object"){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+br(o[l]);w=ba.test(a)&&bp(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function bh(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function bi(a){return a[u]=!0,a}function bj(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function bk(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function bl(a,b){var c=b&&a,d=c&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function bm(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function bn(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bo(a){return bi(function(b){return b=+b,bi(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bp(a){return a&&typeof a.getElementsByTagName!="undefined"&&a}function bq(){}function br(a){var b=0,c=a.length,d="";for(;b<c;b++)d+=a[b].value;return d}function bs(a,b,c){var d=b.dir,e=c&&d==="parentNode",f=x++;return b.first?function(b,c,f){while(b=b[d])if(b.nodeType===1||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if(b.nodeType===1||e)if(a(b,c,g))return!0}else while(b=b[d])if(b.nodeType===1||e){i=b[u]||(b[u]={});if((h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];i[d]=j;if(j[2]=a(b,c,g))return!0}}}function bt(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bu(a,b,c){var d=0,e=b.length;for(;d<e;d++)bg(a,b[d],c);return c}function bv(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bw(a,b,c,d,e,f){return d&&!d[u]&&(d=bw(d)),e&&!e[u]&&(e=bw(e,f)),bi(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||bu(b||"*",h.nodeType?[h]:h,[]),q=a&&(f||!b)?bv(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){j=bv(r,n),d(j,[],h,i),k=j.length;while(k--)if(l=j[k])r[n[k]]=!(q[n[k]]=l)}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=bv(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function bx(a){var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=bs(function(a){return a===b},h,!0),l=bs(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];for(;i<f;i++)if(c=d.relative[a[i].type])m=[bs(bt(m),c)];else{c=d.filter[a[i].type].apply(null,a[i].matches);if(c[u]){e=++i;for(;e<f;e++)if(d.relative[a[e].type])break;return bw(i>1&&bt(m),i>1&&br(a.slice(0,i-1).concat({value:a[i-2].type===" "?"*":""})).replace(R,"$1"),c,i<e&&bx(a.slice(i,e)),e<f&&bx(a=a.slice(e)),e<f&&br(a))}m.push(c)}return bt(m)}function by(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=t==null?1:Math.random()||.1,x=u.length;k&&(j=g!==n&&g);for(;q!==x&&(l=u[q])!=null;q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}p+=q;if(c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)!r[q]&&!s[q]&&(s[q]=F.call(i));s=bv(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&bg.uniqueSort(i)}return k&&(w=v,j=t),r};return c?bi(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=bh(),z=bh(),A=bh(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){var c=0,d=a.length;for(;c<d;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|"+".*"+")\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ba=/[+~]/,bb=/'|\\/g,bc=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),bd=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,d&1023|56320)},be=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(bf){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}c=bg.support={},f=bg.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},m=bg.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;if(g===n||g.nodeType!==9||!g.documentElement)return n;n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",be,!1):e.attachEvent&&e.attachEvent("onunload",be)),p=!f(g),c.attributes=bj(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=bj(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=bj(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!="undefined"&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(bc,bd);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(bc,bd);return function(a){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a);if(c.qsa)return b.querySelectorAll(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(a==="*"){while(c=f[e++])c.nodeType===1&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if(p)return b.getElementsByClassName(a)},r=[],q=[];if(c.qsa=$.test(g.querySelectorAll))bj(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a>"+"<select id='"+u+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),bj(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")});return(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&bj(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!d&&d.nodeType===1&&!!(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16)}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,d&1||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:d&4?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return bl(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?bl(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g},bg.matches=function(a,b){return bg(a,null,null,b)},bg.matchesSelector=function(a,b){(a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']");if(c.matchesSelector&&p&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&a.document.nodeType!==11)return d}catch(e){}return bg(b,n,null,[a]).length>0},bg.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},bg.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):undefined;return f!==undefined?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},bg.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},bg.uniqueSort=function(a){var b,d=[],e=0,f=0;l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B);if(l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=bg.getText=function(a){var b,c="",d=0,f=a.nodeType;if(!f)while(b=a[d++])c+=e(b);else if(f===1||f===9||f===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(f===3||f===4)return a.nodeValue;return c},d=bg.selectors={cacheLength:50,createPseudo:bi,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(bc,bd),a[3]=(a[3]||a[4]||a[5]||"").replace(bc,bd),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1].slice(0,3)==="nth"?(a[3]||bg.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(a[3]==="even"||a[3]==="odd")),a[5]=+(a[7]+a[8]||a[3]==="odd")):a[3]&&bg.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(bc,bd).toLowerCase();return a==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!="undefined"&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=bg.attr(d,a);return e==null?b==="!=":b?(e+="",b==="="?e===c:b==="!="?e!==c:b==="^="?c&&e.indexOf(c)===0:b==="*="?c&&e.indexOf(c)>-1:b==="$="?c&&e.slice(-c.length)===c:b==="~="?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:b==="|="?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f=a.slice(0,3)!=="nth",g=a.slice(-4)!=="last",h=b==="of-type";return d===1&&e===0?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:l.nodeType===1)return!1;o=p=a==="only"&&!o&&"nextSibling"}return!0}o=[g?q.firstChild:q.lastChild];if(g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(l.nodeType===1&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:l.nodeType===1)&&++m){s&&((l[u]||(l[u]={}))[a]=[w,m]);if(l===b)break}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||bg.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?bi(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:bi(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?bi(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:bi(function(a){return function(b){return bg(a,b).length>0}}),contains:bi(function(a){return a=a.replace(bc,bd),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:bi(function(a){return W.test(a||"")||bg.error("unsupported lang: "+a),a=a.replace(bc,bd).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||c.indexOf(a+"-")===0;while((b=b.parentNode)&&b.nodeType===1);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},text:function(a){var b;return a.nodeName.toLowerCase()==="input"&&a.type==="text"&&((b=a.getAttribute("type"))==null||b.toLowerCase()==="text")},first:bo(function(){return[0]}),last:bo(function(a,b){return[b-1]}),eq:bo(function(a,b,c){return[c<0?c+b:c]}),even:bo(function(a,b){var c=0;for(;c<b;c+=2)a.push(c);return a}),odd:bo(function(a,b){var c=1;for(;c<b;c+=2)a.push(c);return a}),lt:bo(function(a,b,c){var d=c<0?c+b:c;for(;--d>=0;)a.push(d);return a}),gt:bo(function(a,b,c){var d=c<0?c+b:c;for(;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=bm(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=bn(b);return bq.prototype=d.filters=d.pseudos,d.setFilters=new bq,g=bg.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){if(!c||(e=S.exec(h)))e&&(h=h.slice(e[0].length)||h),i.push(f=[]);c=!1;if(e=T.exec(h))c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length);for(g in d.filter)(e=X[g].exec(h))&&(!j[g]||(e=j[g](e)))&&(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?bg.error(a):z(a,i).slice(0)},h=bg.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=bx(b[c]),f[u]?d.push(f):e.push(f);f=A(a,by(e,d)),f.selector=a}return f},i=bg.select=function(a,b,e,f){var i,j,k,l,m,n=typeof a=="function"&&a,o=!f&&g(a=n.selector||a);e=e||[];if(o.length===1){j=o[0]=o[0].slice(0);if(j.length>2&&(k=j[0]).type==="ID"&&c.getById&&b.nodeType===9&&p&&d.relative[j[1].type]){b=(d.find.ID(k.matches[0].replace(bc,bd),b)||[])[0];if(!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){k=j[i];if(d.relative[l=k.type])break;if(m=d.find[l])if(f=m(k.matches[0].replace(bc,bd),ba.test(j[0].type)&&bp(b.parentNode)||b)){j.splice(i,1),a=f.length&&br(j);if(!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ba.test(a)&&bp(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=bj(function(a){return a.compareDocumentPosition(n.createElement("div"))&1}),bj(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild.getAttribute("href")==="#"})||bk("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,b.toLowerCase()==="type"?1:2)}),(!c.attributes||!bj(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),a.firstChild.getAttribute("value")===""}))&&bk("value",function(a,b,c){if(!c&&a.nodeName.toLowerCase()==="input")return a.defaultValue}),bj(function(a){return a.getAttribute("disabled")==null})||bk(K,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),bg}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),b.length===1&&d.nodeType===1?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return a.nodeType===1}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(typeof a!="string")return this.pushStack(m(a).filter(function(){for(b=0;b<e;b++)if(m.contains(d[b],this))return!0}));for(b=0;b<e;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,typeof a=="string"&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?c=[null,a,null]:c=z.exec(a);if(c&&(c[1]||!b)){if(c[1]){b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0));if(u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}d=y.getElementById(c[2]);if(d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?typeof x.ready!="undefined"?x.ready(a):a(m):(a.selector!==undefined&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&e.nodeType!==9&&(c===undefined||e.nodeType!==1||!m(e).is(c)))e.nodeType===1&&d.push(e),e=e[b];return d},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g=t.test(a)||typeof a!="string"?m(a,b||this.context):0;for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:c.nodeType===1&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?typeof a=="string"?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),m.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return a.slice(-5)!=="Until"&&(d=c),d&&typeof d=="string"&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};m.Callbacks=function(a){a=typeof a=="string"?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;for(;h&&f<e;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;(function f(b){m.each(b,function(b,c){var d=m.type(c);d==="function"?(!a.unique||!k.has(c))&&h.push(c):c&&c.length&&d!=="string"&&f(c)})})(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(d<=e&&e--,d<=f&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!!h&&!!h.length},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=undefined,this},disabled:function(){return!h},lock:function(){return i=undefined,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return h&&(!d||i)&&(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return a!=null?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=e!==1||a&&m.isFunction(a.promise)?e:0,g=f===1?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){i=new Array(e),j=new Array(e),k=new Array(e);for(;b<e;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?--m.readyWait:m.isReady)return;if(!y.body)return setTimeout(m.ready);m.isReady=!0;if(a!==!0&&--m.readyWait>0)return;H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready"))}}),m.ready.promise=function(b){if(!H){H=m.Deferred();if(y.readyState==="complete")setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=a.frameElement==null&&y.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}return H.promise(b)};var K=typeof undefined,L;for(L in m(k))break;k.ownLast=L!=="0",k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0];if(!c||!c.style)return;b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=b.offsetWidth===3,a&&(c.style.zoom=1)),c.removeChild(d)}),function(){var a=y.createElement("div");if(k.deleteExpando==null){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return c!==1&&c!==9?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(a===undefined){if(this.length){e=m.data(f);if(f.nodeType===1&&!m._data(f,"parsedAttrs")){c=g.length;while(c--)g[c]&&(d=g[c].name,d.indexOf("data-")===0&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}}return e}return typeof a=="object"?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):undefined},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return typeof a!="string"&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):b===undefined?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),a==="fx"&&c[0]!=="inprogress"&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};typeof a!="string"&&(b=a,a=undefined),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,m.css(a,"display")==="none"||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=c==null;if(m.type(c)==="object"){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(d!==undefined){e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)}));if(b)for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;(function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=b.firstChild.nodeType===3,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone=y.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click());if(k.deleteExpando==null){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}})(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(!r)return;c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||!!a&&m.event.triggered===a.type?undefined:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort();if(!o)continue;j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i);if(!(n=g[o])){n=g[o]=[],n.delegateCount=0;if(!j.setup||j.setup.call(a,d,p,k)===!1)a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k)}j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0}a=null},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(!r||!(k=r.events))return;b=(b||"").match(E)||[""],j=b.length;while(j--){h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort();if(!o){for(o in k)m.event.remove(a,o+b[j],c,d,!0);continue}l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],(e||q===g.origType)&&(!c||c.guid===g.guid)&&(!h||h.test(g.namespace))&&(!d||d===g.selector||d==="**"&&g.selector)&&(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&((!l.teardown||l.teardown.call(a,p,r.handle)===!1)&&m.removeEvent(a,o,r.handle),delete k[o])}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];h=l=d=d||y;if(d.nodeType===3||d.nodeType===8)return;if($.test(p+m.event.triggered))return;p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,typeof b=="object"&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=undefined,b.target||(b.target=d),c=c==null?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{};if(!e&&k.trigger&&k.trigger.apply(d,c)===!1)return;if(!e&&!k.noBubble&&!m.isWindow(d)){i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);for(;h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());b.type=p;if(!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=undefined,l&&(d[g]=l)}return b.result},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};i[0]=a,a.delegateTarget=this;if(k.preDispatch&&k.preDispatch.call(this,a)===!1)return;h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())if(!a.namespace_re||a.namespace_re.test(e.namespace))a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),c!==undefined&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation())}return k.postDispatch&&k.postDispatch.call(this,a),a.result},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||a.type!=="click"))for(;i!=this;i=i.parentNode||this)if(i.nodeType===1&&(i.disabled!==!0||a.type!=="click")){e=[];for(f=0;f<h;f++)d=b[f],c=d.selector+" ",e[c]===undefined&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return a.pageX==null&&b.clientX!=null&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),!a.which&&f!==undefined&&(a.which=f&1?1:f&2?3:f&4?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==bc()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===bc()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(m.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==undefined&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){if(this instanceof m.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===undefined&&a.returnValue===!1?ba:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),this[m.expando]=!0;else return new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ba;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ba;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ba,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;if(!e||e!==d&&!m.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){if(m.nodeName(this,"form"))return!1;m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:undefined;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(m.nodeName(this,"form"))return!1;m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){if(X.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")m.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)});return!1}m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if(typeof a=="object"){typeof b!="string"&&(c=c||b,b=undefined);for(f in a)this.on(f,b,c,a[f],e);return this}c==null&&d==null?(d=b,c=b=undefined):d==null&&(typeof b=="string"?(d=c,c=undefined):(d=c,c=b,b=undefined));if(d===!1)d=bb;else if(!d)return this;return e===1&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if(typeof a=="object"){for(e in a)this.off(e,b,a[e]);return this}if(b===!1||typeof b=="function")c=b,b=undefined;return c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return m.event.trigger(a,b,c,!0)}});var be="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bf=/ jQuery\d+="(?:null|\d+)"/g,bg=new RegExp("<(?:"+be+")[\\s/>]","i"),bh=/^\s+/,bi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bj=/<([\w:]+)/,bk=/<tbody/i,bl=/<|&#?\w+;/,bm=/<(?:script|style|link)/i,bn=/checked\s*(?:[^=]|=\s*.checked.)/i,bo=/^$|\/(?:java|ecma)script/i,bp=/^true\/(.*)/,bq=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,br={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},bs=bd(y),bt=bs.appendChild(y.createElement("div"));br.optgroup=br.option,br.tbody=br.tfoot=br.colgroup=br.caption=br.thead,br.th=br.td,m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);k.html5Clone||m.isXMLDoc(a)||!bg.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(bt.innerHTML=a.outerHTML,bt.removeChild(f=bt.firstChild));if((!k.noCloneEvent||!k.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!m.isXMLDoc(a)){d=bu(f),h=bu(a);for(g=0;(e=h[g])!=null;++g)d[g]&&bB(e,d[g])}if(b)if(c){h=h||bu(a),d=d||bu(f);for(g=0;(e=h[g])!=null;g++)bA(e,d[g])}else bA(a,f);return d=bu(f,"script"),d.length>0&&bz(d,!i&&bu(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){var e,f,g,h,i,j,l,n=a.length,o=bd(b),p=[],q=0;for(;q<n;q++){f=a[q];if(f||f===0)if(m.type(f)==="object")m.merge(p,f.nodeType?[f]:f);else if(!bl.test(f))p.push(b.createTextNode(f));else{h=h||o.appendChild(b.createElement("div")),i=(bj.exec(f)||["",""])[1].toLowerCase(),l=br[i]||br._default,h.innerHTML=l[1]+f.replace(bi,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;!k.leadingWhitespace&&bh.test(f)&&p.push(b.createTextNode(bh.exec(f)[0]));if(!k.tbody){f=i==="table"&&!bk.test(f)?h.firstChild:l[1]==="<table>"&&!bk.test(f)?h:0,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}}h&&o.removeChild(h),k.appendChecked||m.grep(bu(p,"input"),bv),q=0;while(f=p[q++]){if(d&&m.inArray(f,d)!==-1)continue;g=m.contains(f.ownerDocument,f),h=bu(o.appendChild(f),"script"),g&&bz(h);if(c){e=0;while(f=h[e++])bo.test(f.type||"")&&c.push(f)}}return h=null,o},cleanData:function(a,b){var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;for(;(d=a[h])!=null;h++)if(b||m.acceptData(d)){f=d[i],g=f&&j[f];if(g){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return a===undefined?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=bw(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=bw(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){var c,d=a?m.filter(a,this):this,e=0;for(;(c=d[e])!=null;e++)!b&&c.nodeType===1&&m.cleanData(bu(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&bz(bu(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&m.cleanData(bu(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(a===undefined)return b.nodeType===1?b.innerHTML.replace(bf,""):undefined;if(typeof a=="string"&&!bm.test(a)&&(k.htmlSerialize||!bg.test(a))&&(k.leadingWhitespace||!bh.test(a))&&!br[(bj.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bi,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},b.nodeType===1&&(m.cleanData(bu(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(bu(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&typeof p=="string"&&!k.checkClone&&bn.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l){i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,i.childNodes.length===1&&(i=c);if(c){g=m.map(bu(i,"script"),bx),f=g.length;for(;j<l;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,bu(d,"script"))),b.call(this[j],d,j);if(f){h=g[g.length-1].ownerDocument,m.map(g,by);for(j=0;j<f;j++)d=g[j],bo.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(bq,"")))}i=c=null}}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){var c,d=0,e=[],g=m(a),h=g.length-1;for(;d<=h;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var bC,bD={};(function(){var a;k.shrinkWrapBlocks=function(){if(a!=null)return a;a=!1;var b,c,d;c=y.getElementsByTagName("body")[0];if(!c||!c.style)return;return b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=b.offsetWidth!==3),c.removeChild(d),a}})();var bG=/^margin/,bH=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),bI,bJ,bK=/^(top|right|bottom|left)$/;a.getComputedStyle?(bI=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},bJ=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bI(a),g=c?c.getPropertyValue(b)||c[b]:undefined,c&&(g===""&&!m.contains(a.ownerDocument,a)&&(g=m.style(a,b)),bH.test(g)&&bG.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),g===undefined?g:g+""}):y.documentElement.currentStyle&&(bI=function(a){return a.currentStyle},bJ=function(a,b,c){var d,e,f,g,h=a.style;return c=c||bI(a),g=c?c[b]:undefined,g==null&&h&&h[b]&&(g=h[b]),bH.test(g)&&!bK.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left=b==="fontSize"?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),g===undefined?g:g+""||"auto"}),function(){function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0];if(!c||!c.style)return;b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e=(a.getComputedStyle(b,null)||{}).top!=="1%",f=(a.getComputedStyle(b,null)||{width:"4px"}).width==="4px",i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=i[0].offsetHeight===0,g&&(i[0].style.display="",i[1].style.display="none",g=i[0].offsetHeight===0),c.removeChild(d)}var b,c,d,e,f,g,h;b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style;if(!c)return;c.cssText="float:left;opacity:.5",k.opacity=c.opacity==="0.5",k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=b.style.backgroundClip==="content-box",k.boxSizing=c.boxSizing===""||c.MozBoxSizing===""||c.WebkitBoxSizing==="",m.extend(k,{reliableHiddenOffsets:function(){return g==null&&i(),g},boxSizingReliable:function(){return f==null&&i(),f},pixelPosition:function(){return e==null&&i(),e},reliableMarginRight:function(){return h==null&&i(),h}})}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var bM=/alpha\([^)]*\)/i,bN=/opacity\s*=\s*([^)]*)/,bO=/^(none|table(?!-c[ea]).+)/,bP=new RegExp("^("+S+")(.*)$","i"),bQ=new RegExp("^([+-])=("+S+")","i"),bR={position:"absolute",visibility:"hidden",display:"block"},bS={letterSpacing:"0",fontWeight:"400"},bT=["Webkit","O","Moz","ms"];m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bJ(a,"opacity");return c===""?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var e,f,g,h=m.camelCase(b),i=a.style;b=m.cssProps[h]||(m.cssProps[h]=bU(i,h)),g=m.cssHooks[b]||m.cssHooks[h];if(c===undefined)return g&&"get"in g&&(e=g.get(a,!1,d))!==undefined?e:i[b];f=typeof c,f==="string"&&(e=bQ.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number");if(c==null||c!==c)return;f==="number"&&!m.cssNumber[h]&&(c+="px"),!k.clearCloneStyle&&c===""&&b.indexOf("background")===0&&(i[b]="inherit");if(!g||!("set"in g)||(c=g.set(a,c,d))!==undefined)try{i[b]=c}catch(j){}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=bU(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),f===undefined&&(f=bJ(a,b,d)),f==="normal"&&b in bS&&(f=bS[b]),c===""||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){if(c)return bO.test(m.css(a,"display"))&&a.offsetWidth===0?m.swap(a,bR,function(){return bY(a,b,d)}):bY(a,b,d)},set:function(a,c,d){var e=d&&bI(a);return bW(a,c,d?bX(a,b,d,k.boxSizing&&m.css(a,"boxSizing",!1,e)==="border-box",e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return bN.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if((b>=1||b==="")&&m.trim(f.replace(bM,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(b===""||d&&!d.filter)return}c.filter=bM.test(f)?f.replace(bM,e):f+" "+e}}),m.cssHooks.marginRight=bL(k.reliableMarginRight,function(a,b){if(b)return m.swap(a,{display:"inline-block"},bJ,[a,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){var d=0,e={},f=typeof c=="string"?c.split(" "):[c];for(;d<4;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},bG.test(a)||(m.cssHooks[a+b].set=bW)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){d=bI(a),e=b.length;for(;g<e;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return c!==undefined?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return bV(this,!0)},hide:function(){return bV(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}}),m.Tween=bZ,bZ.prototype={constructor:bZ,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=bZ.propHooks[this.prop];return a&&a.get?a.get(this):bZ.propHooks._default.get(this)},run:function(a){var b,c=bZ.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):bZ.propHooks._default.set(this),this}},bZ.prototype.init.prototype=bZ.prototype,bZ.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=m.css(a.elem,a.prop,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(a.elem.style[m.cssProps[a.prop]]!=null||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},bZ.propHooks.scrollTop=bZ.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=bZ.prototype.init,m.fx.step={};var b$,b_,ca=/^(?:toggle|show|hide)$/,cb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,cd=[ci],ce={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||f!=="px"&&+d)&&cb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&h!==1&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};m.Animation=m.extend(ck,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],ce[c]=ce[c]||[],ce[c].unshift(b)},prefilter:function(a,b){b?cd.unshift(a):cd.push(a)}}),m.speed=function(a,b,c){var d=a&&typeof a=="object"?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};d.duration=m.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=ck(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return typeof a!="string"&&(c=b,b=a,a=undefined),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=a!=null&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem===this&&(a==null||f[e].queue===a)&&(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0);for(b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return a==null||typeof a=="boolean"?c.apply(this,arguments):this.animate(cg(b,!0),a,d,e)}}),m.each({slideDown:cg("show"),slideUp:cg("hide"),slideToggle:cg("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;b$=m.now();for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||m.fx.stop(),b$=undefined},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){b_||(b_=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(b_),b_=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute=b.className!=="t",k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized=d.getAttribute("href")==="/a",k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=a.getAttribute("value")==="",a.value="t",a.setAttribute("type","radio"),k.radioValue=a.value==="t"}();var cl=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(!arguments.length){if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&(c=b.get(e,"value"))!==undefined?c:(c=e.value,typeof c=="string"?c.replace(cl,""):c==null?"":c);return}return d=m.isFunction(a),this.each(function(c){var e;if(this.nodeType!==1)return;d?e=a.call(this,c,m(this).val()):e=a,e==null?e="":typeof e=="number"?e+="":m.isArray(e)&&(e=m.map(e,function(a){return a==null?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||b.set(this,e,"value")===undefined)this.value=e})}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return b!=null?b:m.trim(m.text(a))}},select:{get:function(a){var b,c,d=a.options,e=a.selectedIndex,f=a.type==="select-one"||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;for(;i<h;i++){c=d[i];if((c.selected||i===e)&&(k.optDisabled?!c.disabled:c.getAttribute("disabled")===null)&&(!c.parentNode.disabled||!m.nodeName(c.parentNode,"optgroup"))){b=m(c).val();if(f)return b;g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){d=e[g];if(m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){if(m.isArray(b))return a.checked=m.inArray(m(a).val(),b)>=0}},k.checkOn||(m.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})});var cm,cn,co=m.expr.attrHandle,cp=/^(?:checked|selected)$/i,cq=k.getSetAttribute,cr=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(!a||f===3||f===8||f===2)return;if(typeof a.getAttribute===K)return m.prop(a,b,c);if(f!==1||!m.isXMLDoc(a))b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?cn:cm);if(c===undefined)return d&&"get"in d&&(e=d.get(a,b))!==null?e:(e=m.find.attr(a,b),e==null?undefined:e);if(c===null)m.removeAttr(a,b);else return d&&"set"in d&&(e=d.set(a,c,b))!==undefined?e:(a.setAttribute(b,c+""),c)},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&a.nodeType===1)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?cr&&cq||!cp.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(cq?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&b==="radio"&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),cn={set:function(a,b,c){return b===!1?m.removeAttr(a,c):cr&&cq||!cp.test(c)?a.setAttribute(!cq&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=co[b]||m.find.attr;co[b]=cr&&cq||!cp.test(b)?function(a,b,d){var e,f;return d||(f=co[b],co[b]=e,e=c(a,b,d)!=null?b.toLowerCase():null,co[b]=f),e}:function(a,b,c){if(!c)return a[m.camelCase("default-"+b)]?b.toLowerCase():null}});if(!cr||!cq)m.attrHooks.value={set:function(a,b,c){if(m.nodeName(a,"input"))a.defaultValue=b;else return cm&&cm.set(a,b,c)}};cq||(cm={set:function(a,b,c){var d=a.getAttributeNode(c);d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="";if(c==="value"||b===a.getAttribute(c))return b}},co.id=co.name=co.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&d.value!==""?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:cm.set},m.attrHooks.contenteditable={set:function(a,b,c){cm.set(a,b===""?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||undefined},set:function(a,b){return a.style.cssText=b+""}});var cs=/^(?:input|select|textarea|button|object)$/i,ct=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=undefined,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(!a||g===3||g===8||g===2)return;return f=g!==1||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),c!==undefined?e&&"set"in e&&(d=e.set(a,c,b))!==undefined?d:a[b]=c:e&&"get"in e&&(d=e.get(a,b))!==null?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):cs.test(a.nodeName)||ct.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var cu=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=typeof a=="string"&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j){b=(a||"").match(E)||[];for(;h<i;h++){c=this[h],d=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(cu," "):" ");if(d){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=arguments.length===0||typeof a=="string"&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j){b=(a||"").match(E)||[];for(;h<i;h++){c=this[h],d=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(cu," "):"");if(d){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return typeof b=="boolean"&&c==="string"?b?this.addClass(a):this.removeClass(a):m.isFunction(a)?this.each(function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else if(c===K||c==="boolean")this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(cu," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)}});var cv=m.now(),cw=/\?/,cx=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(cx,function(a,b,e,f){return c&&b&&(d=0),d===0?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||typeof b!="string")return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=undefined}return(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)&&m.error("Invalid XML: "+b),c};var cy,cz,cA=/#.*$/,cB=/([?&])_=[^&]*/,cC=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cD=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,cE=/^(?:GET|HEAD)$/,cF=/^\/\//,cG=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,cH={},cI={},cJ="*/".concat("*");try{cz=location.href}catch(cK){cz=y.createElement("a"),cz.href="",cz=cz.href}cy=cG.exec(cz.toLowerCase())||[],m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cz,type:"GET",isLocal:cD.test(cy[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cJ,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?cN(cN(a,m.ajaxSettings),b):cN(m.ajaxSettings,a)},ajaxPrefilter:cL(cH),ajaxTransport:cL(cI),ajax:function(a,b){function x(a,b,c,d){var j,r,s,u,w,x=b;if(t===2)return;t=2,g&&clearTimeout(g),i=undefined,f=d||"",v.readyState=a>0?4:0,j=a>=200&&a<300||a===304,c&&(u=cO(k,v,c)),u=cP(k,u,v,j);if(j)k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),a===204||k.type==="HEAD"?x="nocontent":a===304?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s);else{s=x;if(a||!x)x="error",a<0&&(a=0)}v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=undefined,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop"))}typeof a=="object"&&(b=a,a=undefined),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(t===2){if(!j){j={};while(b=cC.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return b==null?null:b},getAllResponseHeaders:function(){return t===2?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||cz)+"").replace(cA,"").replace(cF,cy[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],k.crossDomain==null&&(c=cG.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===cy[1]&&c[2]===cy[2]&&(c[3]||(c[1]==="http:"?"80":"443"))===(cy[3]||(cy[1]==="http:"?"80":"443")))),k.data&&k.processData&&typeof k.data!="string"&&(k.data=m.param(k.data,k.traditional)),cM(cH,k,b,v);if(t===2)return v;h=m.event&&k.global,h&&m.active++===0&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!cE.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(cw.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=cB.test(e)?e.replace(cB,"$1_="+cv++):e+(cw.test(e)?"&":"?")+"_="+cv++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+cJ+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(!k.beforeSend||k.beforeSend.call(l,v,k)!==!1&&t!==2){u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);i=cM(cI,k,b,v);if(!i)x(-1,"No Transport");else{v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(t<2)x(-1,w);else throw w}}return v}return v.abort()},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,undefined,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=undefined),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return m.isFunction(a)?this.each(function(b){m(this).wrapInner(a.call(this,b))}):this.each(function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&(a.style&&a.style.display||m.css(a,"display"))==="none"},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var cQ=/%20/g,cR=/\[\]$/,cS=/\r?\n/g,cT=/^(?:submit|button|image|reset|file)$/i,cU=/^(?:input|select|textarea|keygen)/i;m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():b==null?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===undefined&&(b=m.ajaxSettings&&m.ajaxSettings.traditional);if(m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)cV(c,a[c],b,e);return d.join("&").replace(cQ,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&cU.test(this.nodeName)&&!cT.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return c==null?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(cS,"\r\n")}}):{name:b.name,value:c.replace(cS,"\r\n")}}).get()}}),m.ajaxSettings.xhr=a.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&cZ()||c$()}:cZ;var cW=0,cX={},cY=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in cX)cX[a](undefined,!0)}),k.cors=!!cY&&"withCredentials"in cY,cY=k.ajax=!!cY,cY&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++cW;f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),!a.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");for(e in c)c[e]!==undefined&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||f.readyState===4)){delete cX[g],b=undefined,f.onreadystatechange=m.noop;if(e)f.readyState!==4&&f.abort();else{j={},h=f.status,typeof f.responseText=="string"&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}!h&&a.isLocal&&!a.crossDomain?h=j.text?200:404:h===1223&&(h=204)}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?f.readyState===4?setTimeout(b):f.onreadystatechange=cX[g]=b:b()},abort:function(){b&&b(undefined,!0)}}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){a.cache===undefined&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success")},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(undefined,!0)}}}});var c_=[],da=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=c_.pop()||m.expando+"_"+cv++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(da.test(b.url)?"url":typeof b.data=="string"&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&da.test(b.data)&&"data");if(h||b.dataTypes[0]==="jsonp")return e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(da,"$1"+e):b.jsonp!==!1&&(b.url+=(cw.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,c_.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=undefined}),"script"}),m.parseHTML=function(a,b,c){if(!a||typeof a!="string")return null;typeof b=="boolean"&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var db=m.fn.load;m.fn.load=function(a,b,c){if(typeof a!="string"&&db)return db.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=undefined):b&&typeof b=="object"&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var dc=a.document.documentElement;m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};k==="static"&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=(k==="absolute"||k==="fixed")&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),b.top!=null&&(n.top=b.top-h.top+g),b.left!=null&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return a===undefined?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(!f)return;return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(!this[0])return;var a,b,c={top:0,left:0},d=this[0];return m.css(d,"position")==="fixed"?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||dc;while(a&&!m.nodeName(a,"html")&&m.css(a,"position")==="static")a=a.offsetParent;return a||dc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);if(e===undefined)return f?b in f?f[b]:f.document.documentElement[d]:a[d];f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=bL(k.pixelPosition,function(a,c){if(c)return c=bJ(a,b),bH.test(c)?m(a).position()[b]+"px":c})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||typeof d!="boolean"),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:b.nodeType===9?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):d===undefined?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:undefined,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return m});var de=a.jQuery,df=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=df),b&&a.jQuery===m&&(a.jQuery=de),m},typeof b===K&&(a.jQuery=a.$=m),m}),function(a){typeof define=="function"&&define.amd?define(["jquery"],a):typeof exports=="object"?a(require("jquery")):a(jQuery)}(function(a){function c(a){return h.raw?a:encodeURIComponent(a)}function d(a){return h.raw?a:decodeURIComponent(a)}function e(a){return c(h.json?JSON.stringify(a):String(a))}function f(a){a.indexOf('"')===0&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(b," ")),h.json?JSON.parse(a):a}catch(c){}}function g(b,c){var d=h.raw?b:f(b);return a.isFunction(c)?c(d):d}var b=/\+/g,h=a.cookie=function(b,f,i){if(f!==undefined&&!a.isFunction(f)){i=a.extend({},h.defaults,i);if(typeof i.expires=="number"){var j=i.expires,k=i.expires=new Date;k.setTime(+k+j*864e5)}return document.cookie=[c(b),"=",e(f),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var l=b?undefined:{},m=document.cookie?document.cookie.split("; "):[];for(var n=0,o=m.length;n<o;n++){var p=m[n].split("="),q=d(p.shift()),r=p.join("=");if(b&&b===q){l=g(r,f);break}!b&&(r=g(r))!==undefined&&(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return a.cookie(b)===undefined?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){var b,c,d,e,f,g,h,i="Close",j="BeforeClose",k="AfterClose",l="BeforeAppend",m="MarkupParse",n="Open",o="Change",p="mfp",q="."+p,r="mfp-ready",s="mfp-removing",t="mfp-prevent-close",u=function(){},v=!!window.jQuery,w=a(window),x=function(a,c){b.ev.on(p+a+q,c)},y=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(c,d){b.ev.triggerHandler(p+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},A=function(c){return c===h&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),h=c),b.currTemplate.closeBtn},B=function(){a.magnificPopup.instance||(b=new u,b.init(),a.magnificPopup.instance=b)},C=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};u.prototype={constructor:u,init:function(){var c=navigator.appVersion;b.isIE7=-1!==c.indexOf("MSIE 7."),b.isIE8=-1!==c.indexOf("MSIE 8."),b.isLowIE=b.isIE7||b.isIE8,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=C(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document.body),e=a(document),b.popupsCache={}},open:function(c){var d;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var f,h=c.items;for(d=0;h.length>d;d++)if(f=h[d],f.parsed&&(f=f.el[0]),f===c.el[0]){b.index=d;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return b.updateItemHTML(),void 0;b.types=[],g="",b.ev=c.mainEl&&c.mainEl.length?c.mainEl.eq(0):e,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=y("bg").on("click"+q,function(){b.close()}),b.wrap=y("wrap").attr("tabindex",-1).on("click"+q,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=y("container",b.wrap)),b.contentContainer=y("content"),b.st.preloader&&(b.preloader=y("preloader",b.container,b.st.tLoading));var i=a.magnificPopup.modules;for(d=0;i.length>d;d++){var j=i[d];j=j.charAt(0).toUpperCase()+j.slice(1),b["init"+j].call(b)}z("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(x(m,function(a,b,c,d){c.close_replaceWith=A(d.type)}),g+=" mfp-close-btn-in"):b.wrap.append(A())),b.st.alignTop&&(g+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:w.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:e.height(),position:"absolute"}),b.st.enableEscapeKey&&e.on("keyup"+q,function(a){27===a.keyCode&&b.close()}),w.on("resize"+q,function(){b.updateSize()}),b.st.closeOnContentClick||(g+=" mfp-auto-cursor"),g&&b.wrap.addClass(g);var k=b.wH=w.height(),l={};if(b.fixedContentPos&&b._hasScrollBar(k)){var o=b._getScrollbarSize();o&&(l.marginRight=o)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):l.overflow="hidden");var p=b.st.mainClass;return b.isIE7&&(p+=" mfp-ie7"),p&&b._addClassToMFP(p),b.updateItemHTML(),z("BuildControls"),a("html").css(l),b.bgOverlay.add(b.wrap).prependTo(document.body),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(r),b._setFocus()):b.bgOverlay.addClass(r),e.on("focusin"+q,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(k),z(n),c},close:function(){b.isOpen&&(z(j),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(s),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){z(i);var c=s+" "+r+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var d={marginRight:""};b.isIE7?a("body, html").css("overflow",""):d.overflow="",a("html").css(d)}e.off("keyup"+q+" focusin"+q),b.ev.off(q),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,z(k)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||w.height();b.fixedContentPos||b.wrap.css("height",b.wH),z("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(z("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var e=b.st[d]?b.st[d].markup:!1;z("FirstMarkupParse",e),b.currTemplate[d]=e?a(e):!0}f&&f!==c.type&&b.container.removeClass("mfp-"+f+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,z(o,c),f=c.type,b.container.prepend(b.contentContainer),z("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(A()):b.content=a:b.content="",z(l),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d=b.items[c],e=d.type;if(d=d.tagName?{el:a(d)}:{data:d,src:d.src},d.el){for(var f=b.types,g=0;f.length>g;g++)if(d.el.hasClass("mfp-"+f[g])){e=f[g];break}d.src=d.el.attr("data-mfp-src"),d.src||(d.src=d.el.attr("href"))}return d.type=e||b.st.type||"inline",d.index=c,d.parsed=!0,b.items[c]=d,z("ElementParse",d),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||2!==c.which&&!c.ctrlKey&&!c.metaKey){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(g>w.width())return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};z("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(t)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?e.height():document.body.scrollHeight)>(a||w.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(m,[b,c,d]),a.each(c,function(a,c){if(void 0===c||c===!1)return!0;if(e=a.split("_"),e.length>1){var d=b.find(q+"-"+e[0]);if(d.length>0){var f=e[1];"replaceWith"===f?d[0]!==c[0]&&d.replaceWith(c):"img"===f?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(e[1],c)}}else b.find(q+"-"+a).html(c)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.id="mfp-sbm",a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:u.prototype,modules:[],open:function(b,c){return B(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(c){B();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=v?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),v?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var D,E,F,G="inline",H=function(){F&&(E.after(F.addClass(D)).detach(),F=null)};a.magnificPopup.registerModule(G,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(G),x(i+"."+G,function(){H()})},getInline:function(c,d){if(H(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(E||(D=e.hiddenClass,E=y(D),D="mfp-"+D),F=f.after(E).detach().removeClass(D)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var I,J="ajax",K=function(){I&&d.removeClass(I)},L=function(){K(),b.req&&b.req.abort()};a.magnificPopup.registerModule(J,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(J),I=b.st.ajax.cursor,x(i+"."+J,L),x("BeforeChange."+J,L)},getAjax:function(c){I&&d.addClass(I),b.updateStatus("loading");var e=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};z("ParseAjax",g),b.appendContent(a(g.data),J),c.finished=!0,K(),b._setFocus(),setTimeout(function(){b.wrap.addClass(r)},16),b.updateStatus("ready"),z("AjaxContentAdded")},error:function(){K(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(e),""}}});var M,N=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=b.st.image,c=".image";b.types.push("image"),x(n+c,function(){"image"===b.currItem.type&&a.cursor&&d.addClass(a.cursor)}),x(i+c,function(){a.cursor&&d.removeClass(a.cursor),w.off("resize"+q)}),x("Resize"+c,b.resizeImage),b.isLowIE&&x("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,M&&clearInterval(M),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){M&&clearInterval(M),M=setInterval(function(){return d.naturalWidth>0?(b._onImageHasSize(a),void 0):(c>200&&clearInterval(M),c++,3===c?e(10):40===c?e(50):100===c&&e(500),void 0)},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,z("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),c.img[0].naturalWidth>0&&(c.hasSize=!0)}return b._parseMarkup(d,{title:N(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(M&&clearInterval(M),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var O,P=function(){return void 0===O&&(O=void 0!==document.createElement("p").style.MozTransform),O};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,h=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};x("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return k(),void 0;f=h(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,z("ZoomAnimationEnded")},16)},g)},16)}}),x(j+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=h(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),x(i+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(v?d.innerHeight():d[0].offsetHeight)-g-f};return P()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var Q="iframe",R="//about:blank",S=function(a){if(b.currTemplate[Q]){var c=b.currTemplate[Q].find("iframe");c.length&&(a||(c[0].src=R),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(Q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(Q),x("BeforeChange",function(a,b,c){b!==c&&(b===Q?S():c===Q&&S(!0))}),x(i+"."+Q,function(){S()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var T=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},U=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,d=".mfp-gallery",f=Boolean(a.fn.mfpFastClick);return b.direction=!0,c&&c.enabled?(g+=" mfp-gallery",x(n+d,function(){c.navigateByImgClick&&b.wrap.on("click"+d,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),e.on("keydown"+d,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),x("UpdateStatus"+d,function(a,c){c.text&&(c.text=U(c.text,b.currItem.index,b.items.length))}),x(m+d,function(a,d,e,f){var g=b.items.length;e.counter=g>1?U(c.tCounter,f.index,g):""}),x("BuildControls"+d,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(t),g=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(t),h=f?"mfpFastClick":"click";e[h](function(){b.prev()}),g[h](function(){b.next()}),b.isIE7&&(y("b",e[0],!1,!0),y("a",e[0],!1,!0),y("b",g[0],!1,!0),y("a",g[0],!1,!0)),b.container.append(e.add(g))}}),x(o+d,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),x(i+d,function(){e.off(d),b.wrap.off("click"+d),b.arrowLeft&&f&&b.arrowLeft.add(b.arrowRight).destroyMfpFastClick(),b.arrowRight=b.arrowLeft=null}),void 0):!1},next:function(){b.direction=!0,b.index=T(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=T(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;(b.direction?e:d)>=a;a++)b._preloadItem(b.index+a);for(a=1;(b.direction?d:e)>=a;a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=T(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),z("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,z("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var V="retina";a.magnificPopup.registerModule(V,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(x("ImageHasSize."+V,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),x("ElementParse."+V,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),function(){var b=1e3,c="ontouchstart"in window,d=function(){w.off("touchmove"+f+" touchend"+f)},e="mfpFastClick",f="."+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g,h=a(this);if(c){var i,j,k,l,m,n;h.on("touchstart"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,w.on("touchmove"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0],(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)&&(l=!0,d())}).on("touchend"+f,function(a){d(),l||n>1||(g=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){g=!1},b),e())})})}h.on("click"+f,function(){g||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+f+" click"+f),c&&w.off("touchmove"+f+" touchend"+f)}}(),B()}(window.jQuery||window.Zepto),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c:jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}}),!function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?(this._wrapped=a,void 0):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.0";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?a.indexOf(b)!=-1:A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||c===void 0)return 1;if(d>c||d===void 0)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(null==b?x.identity:b);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){return x.unzip.apply(x,h.call(arguments))},x.unzip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(this instanceof d){E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]===void 0&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!(i--))break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!!a&&1===a.nodeType},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!!a&&!!x.has(a,"callee")}),"function"!=typeof /./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return a===void 0},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),!function(a,b,c,d){function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==bk?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<bi.length;){if(c=bi[g],e=c?c+f:b,e in a)return e;g++}return d}function w(){return bo++}function x(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:br?N:bs?Q:bq?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&by&&d-e===0,g=b&(bA|bB)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=bn(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY),b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,D(c,b);var j=a.element;p(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===by||f.eventType===bA)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=bB&&(i>bx||h.velocity===d)){var j=h.deltaX-b.deltaX,k=h.deltaY-b.deltaY,l=G(i,j,k);e=l.x,f=l.y,c=bm(l.x)>bm(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:bl(a.pointers[c].clientX),clientY:bl(a.pointers[c].clientY)},c++;return{timeStamp:bn(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:bl(a[0].clientX),y:bl(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:bl(c/b),y:bl(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?bC:bm(a)>=bm(b)?a>0?bD:bE:b>0?bF:bG}function I(a,b,c){c||(c=bK);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=bK);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],bL)-J(a[1],a[0],bL)}function L(a,b){return I(b[0],b[1],bL)/I(a[0],a[1],bL)}function M(){this.evEl=bN,this.evWin=bO,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=bR,this.evWin=bS,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=bU,this.evWin=bV,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(bA|bB)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=bX,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(by|bz)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===by)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(bA|bB)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){if(q(a,cb))return cb;var b=q(a,cc),c=q(a,cd);return b&&c?cc+" "+cd:b||c?b?cc:cd:q(a,ca)?ca:b_}function V(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=ce,this.simultaneous={},this.requireFail=[]}function W(a){return a&cj?"cancel":a&ch?"end":a&cg?"move":a&cf?"start":""}function X(a){return a==bG?"down":a==bF?"up":a==bD?"left":a==bE?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function ba(){V.apply(this,arguments),this._timer=null,this._input=null}function bb(){Z.apply(this,arguments)}function bc(){Z.apply(this,arguments)}function bd(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function be(a,b){return b=b||{},b.recognizers=m(b.recognizers,be.defaults.preset),new bf(a,b)}function bf(a,b){b=b||{},this.options=i(b,be.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),bg(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function bg(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function bh(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}"use strict";var bi=["","webkit","moz","MS","ms","o"],bj=b.createElement("div"),bk="function",bl=Math.round,bm=Math.abs,bn=Date.now,bo=1,bp=/mobile|tablet|ip(ad|hone|od)|android/i,bq="ontouchstart"in a,br=v(a,"PointerEvent")!==d,bs=bq&&bp.test(navigator.userAgent),bt="touch",bu="pen",bv="mouse",bw="kinect",bx=25,by=1,bz=2,bA=4,bB=8,bC=1,bD=2,bE=4,bF=8,bG=16,bH=bD|bE,bI=bF|bG,bJ=bH|bI,bK=["x","y"],bL=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var bM={mousedown:by,mousemove:bz,mouseup:bA},bN="mousedown",bO="mousemove mouseup";j(M,y,{handler:function(a){var b=bM[a.type];b&by&&0===a.button&&(this.pressed=!0),b&bz&&1!==a.which&&(b=bA),this.pressed&&this.allow&&(b&bA&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:bv,srcEvent:a}))}});var bP={pointerdown:by,pointermove:bz,pointerup:bA,pointercancel:bB,pointerout:bB},bQ={2:bt,3:bu,4:bv,5:bw},bR="pointerdown",bS="pointermove pointerup pointercancel";a.MSPointerEvent&&(bR="MSPointerDown",bS="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=bP[d],f=bQ[a.pointerType]||a.pointerType,g=f==bt,h=s(b,a.pointerId,"pointerId");e&by&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(bA|bB)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var bT={touchstart:by,touchmove:bz,touchend:bA,touchcancel:bB},bU="touchstart",bV="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=bT[a.type];if(b===by&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(bA|bB)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:bt,srcEvent:a})}}});var bW={touchstart:by,touchmove:bz,touchend:bA,touchcancel:bB},bX="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=bW[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:bt,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==bt,e=c.pointerType==bv;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(bA|bB)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bY=v(bj.style,"touchAction"),bZ=bY!==d,b$="compute",b_="auto",ca="manipulation",cb="none",cc="pan-x",cd="pan-y";T.prototype={set:function(a){a==b$&&(a=this.compute()),bZ&&(this.manager.element.style[bY]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){if(!bZ){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,cb),f=q(d,cd),g=q(d,cc);return e||f&&c&bH||g&&c&bI?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var ce=1,cf=2,cg=4,ch=8,ci=ch,cj=16,ck=32;V.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?W(d):""),a)}var c=this,d=this.state;ch>d&&b(!0),b(),d>=ch&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void (this.state=ck)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(ck|ce)))return!1;a++}return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(ci|cj|ck)&&(this.state=ce),this.state=this.process(b),void (this.state&(cf|cg|ch|cj)&&this.tryEmit(b))):(this.reset(),void (this.state=ck))},process:function(){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(cf|cg),e=this.attrTest(a);return d&&(c&bB||!e)?b|cj:d||e?c&bA?b|ch:b&cf?b|cg:cf:ck}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:bJ},getTouchAction:function(){var a=this.options.direction,b=[];return a&bH&&b.push(cd),a&bI&&b.push(cc),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&bH?(e=0===f?bC:0>f?bD:bE,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?bC:0>g?bF:bG,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&cf||!(this.state&cf)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[cb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&cf)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(ba,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[b_]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(bA|bB)&&!f)this.reset();else if(a.eventType&by)this.reset(),this._timer=e(function(){this.state=ci,this.tryEmit()},b.time,this);else if(a.eventType&bA)return ci;return ck},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===ci&&(a&&a.eventType&bA?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=bn(),this.manager.emit(this.options.event,this._input)))}}),j(bb,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[cb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&cf)}}),j(bc,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:bH|bI,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(bH|bI)?b=a.velocity:c&bH?b=a.velocityX:c&bI&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&bm(b)>this.options.velocity&&a.eventType&bA},emit:function(a){var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(bd,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ca]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&by&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=bA)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=ci,this.tryEmit()},b.interval,this),cf):ci}return ck},failTimeout:function(){return this._timer=e(function(){this.state=ck},this.options.interval,this),ck},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ci&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),be.VERSION="2.0.4",be.defaults={domEvents:!1,touchAction:b$,enable:!0,inputTarget:null,inputClass:null,preset:[[bb,{enable:!1}],[_,{enable:!1},["rotate"]],[bc,{direction:bH}],[$,{direction:bH},["swipe"]],[bd],[bd,{event:"doubletap",taps:2},["tap"]],[ba]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var cl=1,cm=2;bf.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?cm:cl},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&ci)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===cm||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(cf|cg|ch)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof V)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&bh(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&bg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(be,{INPUT_START:by,INPUT_MOVE:bz,INPUT_END:bA,INPUT_CANCEL:bB,STATE_POSSIBLE:ce,STATE_BEGAN:cf,STATE_CHANGED:cg,STATE_ENDED:ch,STATE_RECOGNIZED:ci,STATE_CANCELLED:cj,STATE_FAILED:ck,DIRECTION_NONE:bC,DIRECTION_LEFT:bD,DIRECTION_RIGHT:bE,DIRECTION_UP:bF,DIRECTION_DOWN:bG,DIRECTION_HORIZONTAL:bH,DIRECTION_VERTICAL:bI,DIRECTION_ALL:bJ,Manager:bf,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:bd,Pan:$,Swipe:bc,Pinch:_,Rotate:bb,Press:ba,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==bk&&define.amd?define(function(){return be}):"undefined"!=typeof module&&module.exports?module.exports=be:a[c]=be}(window,document,"Hammer"),function(a,b,c){function f(a,c){this.wrapper=typeof a=="string"?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&e.hasPerspective?" translateZ(0)":"",this.options.useTransition=e.hasTransition&&this.options.useTransition,this.options.useTransform=e.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?e.ease[this.options.bounceEasing]||e.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function g(a,c,d){var e=b.createElement("div"),f=b.createElement("div");return d===!0&&(e.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",a=="h"?(d===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(d===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),e.className="iScrollVerticalScrollbar"),e.style.cssText+=";overflow:hidden",c||(e.style.pointerEvents="none"),e.appendChild(f),e}function h(c,d){this.wrapper=typeof d.el=="string"?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var f in d)this.options[f]=d[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(e.addEvent(this.indicator,"touchstart",this),e.addEvent(a,"touchend",this)),this.options.disablePointer||(e.addEvent(this.indicator,e.prefixPointerEvent("pointerdown"),this),e.addEvent(a,e.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(e.addEvent(this.indicator,"mousedown",this),e.addEvent(a,"mouseup",this))),this.options.fade&&(this.wrapperStyle[e.style.transform]=this.scroller.translateZ,this.wrapperStyle[e.style.transitionDuration]=e.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},e=function(){function g(a){return f===!1?!1:f===""?a:f+a.charAt(0).toUpperCase()+a.substr(1)}var d={},e=b.createElement("div").style,f=function(){var a=["t","webkitT","MozT","msT","OT"],b,c=0,d=a.length;for(;c<d;c++){b=a[c]+"ransform";if(b in e)return a[c].substr(0,a[c].length-1)}return!1}();d.getTime=Date.now||function(){return(new Date).getTime()},d.extend=function(a,b){for(var c in b)a[c]=b[c]},d.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},d.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},d.prefixPointerEvent=function(b){return a.MSPointerEvent?"MSPointer"+b.charAt(9).toUpperCase()+b.substr(10):b},d.momentum=function(a,b,d,e,f,g){var h=a-b,i=c.abs(h)/d,j,k;return g=g===undefined?6e-4:g,j=a+i*i/(2*g)*(h<0?-1:1),k=i/g,j<e?(j=f?e-f/2.5*(i/8):e,h=c.abs(j-a),k=h/i):j>0&&(j=f?f/2.5*(i/8):0,h=c.abs(a)+j,k=h/i),{destination:c.round(j),duration:k}};var h=g("transform");return d.extend(d,{hasTransform:h!==!1,hasPerspective:g("perspective")in e,hasTouch:"ontouchstart"in a,hasPointer:a.PointerEvent||a.MSPointerEvent,hasTransition:g("transition")in e}),d.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),d.extend(d.style={},{transform:h,transitionTimingFunction:g("transitionTimingFunction"),transitionDuration:g("transitionDuration"),transitionDelay:g("transitionDelay"),transformOrigin:g("transformOrigin")}),d.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},d.addClass=function(a,b){if(d.hasClass(a,b))return;var c=a.className.split(" ");c.push(b),a.className=c.join(" ")},d.removeClass=function(a,b){if(!d.hasClass(a,b))return;var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")},d.offset=function(a){var b=-a.offsetLeft,c=-a.offsetTop;while(a=a.offsetParent)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},d.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},d.extend(d.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),d.extend(d.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,d=.4;return a===0?0:a==1?1:d*c.pow(2,-10*a)*c.sin((a-b/4)*2*c.PI/b)+1}}}),d.tap=function(a,c){var d=b.createEvent("Event");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},d.click=function(a){var c=a.target,d;/(SELECT|INPUT|TEXTAREA)/i.test(c.tagName)||(d=b.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._constructed=!0,c.dispatchEvent(d))},d}();f.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){if(a.target!=this.scroller||!this.isInTransition)return;this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd"))},_start:function(a){if(e.eventType[a.type]!=1&&a.button!==0)return;if(!this.enabled||this.initiated&&e.eventType[a.type]!==this.initiated)return;this.options.preventDefault&&!e.isBadAndroid&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b=a.touches?a.touches[0]:a,d;this.initiated=e.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=e.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,d=this.getComputedPosition(),this._translate(c.round(d.x),c.round(d.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent("beforeScrollStart")},_move:function(a){if(!this.enabled||e.eventType[a.type]!==this.initiated)return;this.options.preventDefault&&a.preventDefault();var b=a.touches?a.touches[0]:a,d=b.pageX-this.pointX,f=b.pageY-this.pointY,g=e.getTime(),h,i,j,k;this.pointX=b.pageX,this.pointY=b.pageY,this.distX+=d,this.distY+=f,j=c.abs(this.distX),k=c.abs(this.distY);if(g-this.endTime>300&&j<10&&k<10)return;!this.directionLocked&&!this.options.freeScroll&&(j>k+this.options.directionLockThreshold?this.directionLocked="h":k>=j+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n");if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")a.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}f=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")a.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}d=0}d=this.hasHorizontalScroll?d:0,f=this.hasVerticalScroll?f:0,h=this.x+d,i=this.y+f;if(h>0||h<this.maxScrollX)h=this.options.bounce?this.x+d/3:h>0?0:this.maxScrollX;if(i>0||i<this.maxScrollY)i=this.options.bounce?this.y+f/3:i>0?0:this.maxScrollY;this.directionX=d>0?-1:d<0?1:0,this.directionY=f>0?-1:f<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(h,i),g-this.startTime>300&&(this.startTime=g,this.startX=this.x,this.startY=this.y)},_end:function(a){if(!this.enabled||e.eventType[a.type]!==this.initiated)return;this.options.preventDefault&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b=a.changedTouches?a.changedTouches[0]:a,d,f,g=e.getTime()-this.startTime,h=c.round(this.x),i=c.round(this.y),j=c.abs(h-this.startX),k=c.abs(i-this.startY),l=0,m="";this.isInTransition=0,this.initiated=0,this.endTime=e.getTime();if(this.resetPosition(this.options.bounceTime))return;this.scrollTo(h,i);if(!this.moved){this.options.tap&&e.tap(a,this.options.tap),this.options.click&&e.click(a),this._execEvent("scrollCancel");return}if(this._events.flick&&g<200&&j<100&&k<100){this._execEvent("flick");return}this.options.momentum&&g<300&&(d=this.hasHorizontalScroll?e.momentum(this.x,this.startX,g,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:h,duration:0},f=this.hasVerticalScroll?e.momentum(this.y,this.startY,g,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:i,duration:0},h=d.destination,i=f.destination,l=c.max(d.duration,f.duration),this.isInTransition=1);if(this.options.snap){var n=this._nearestSnap(h,i);this.currentPage=n,l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(h-n.x),1e3),c.min(c.abs(i-n.y),1e3)),300),h=n.x,i=n.y,this.directionX=0,this.directionY=0,m=this.options.bounceEasing}if(h!=this.x||i!=this.y){if(h>0||h<this.maxScrollX||i>0||i<this.maxScrollY)m=e.ease.quadratic;this.scrollTo(h,i,l,m);return}this._execEvent("scrollEnd")},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var a=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=e.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(!this._events[a])return;var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)},_execEvent:function(a){if(!this._events[a])return;var b=0,c=this._events[a].length;if(!c)return;for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||e.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,f,g){a=a.nodeType?a:this.scroller.querySelector(a);if(!a)return;var h=e.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=d||0,h.top-=f||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=b===undefined||b===null||b==="auto"?c.max(c.abs(this.x-h.left),c.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,g)},_transitionTime:function(a){a=a||0,this.scrollerStyle[e.style.transitionDuration]=a+"ms",!a&&e.isBadAndroid&&(this.scrollerStyle[e.style.transitionDuration]="0.001s");if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){this.scrollerStyle[e.style.transitionTimingFunction]=a;if(this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b;if(this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?e.removeEvent:e.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),e.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,e.prefixPointerEvent("pointerdown"),this),c(d,e.prefixPointerEvent("pointermove"),this),c(d,e.prefixPointerEvent("pointercancel"),this),c(d,e.prefixPointerEvent("pointerup"),this)),e.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b=a.getComputedStyle(this.scroller,null),c,d;return this.options.useTransform?(b=b[e.style.transform].split(")")[0].split(", "),c=+(b[12]||b[4]),d=+(b[13]||b[5])):(c=+b.left.replace(/[^-\d.]/g,""),d=+b.top.replace(/[^-\d.]/g,"")),{x:c,y:d}},_initIndicators:function(){function i(a){for(var b=e.indicators.length;b--;)a.call(e.indicators[b])}var a=this.options.interactiveScrollbars,b=typeof this.options.scrollbars!="string",c=[],d,e=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(d={el:g("v",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(d.el),c.push(d)),this.options.scrollX&&(d={el:g("h",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(d.el),c.push(d))),this.options.indicators&&(c=c.concat(this.options.indicators));for(var f=c.length;f--;)this.indicators.push(new h(this,c[f]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){i(function(){this.fade()})}),this.on("scrollCancel",function(){i(function(){this.fade()})}),this.on("scrollStart",function(){i(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){i(function(){this.fade(1,!0)})})),this.on("refresh",function(){i(function(){this.refresh()})}),this.on("destroy",function(){i(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){e.addEvent(this.wrapper,"wheel",this),e.addEvent(this.wrapper,"mousewheel",this),e.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){e.removeEvent(this.wrapper,"wheel",this),e.removeEvent(this.wrapper,"mousewheel",this),e.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(!this.enabled)return;a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;this.wheelTimeout===undefined&&g._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd"),g.wheelTimeout=undefined},400);if("deltaX"in a)a.deltaMode===1?(b=-a.deltaX*this.options.mouseWheelSpeed,d=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,d=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in a)b=d=-a.detail/3*this.options.mouseWheelSpeed;else return;b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0);if(this.options.snap){e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:b<0&&e++,d>0?f--:d<0&&f++,this.goToPage(e,f);return}e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0)},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var a=0,b,d=0,e,f,g,h=0,i,j=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight,l;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight)return;if(this.options.snap===!0){f=c.round(j/2),g=c.round(k/2);while(h>-this.scrollerWidth){this.pages[a]=[],b=0,i=0;while(i>-this.scrollerHeight)this.pages[a][b]={x:c.max(h,this.maxScrollX),y:c.max(i,this.maxScrollY),width:j,height:k,cx:h-f,cy:i-g},i-=k,b++;h-=j,a++}}else{l=this.options.snap,b=l.length,e=-1;for(;a<b;a++){if(a===0||l[a].offsetLeft<=l[a-1].offsetLeft)d=0,e++;this.pages[d]||(this.pages[d]=[]),h=c.max(-l[a].offsetLeft,this.maxScrollX),i=c.max(-l[a].offsetTop,this.maxScrollY),f=h-c.round(l[a].offsetWidth/2),g=i-c.round(l[a].offsetHeight/2),this.pages[d][e]={x:h,y:i,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:f,cy:g},h>this.maxScrollX&&d++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}),this.on("flick",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);for(;d<e;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}e=this.pages[d].length;for(;f<e;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,d<0?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,f<0?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:a<0&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:b<0&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=d===undefined?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,c<0&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(b){var c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},d;if(typeof this.options.keyBindings=="object")for(d in this.options.keyBindings)typeof this.options.keyBindings[d]=="string"&&(this.options.keyBindings[d]=this.options.keyBindings[d].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(d in c)this.options.keyBindings[d]=this.options.keyBindings[d]||c[d];e.addEvent(a,"keydown",this),this.on("destroy",function(){e.removeEvent(a,"keydown",this)})},_key:function(a){if(!this.enabled)return;var b=this.options.snap,d=b?this.currentPage.pageX:this.x,f=b?this.currentPage.pageY:this.y,g=e.getTime(),h=this.keyTime||0,i=.25,j;this.options.useTransition&&this.isInTransition&&(j=this.getComputedPosition(),this._translate(c.round(j.x),c.round(j.y)),this.isInTransition=!1),this.keyAcceleration=g-h<200?c.min(this.keyAcceleration+i,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=b?1:this.wrapperWidth:f+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=b?1:this.wrapperWidth:f-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=b?this.pages.length-1:this.maxScrollX,f=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,f=0;break;case this.options.keyBindings.left:d+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=b?1:5+this.keyAcceleration>>0;break;default:return}if(b){this.goToPage(d,f);return}d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,f,0),this.keyTime=g},_animate:function(a,b,c,f){function l(){var m=e.getTime(),n,o,p;if(m>=k){g.isAnimating=!1,g._translate(a,b),g.resetPosition(g.options.bounceTime)||g._execEvent("scrollEnd");return}m=(m-j)/c,p=f(m),n=(a-h)*p+h,o=(b-i)*p+i,g._translate(n,o),g.isAnimating&&d(l)}var g=this,h=this.x,i=this.y,j=e.getTime(),k=j+c;this.isAnimating=!0,l()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},h.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(e.removeEvent(this.indicator,"touchstart",this),e.removeEvent(this.indicator,e.prefixPointerEvent("pointerdown"),this),e.removeEvent(this.indicator,"mousedown",this),e.removeEvent(a,"touchmove",this),e.removeEvent(a,e.prefixPointerEvent("pointermove"),this),e.removeEvent(a,"mousemove",this),e.removeEvent(a,"touchend",this),e.removeEvent(a,e.prefixPointerEvent("pointerup"),this),e.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=e.getTime(),this.options.disableTouch||e.addEvent(a,"touchmove",this),this.options.disablePointer||e.addEvent(a,e.prefixPointerEvent("pointermove"),this),this.options.disableMouse||e.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b=a.touches?a.touches[0]:a,c,d,f,g,h=e.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,c=b.pageX-this.lastPointX,this.lastPointX=b.pageX,d=b.pageY-this.lastPointY,this.lastPointY=b.pageY,f=this.x+c,g=this.y+d,this._pos(f,g),a.preventDefault(),a.stopPropagation()},_end:function(b){if(!this.initiated)return;this.initiated=!1,b.preventDefault(),b.stopPropagation(),e.removeEvent(a,"touchmove",this),e.removeEvent(a,e.prefixPointerEvent("pointermove"),this),e.removeEvent(a,"mousemove",this);if(this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);if(this.scroller.x!=d.x||this.scroller.y!=d.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,f,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")},transitionTime:function(a){a=a||0,this.indicatorStyle[e.style.transitionDuration]=a+"ms",!a&&e.isBadAndroid&&(this.indicatorStyle[e.style.transitionDuration]="0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[e.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(e.addClass(this.wrapper,"iScrollBothScrollbars"),e.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(e.removeClass(this.wrapper,"iScrollBothScrollbars"),e.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var a=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=c.max(this.indicatorHeight+b*3,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=c.max(this.indicatorHeight-(b-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){a<0?a=0:a>this.maxPosX&&(a=this.maxPosX),b<0?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(b&&!this.visible)return;clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[e.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}},f.utils=e,typeof module!="undefined"&&module.exports?module.exports=f:a.IScroll=f}(window,document,Math),function(a,b){typeof exports=="object"?module.exports=b():typeof define=="function"&&define.amd?define(b):a.Spinner=b()}(this,function(){function e(a,b){var c=document.createElement(a||"div"),d;for(d in b)c[d]=b[d];return c}function f(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function g(a,e,f,g){var h=["opacity",e,~~(a*100),f,g].join("-"),i=.01+f/g*100,j=Math.max(1-(1-a)/e*(100-i),a),k=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=k&&"-"+k+"-"||"";return b[h]||(d.insertRule("@"+l+"keyframes "+h+"{"+"0%{opacity:"+j+"}"+i+"%{opacity:"+a+"}"+(i+.01)+"%{opacity:1}"+(i+e)%100+"%{opacity:"+a+"}"+"100%{opacity:"+j+"}"+"}",d.cssRules.length),b[h]=1),h}function h(b,c){var d=b.style,e,f;c=c.charAt(0).toUpperCase()+c.slice(1);for(f=0;f<a.length;f++){e=a[f]+c;if(d[e]!==undefined)return e}if(d[c]!==undefined)return c}function i(a,b){for(var c in b)a.style[h(a,c)||c]=b[c];return a}function j(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]===undefined&&(a[d]=c[d])}return a}function k(a,b){return typeof a=="string"?a:a[b%a.length]}function m(a){this.opts=j(a||{},m.defaults,l)}function n(){function a(a,b){return e("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',b)}d.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(b,c){function g(){return i(a("group",{coordsize:e+" "+e,coordorigin:-d+" "+ -d}),{width:e,height:e})}function m(b,e,h){f(j,f(i(g(),{rotation:360/c.lines*b+"deg",left:~~e}),f(i(a("roundrect",{arcsize:c.corners}),{width:d,height:c.scale*c.width,left:c.scale*c.radius,top:-c.scale*c.width>>1,filter:h}),a("fill",{color:k(c.color,b),opacity:c.opacity}),a("stroke",{opacity:0}))))}var d=c.scale*(c.length+c.width),e=c.scale*2*d,h=-(c.width+c.length)*c.scale*2+"px",j=i(g(),{position:"absolute",top:h,left:h}),l;if(c.shadow)for(l=1;l<=c.lines;l++)m(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=c.lines;l++)m(l);return f(b,j)},m.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}"use strict";var a=["webkit","Moz","ms","O"],b={},c,d,l={lines:12,length:7,width:5,radius:10,scale:1,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};m.defaults={},j(m.prototype,{spin:function(a){this.stop();var b=this,d=b.opts,f=b.el=i(e(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});i(f,{left:d.left,top:d.top}),a&&a.insertBefore(f,a.firstChild||null),f.setAttribute("role","progressbar"),b.lines(f,b.opts);if(!c){var g=0,h=(d.lines-1)*(1-d.direction)/2,j,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;(function o(){g++;for(var a=0;a<d.lines;a++)j=Math.max(1-(g+(d.lines-a)*n)%l*m,d.opacity),b.opacity(f,a*d.direction+h,j,d);b.timeout=b.el&&setTimeout(o,~~(1e3/k))})()}return b},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=undefined),this},lines:function(a,b){function l(a,c){return i(e(),{position:"absolute",width:b.scale*(b.length+b.width)+"px",height:b.scale*b.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*d+b.rotate)+"deg) translate("+b.scale*b.radius+"px"+",0)",borderRadius:(b.corners*b.scale*b.width>>1)+"px"})}var d=0,h=(b.lines-1)*(1-b.direction)/2,j;for(;d<b.lines;d++)j=i(e(),{position:"absolute",top:1+~(b.scale*b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:c&&g(b.opacity,b.trail,h+d*b.direction,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&f(j,i(l("#000","0 0 4px #000"),{top:"2px"})),f(a,f(j,l(k(b.color,d),"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});if(typeof document!="undefined"){d=function(){var a=e("style",{type:"text/css"});return f(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}();var o=i(e("group"),{behavior:"url(#default#VML)"});!h(o,"transform")&&o.adj?n():c=h(o,"animation")}return m}),"use strict",function(a){a.eg={},a.eg.module=function(b,c,d){d.apply(a,c)}}(window),eg.module("animate",[window.jQuery,window],function(a,b){function e(b){b=b.split(")");var d=a.trim,e=-1,g=b.length-1,h,i,j,k=c?new Float32Array(6):[],l=c?new Float32Array(6):[],m=c?new Float32Array(6):[1,0,0,1,0,0];k[0]=k[3]=m[0]=m[3]=1,k[1]=k[2]=k[4]=k[5]=0;while(++e<g){h=b[e].split("("),i=d(h[0]),j=h[1],l[0]=l[3]=1,l[1]=l[2]=l[4]=l[5]=0;switch(i){case"translateX":l[4]=parseInt(j,10);break;case"translateY":l[5]=parseInt(j,10);break;case"translate":j=j.split(","),l[4]=parseInt(j[0],10),l[5]=parseInt(j[1]||0,10);break;case"rotate":j=f(j),l[0]=Math.cos(j),l[1]=Math.sin(j),l[2]=-Math.sin(j),l[3]=Math.cos(j);break;case"scaleX":l[0]=+j;break;case"scaleY":l[3]=j;break;case"scale":j=j.split(","),l[0]=j[0],l[3]=j.length>1?j[1]:j[0];break;case"skewX":l[2]=Math.tan(f(j));break;case"skewY":l[1]=Math.tan(f(j));break;case"matrix":j=j.split(","),l[0]=j[0],l[1]=j[1],l[2]=j[2],l[3]=j[3],l[4]=parseInt(j[4],10),l[5]=parseInt(j[5],10)}m[0]=k[0]*l[0]+k[2]*l[1],m[1]=k[1]*l[0]+k[3]*l[1],m[2]=k[0]*l[2]+k[2]*l[3],m[3]=k[1]*l[2]+k[3]*l[3],m[4]=k[0]*l[4]+k[2]*l[5]+k[4],m[5]=k[1]*l[4]+k[3]*l[5]+k[5],k=[m[0],m[1],m[2],m[3],m[4],m[5]]}return m}function f(a){return~a.indexOf("deg")?parseInt(a,10)*(Math.PI*2/360):~a.indexOf("grad")?parseInt(a,10)*(Math.PI/200):parseFloat(a)}function g(a,b){var c=a,d=a.match(/([0-9]*)%/);return d&&d.length>=1?c=b*(parseFloat(d[1])/100)+"px":a.indexOf("px")===-1&&(c=a+"px"),c}function h(a,b,c){var d,e="",f=a.split(")");for(var h=0,i=f.length-1;h<i;h++){var j=f[h];if((d=j.match(/(translate([XYZ]|3d)?|rotate)\(([^)]*)/))&&d.length>1)if(d[1]==="rotate")d[3].indexOf("deg")===-1&&(j=d[1]+"("+d[3]+"deg");else switch(d[2]){case"X":j=d[1]+"("+g(d[3],b);break;case"Y":j=d[1]+"("+g(d[3],c);break;case"Z":break;default:var k=d[3].split(","),l=[b,c,100];for(var m=0,n=k.length;m<n;m++)k[m]=g(k[m],l[m]);j=d[1]+"("+k.join(",")}j=" "+j+")",e+=j}return e=e.replace("%","").replace("+=",""),e}function i(a){var b=a.match(/(-*[\d|\.]+)(px|deg|rad)*/);if(b&&b.length>=1)return{num:parseFloat(b[1]),unit:b[2]}}function j(b){var c=b.split(")"),d=[];for(var e=0,f=c.length-1;e<f;e++){var g=n(c[e]);g[1]=a.map(g[1],i),d.push(g)}return function(b){var c="",e=0;return a.each(d,function(f){d[f][0]==="scale"&&(e=1);var g=a.map(d[f][1],function(a){var c=a.num;return e===1&&(c-=1),e+c*b+(a.unit||"")}).join(",");c+=d[f][0]+"("+g+") "}),c}}function k(b,c,d){var e=d.indexOf("+=")>=0,f,g;return d=h(d,parseFloat(a.css(b,"width"))||0,parseFloat(a.css(b,"height"))||0),e?(f=!c||c==="none"?"matrix(1, 0, 0, 1, 0, 0)":c,g=j(d)):(f=o(c),g=o(d),f[1].length<g[1].length?f=p(f):f[1].length>g[1].length&&(g=p(g))),function(a){var b=[],c="";if(e)return c=f+g(a),c;if(a===1)c=l(g);else{for(var d=0,h,i,j=f[1].length;d<j;d++)h=parseFloat(f[1][d]),i=parseFloat(g[1][d]),b.push(h+(i-h)*a);c=l([f[0],b])}return c}}function l(b){var c,d=[];if(a.isArray(b))return c=b[0],c+"("+b[1].join(m(c)+",")+m(c)+")";for(c in b)d.push(c);return a.map(d,function(a){return a+"("+b[a]+m(a)+")"}).join(" ")}function m(a){return a.indexOf("translate")>=0?"px":a.indexOf("rotate")>=0?"deg":""}function n(b){var c=b.match(/(\b\w+?)\((\s*[^\)]+)/),d,e,f=["",""];return c&&c.length>2&&(d=c[1],e=c[2].split(","),e=a.map(e,function(b){return a.trim(b)}),f=[a.trim(d),e]),f}function o(a){return!a||a==="none"?["matrix",["1","0","0","1","0","0"]]:d?n((new d(a)).toString()):["matrix",e(a)]}function p(a){var b=a[0],c=a[1];return"matrix3d"===b?a:[b+"3d",[c[0],c[1],"0","0",c[2],c[3],"0","0","0","0","1","0",c[4],c[5],"0","1"]]}var c="Float32Array"in window,d=b.WebKitCSSMatrix||b.MSCSSMatrix||b.OCSSMatrix||b.MozMatrix||b.CSSMatrix;return a.fx.step.transform=function(b){b.rateFn=b.rateFn||k(b.elem,b.start,b.end),a.style(b.elem,"transform",b.rateFn(b.pos))},{toMatrix:o,toMatrix3d:p}}),eg.module("css",[window.jQuery,document],function(a,b){if(!a.cssHooks)throw new Error("jQuery 1.4.3+ is needed for this plugin to work");if(a.fn&&a.fn.jquery&&a.fn.jquery.replace(/\./,"")>="18")return;var c=["Webkit","Moz","O","ms"],d=["transitionProperty","transitionDuration","transition","transform","transitionTimingFunction"],e=function(){var a=(b.head||b.getElementsByTagName("head")[0]).style;for(var d=0,e=c.length;d<e;d++)if(c[d]+"Transition"in a)return c[d]}();if(!e)return;var f=function(b){var c=b.charAt(0).toUpperCase()+b.slice(1),d=e+c,f=e==="ms"?"Ms"+c:d;a.cssHooks[c]=a.cssHooks[e.toLowerCase()+c]=a.cssHooks[b]={get:function(b,c){return c?a.css(b,f):b.style[d]},set:function(a,b){a.style[d]=b}}};for(var g=0,h=d.length;g<h;g++)f(d[g]);return{vendorPrefix:e,setCssHooks:f}}),eg.module("eg",[window.jQuery,eg,window],function(a,b,c){function h(a,b,c,d){var e=a.hook[b];return e&&(d=e.apply(a,c)),a[b]=function(){return d},d}var d=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.msRequestAnimationFrame,e=c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.mozCancelAnimationFrame||c.msCancelAnimationFrame;if(d&&!e){var f={},g=d;d=function(a){function b(){f[c]&&a()}var c=g(b);return f[c]=!0,c},e=function(a){delete f[a]}}else if(!d||!e)d=function(a){return c.setTimeout(a,16)},e=c.clearTimeout;var i,j={VERSION:"0.0.1-bboom",hook:{},agent:function(a){i=a||navigator.userAgent;var b=/(iPhone |iPad )?OS ([\d|_]+)/.exec(i)||/(Android) ([\w.]+)/.exec(i)||/(Windows NT) ([\d|\.]+)/.exec(i)||/(Windows Phone) ([\d|\.]+)/.exec(i)||/(Windows) ([\w|\.]+)/.exec(i)||/(Mac OS X)( ([\w.]+))?/.exec(i)||[],c=/(Chrome|CriOS|Firefox)[\s\/]([\w.]+)/.exec(i)||/(MSIE|Trident)[\/\s]([\d.]+)/.exec(i)||/(PhantomJS)\/([\d.]+)/.exec(i)||[];b.length>=3&&(/iPhone|iPad/.test(i)?b[1]="ios":i.indexOf("Win")!==-1?(b[1]="window",b[2]=b[2]==="2000"?"5.0":b[2]):i.indexOf("Mac")!==-1?b[1]="mac":b[1]=b[1].toLowerCase(),b[2]=(b[2]||"").replace(/\_/g,".").replace(/\s/g,"")),c.length>=3?/Chrome|CriOS/.test(i)?c[1]=i.indexOf("SAMSUNG")!==-1?"sbrowser":"chrome":/MSIE|Trident/.test(i)?c[1]="ie":c[1]=c[1].toLowerCase():c.length===0&&b[1]&&b[1]!=="android"&&(c=/(Safari)\/([\w.]+)/.exec(i)||(b[1]==="ios"?["","safari"]:["",""]),c[1]=c[1].toLowerCase(),c[0]&&c[1].indexOf("safari")!==-1&&(c[2]=i.indexOf("Apple")!==-1?i.match(/Version\/([\d.]+)/)[1]||null:null));var d={os:{name:b[1]||"",version:b[2]||"-1"},browser:{name:c[1]||"default",version:c[2]||"-1"}};return d=this._checkWebview(d,i),h(this,"agent",[d],d)},_checkWebview:function(a,b){return a.browser.webview=a.os.name==="android"&&b.indexOf("; wv")>-1||a.os.name==="ios"&&a.browser.version==="-1"||b.indexOf("NAVER")>-1||b.indexOf("Daum")>-1||!1,a},translate:function(a,b,c){return c=c||!1,"translate"+(c?"3d(":"(")+a+","+b+(c?",0)":")")},isHWAccelerable:function(){var a=!1,b=this.agent(),c=b.os.version,d=b.browser.name,e=b.browser.version,f;return d.indexOf("chrome")!==-1?a=e>="25":/ie|firefox|safari|inapp/.test(d)?a=!0:b.os.name.indexOf("android")!==-1&&(f=(i.match(/\(.*\)/)||[null])[0],a=c>="4.1.0"&&!/EK-GN120|SM-G386F/.test(f)||c>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(f)&&!/SHW-M420|SHW-M200|GT-S7562/.test(f)),h(this,"isHWAccelerable",[a,b],a)},isTransitional:function(){var a=!1,b=this.agent(),c=b.browser.name;if(/chrome|firefox/.test(c))a=!0;else switch(b.os.name){case"ios":a=/safari|inapp/.test(c)&&parseInt(b.os.version,10)<6;break;case"window":a=c.indexOf("safari")!==-1||c.indexOf("ie")!==-1&&parseInt(b.browser.nativeVersion,10)>=10;break;default:a=/chrome|firefox|safari/.test(c)}return h(this,"isTransitional",[a,b],a)},_hasClickBug:function(){var a=this.agent(),b="ios"===a.os.name;return h(this,"_hasClickBug",[b,a],b)},requestAnimationFrame:function(a){return d(a)},cancelAnimationFrame:function(a){e(a)}};for(var k in j)b[k]=j[k];b.DIRECTION_NONE=1,b.DIRECTION_LEFT=2,b.DIRECTION_RIGHT=4,b.DIRECTION_UP=8,b.DIRECTION_DOWN=16,b.DIRECTION_HORIZONTAL=b.DIRECTION_LEFT|b.DIRECTION_RIGHT,b.DIRECTION_VERTICAL=b.DIRECTION_UP|b.DIRECTION_DOWN,b.DIRECTION_ALL=b.DIRECTION_HORIZONTAL|b.DIRECTION_VERTICAL}),eg.module("persist",[jQuery,window,document],function(a,b,c){function o(a){k=k||a.originalEvent&&a.originalEvent.persisted,!k&&l?j.trigger("persist"):p()}function p(){s(null)}function q(){if(m)return g.parse(e.state)||{};var a=n.getItem(f.href+h);return a&&a.length>0?g.parse(a):{}}function r(a){return q()[a]}function s(a){m?e.replaceState(g.stringify(a),c.title,f.href):a?n.setItem(f.href+h,g.stringify(a)):n.removeItem(f.href+h),a?j.attr(h,!0):j.attr(h,null)}function t(a,b){var c=q();c[a]=b,s(c)}var d=b.performance,e=b.history,f=b.location,g=b.JSON,h="___persist___",i="KEY"+h,j=a(b),k=j.attr(h)===!0,l=d&&d.navigation&&d.navigation.type===(d.navigation.TYPE_BACK_FORWARD||2),m="replaceState"in e&&"state"in e,n=function(){if(!m){if("sessionStorage"in b){var a="__tmp__"+h;return sessionStorage.setItem(a,h),sessionStorage.getItem(a)===h?sessionStorage:localStorage}return localStorage}}();return a.persist=function(a){var b,c;return typeof a=="string"?(b=a,c=arguments.length===2?arguments[1]:null):(b=i,c=arguments.length===1?a:null),c&&t(b,c),r(b)},!l&&p(),a.event.special.persist={setup:function(){j.on("pageshow",o)},teardown:function(){j.off("pageshow",o)},trigger:function(a){a.state=r(i)}},{isBackForwardNavigated:l,onPageshow:o,reset:p,getState:q,setState:s,persist:a.persist,GLOBALKEY:i}}),eg.module("rotate",[window.jQuery,eg,window,document],function(a,b,c,d){function k(){var a=j(),b,g,h;if(a==="resize")b=d.documentElement.clientWidth,e===-1?h=b<d.documentElement.clientHeight:b<e?h=!0:b===e?h=f:h=!1,e=b;else{g=c.orientation;if(g===0||g===180)h=!0;else if(g===90||g===-90)h=!1}return h}function l(){var b=k();i&&f!==b&&(f=b,a(c).trigger("rotate"))}function m(a){var b=j(),f,i;if(b==="resize")c.setTimeout(function(){l()},0);else{f=300;if(h.os.name==="android"){i=d.documentElement.clientWidth;if(a.type==="orientationchange"&&i===e)return c.setTimeout(function(){m(a)},500),!1;e=i}c.clearTimeout(g),g=c.setTimeout(function(){l()},f)}}var e=-1,f=null,g=null,h=b.agent(),i=/android|ios/.test(h.os.name),j=function(){var a;return h.os.name==="android"&&h.os.version==="2.1"?a="resize":a="onorientationchange"in c?"orientationchange":"resize",j=function(){return a},a};return a.event.special.rotate={setup:function(){e=d.documentElement.clientWidth,a(c).on(j(),m)},teardown:function(){a(c).off(j(),m)},trigger:function(a){a.isVertical=f}},{orientationChange:j,isVertical:k,triggerRotate:l,handler:m}}),eg.module("scrollEnd",[jQuery,eg,window,document],function(a,b,c,d){function q(){var a=o,c=b.agent(),d=c.os,e=c.browser,f=parseInt(d.version,10);return d.name==="android"?a=e.name==="chrome"?l:f>=3?m:n:/^(?:window|ios)$/.test(d.name)&&f>=8&&(a=m),a}function r(){var b=a(c).on("scroll",v);p===n&&a(d).on({touchstart:s,touchmove:t,touchend:u}),p===l&&b.on("orientationchange",function(){k=!0})}function s(){e=!0,f=!1,g=h=0}function t(){f=!0}function u(){e=!1,f&&w()}function v(){switch(p){case o:z();break;case n:w();break;case m:A();break;case l:k?k=!1:z()}}function w(){x(),i=setInterval(y,100)}function x(){i&&clearInterval(i),i=null}function y(){e||g!==c.pageYOffset||h!==c.pageXOffset?(g=c.pageYOffset,h=c.pageXOffset):(x(),z())}function z(){a(c).trigger("scrollend",{top:c.pageYOffset,left:c.pageXOffset})}function A(){clearTimeout(j),j=setTimeout(function(){z()},350)}function B(){a(d).off({touchstart:s,touchmove:t,touchend:u}),a(c).off("scroll",v)}var e,f,g=0,h=0,i,j,k=!1,l=3,m=2,n=1,o=0,p=q();return a.event.special.scrollend={setup:function(){r()},teardown:function(){B()}},{getDeviceType:q,CHROME:l,TIMERBASE:m,TOUCHBASE:n,SCROLLBASE:o}}),eg.module("class",[eg],function(a){a.Class=function(a){var b=function(){typeof a.construct=="function"&&a.construct.apply(this,arguments)};return b.prototype=a,b.prototype.constructor=b,b},a.Class.extend=function(a,b){var c=function(){a.apply(this,arguments),typeof b.construct=="function"&&b.construct.apply(this,arguments)},d=function(){};d.prototype=a.prototype;var e=new d;for(var f in b)e[f]=b[f];return e.constructor=c,c.prototype=e,c}}),eg.module("component",[eg],function(a){a.Component=a.Class({construct:function(){this.eventHandler={}},trigger:function(a,b){b=b||{};var c=this.eventHandler[a]||[],d=c.length>0;if(!d)return!0;c=c.concat(),b.eventType=a;var e=!1;b.stop=function(){e=!0};var f=[b],g,h;(h=arguments.length)>2&&(f=f.concat(Array.prototype.slice.call(arguments,2,h)));var i;for(g=0;i=c[g];g++)i.apply(this,f);return!e},hasOn:function(a){return!!this.eventHandler[a]},on:function(a,b){if(typeof b=="undefined"){var c=a,d;for(d in c)this.on(d,c[d]);return this}var e=this.eventHandler[a];return typeof e=="undefined"&&(e=this.eventHandler[a]=[]),e.push(b),this},off:function(a,b){if(arguments.length===0)return this.eventHandler={},this;if(typeof b=="undefined"){if(typeof a=="string")return this.eventHandler[a]=null,this;var c=a;for(var d in c)this.off(d,c[d]);return this}var e=this.eventHandler[a];if(e)for(var f=0,g;g=e[f];f++)if(g===b){e=e.splice(f,1);break}return this}})}),eg.module("movableCoord",[window.jQuery,eg,window.Hammer],function(a,b,c){b.MovableCoord=b.Class.extend(b.Component,{construct:function(b){this.options={min:[0,0],max:[100,100],bounce:[10,10,10,10],margin:[0,0,0,0],circular:[!1,!1,!1,!1],easing:function c(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},maximumDuration:Infinity,deceleration:6e-4},this._reviseOptions(b),this._status={grabOutside:!1,curHammer:null,moveDistance:null,animationParam:null,interrupted:!1},this._hammers={},this._pos=[this.options.min[0],this.options.min[1]],this._subOptions={},this._raf=null,this._animationEnd=a.proxy(this._animationEnd,this)},bind:function(c,d){var e=a(c),f=e.data(b.MovableCoord.KEY),g={direction:b.DIRECTION_ALL,scale:[1,1],thresholdAngle:45,interruptable:!0};return a.extend(g,d),f?this._hammers[f].get("pan").set({direction:g.direction}):(f=Math.round(Math.random()*(new Date).getTime()),this._hammers[f]=this._createHammer(e.get(0),g),e.data(b.MovableCoord.KEY,f)),this},_createHammer:function(b,d){try{var e=new c.Manager(b,{recognizers:[[c.Pan,{direction:d.direction,threshold:0}]]});return e.on("hammer.input",a.proxy(function(a){a.isFirst&&(this._subOptions=d,this._status.curHammer=e,this._panstart(a))},this)).on("panstart panmove",a.proxy(this._panmove,this)).on("panend",a.proxy(this._panend,this)),e}catch(f){}},unbind:function(c){var d=a(c),e=d.data(b.MovableCoord.KEY);e&&(this._hammers[e].destroy(),delete this._hammers[e],d.data(b.MovableCoord.KEY,null))},_grab:function(){this._status.animationParam&&(this._pos=this._getCircularPos(this._pos),this._triggerChange(this._pos,!0),this._status.animationParam=null,this._raf&&b.cancelAnimationFrame(this._raf),this._raf=null)},_getCircularPos:function(a,b,c,d){return b=b||this.options.min,c=c||this.options.max,d=d||this.options.circular,d[0]&&a[1]<b[1]&&(a[1]=(a[1]-b[1])%(c[1]-b[1]+1)+c[1]),d[1]&&a[0]>c[0]&&(a[0]=(a[0]-b[0])%(c[0]-b[0]+1)+b[0]),d[2]&&a[1]>c[1]&&(a[1]=(a[1]-b[1])%(c[1]-b[1]+1)+b[1]),d[3]&&a[0]<b[0]&&(a[0]=(a[0]-b[0])%(c[0]-b[0]+1)+c[0]),a[0]=+a[0].toFixed(5),a[1]=+a[1].toFixed(5),a},_isOutside:function(a,b,c){return a[0]<b[0]||a[1]<b[1]||a[0]>c[0]||a[1]>c[1]},_isOutToOut:function(a,b,c,d){return(a[0]<c[0]||a[0]>d[0]||a[1]<c[1]||a[1]>d[1])&&(b[0]<c[0]||b[0]>d[0]||b[1]<c[1]||b[1]>d[1])},_panstart:function(a){if(!this._subOptions.interruptable&&this._status.interrupted)return;!this._subOptions.interruptable&&(this._status.interrupted=!0);var b=this._pos;this._grab(),this.trigger("hold",{pos:[b[0],b[1]],hammerEvent:a}),this._status.moveDistance=[b[0],b[1]],this._status.grabOutside=this._isOutside(b,this.options.min,this.options.max)},_panmove:function(a){if(!this._isInterrupting()||!this._status.moveDistance)return;var c,d,e,f=this._pos,g=this.options.min,h=this.options.max,i=this.options.bounce,j=this.options.margin,k=this.options.easing,l=this._subOptions.direction,m=this._subOptions.scale,n=this._getDirection(a.angle),o=[j[0]+i[0],j[1]+i[1],j[2]+i[2],j[3]+i[3]],p=!1,q=this._status.curHammer.session.prevInput;q?(a.offsetX=a.deltaX-q.deltaX,a.offsetY=a.deltaY-q.deltaY):a.offsetX=a.offsetY=0,n&b.DIRECTION_HORIZONTAL&&l&b.DIRECTION_HORIZONTAL&&(this._status.moveDistance[0]+=a.offsetX*m[0],p=!0),n&b.DIRECTION_VERTICAL&&l&b.DIRECTION_VERTICAL&&(this._status.moveDistance[1]+=a.offsetY*m[1],p=!0),p&&(a.srcEvent.preventDefault(),a.srcEvent.stopPropagation()),a.preventSystemEvent=p,f[0]=this._status.moveDistance[0],f[1]=this._status.moveDistance[1],f=this._getCircularPos(f,g,h),this._status.grabOutside&&!this._isOutside(f,g,h)&&(this._status.grabOutside=!1);if(this._status.grabOutside)d=g[0]-o[3],e=h[0]+o[1],c=f[0],f[0]=c>e?e:c<d?d:c,d=g[1]-o[0],e=h[1]+o[2],c=f[1],f[1]=c>e?e:c<d?d:c;else{var r=this._isInEasing?k(null,.9999,0,1,1)/.9999:k(null,1e-4,0,1,1)/1e-4;f[1]<g[1]?(c=(g[1]-f[1])/(o[0]*r),f[1]=g[1]-k(null,c>1?1:c,0,1,1)*o[0]):f[1]>h[1]&&(c=(f[1]-h[1])/(o[2]*r),f[1]=h[1]+k(null,c>1?1:c,0,1,1)*o[2]),f[0]<g[0]?(c=(g[0]-f[0])/(o[3]*r),f[0]=g[0]-k(null,c>1?1:c,0,1,1)*o[3]):f[0]>h[0]&&(c=(f[0]-h[0])/(o[1]*r),f[0]=h[0]+k(null,c>1?1:c,0,1,1)*o[1])}this._triggerChange(f,!0,a)},_panend:function(a){if(!this._isInterrupting()||!this._status.moveDistance)return;var c=this._subOptions.direction,d=this._subOptions.scale,e=Math.abs(a.velocityX),f=Math.abs(a.velocityY);!(c&b.DIRECTION_HORIZONTAL)&&(e=0),!(c&b.DIRECTION_VERTICAL)&&(f=0),this._animateBy(this._getNextOffsetPos([e*(a.deltaX<0?-1:1)*d[0],f*(a.deltaY<0?-1:1)*d[1]]),this._animationEnd,!1,null,a),this._status.moveDistance=null},_isInterrupting:function(){return this._subOptions.interruptable||this._status.interrupted},_getDirection:function(a){var c=this._subOptions.thresholdAngle;return c<0||c>90?b.DIRECTION_NONE:(a=Math.abs(a),a>c&&a<180-c?b.DIRECTION_VERTICAL:b.DIRECTION_HORIZONTAL)},_animationEnd:function(){var b=this._pos,c=this.options.min,d=this.options.max;this._animateTo([Math.min(d[0],Math.max(c[0],b[0])),Math.min(d[1],Math.max(c[1],b[1]))],a.proxy(this.trigger,this,"animationEnd"),!0,null)},_getNextOffsetPos:function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.abs(b/-this.options.deceleration);return[a[0]/2*c,a[1]/2*c]},_getDurationFromPos:function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(b/this.options.deceleration*2);return c<100?0:c},_animateBy:function(a,b,c,d,e){var f=this._pos;return this._animateTo([f[0]+a[0],f[1]+a[1]],b,c,d,e)},_getPointOfIntersection:function(a,b){var c=this.options.circular,d=this.options.bounce,e=this.options.min,f=this.options.max,g=[e[0]-d[3],e[1]-d[0]],h=[f[0]+d[1],f[1]+d[2]],i,j;return b=[b[0],b[1]],i=b[0]-a[0],j=b[1]-a[1],c[3]||(b[0]=Math.max(g[0],b[0])),c[1]||(b[0]=Math.min(h[0],b[0])),b[1]=i?a[1]+j/i*(b[0]-a[0]):b[1],c[0]||(b[1]=Math.max(g[1],b[1])),c[2]||(b[1]=Math.min(h[1],b[1])),b[0]=j?a[0]+i/j*(b[1]-a[1]):b[0],b},_isCircular:function(a,b,c,d){return a[0]&&b[1]<c[1]||a[1]&&b[0]>d[0]||a[2]&&b[1]>d[1]||a[3]&&b[0]<c[0]},_animateTo:function(a,b,c,d,e){var f=this._pos,g=this._getPointOfIntersection(f,a),h={depaPos:[f[0],f[1]],destPos:g,hammerEvent:e||{}};!c&&e&&this.trigger("release",h),this._afterReleaseProcess(h,b,c,d)},_afterReleaseProcess:function(c,d,e,f){var g=this._pos,h=this.options.min,i=this.options.max,j=this.options.circular,k=this._isCircular(j,c.destPos,h,i),l=this._isOutToOut(g,c.destPos,h,i)?g:c.destPos,m=[Math.abs(l[0]-g[0]),Math.abs(l[1]-g[1])],n;f=f===null?this._getDurationFromPos(m):f,f=this.options.maximumDuration>f?f:this.options.maximumDuration;var o=a.proxy(function(a){this._status.animationParam=null,g[0]=Math.round(l[0]),g[1]=Math.round(l[1]),g=this._getCircularPos(g,h,i,j),!a&&(this._status.interrupted=!1),d()},this);if(m[0]===0&&m[1]===0)return o(!e);n={duration:f,depaPos:[g[0],g[1]],destPos:l,isBounce:e,isCircular:k,done:o};var p=this.trigger("animationStart",n);if(k&&!p)throw new Error("You can't stop the 'animation' event when 'circular' is true.");n.depaPos=g,n.startTime=(new Date).getTime(),this._status.animationParam=n;if(p)if(n.duration){var q=this._status.animationParam,r=this;(function s(){r._raf=null;if(r._frame(q)>=1)return o(!0);r._raf=b.requestAnimationFrame(s)})()}else this._triggerChange(n.destPos,!1),o(!e)},_frame:function(a){var b=new Date-a.startTime,c=this.options.easing(null,b,0,1,a.duration),d=[a.depaPos[0],a.depaPos[1]];c=c>=1?1:c;for(var e=0;e<2;e++)d[e]!==a.destPos[e]&&(d[e]+=(a.destPos[e]-d[e])*c);return d=this._getCircularPos(d),this._triggerChange(d,!1),c},_reviseOptions:function(b){var c;a.each(["bounce","margin","circular"],function(d,e){c=b[e],c!=null&&(a.isArray(c)?c.length===2?b[e]=[c[0],c[1],c[0],c[1]]:b[e]=[c[0],c[1],c[2],c[3]]:/string|number|boolean/.test(typeof c)?b[e]=[c,c,c,c]:b[e]=null)}),a.extend(this.options,b)},_triggerChange:function(a,b,c){this.trigger("change",{pos:[a[0],a[1]],holding:b,hammerEvent:c||{}})},get:function(){return[this._pos[0],this._pos[1]]},setTo:function(a,b,c){this._grab();var d=[this._pos[0],this._pos[1]],e=this.options.circular,f=this.options.min,g=this.options.max;return a===d[0]&&b===d[1]?this:(a!==d[0]&&(e[3]||(a=Math.max(f[0],a)),e[1]||(a=Math.min(g[0],a))),b!==d[1]&&(e[0]||(b=Math.max(f[1],b)),e[2]||(b=Math.min(g[1],b))),c?this._animateTo([a,b],this._animationEnd,!1,c):(this._pos=this._getCircularPos([a,b]),this._triggerChange(this._pos,!1)),this)},setBy:function(a,b,c){return this.setTo(a!=null?this._pos[0]+a:this._pos[0],b!=null?this._pos[1]+b:this._pos[1],c)},_isInEasing:function(b){for(var c in a.easing)if(a.easing[c]===b)return!~c.indexOf("Out");return!1},destroy:function(){this.off();for(var a in this._hammers)this._hammers[a].destroy(),this._hammers[a]=null}}),b.MovableCoord.KEY="__MOVABLECOORD__"}),eg.module("flicking",[window.jQuery,eg,eg.MovableCoord],function(a,b,c){b.Flicking=b.Class.extend(b.Component,{construct:function(c,d){this._wrapper=a(c),a.extend(this.options={effect:a.easing.linear,hwAccelerable:b.isHWAccelerable(),prefix:"eg-flick",deceleration:6e-4,horizontal:!0,circular:!1,previewPadding:[0,0],threshold:40,duration:100,panelEffect:a.easing.easeOutQuint,defaultIndex:0},d);var e=this.options.previewPadding,f=window.CSS&&window.CSS.supports&&window.CSS.supports("will-change","transform");typeof e=="number"?e=this.options.previewPadding=[e,e]:e.constructor!==Array&&(e=this.options.previewPadding=[0,0]),this._conf={panel:{list:[],index:0,no:0,size:0,count:0,origCount:0,changed:!1,animating:!1,minCount:e[0]+e[1]>0?5:3},touch:{holdPos:[0,0],destPos:[0,0],distance:0,direction:null},customEvent:{},useLayerHack:this.options.hwAccelerable&&!f,dirData:[],indexToMove:0,triggerFlickEvent:!0},a([["LEFT","RIGHT"],["DOWN","UP"]][+!this.options.horizontal]).each(a.proxy(function(a,c){this._conf.dirData.push(b["DIRECTION_"+c])},this)),!b._hasClickBug()&&(this._setPointerEvents=function(){}),(!this.options.hwAccelerable||!f)&&(this._setHint=function(){}),this._build(),this._bindEvents(),this._arrangePanels()},_build:function(){var a=this._conf.panel,d=this.options,e=a.list=this._wrapper.children(),f=d.previewPadding.concat(),g=d.prefix,h=d.horizontal,i=a.count=a.origCount=e.length,j=[a.size=this._wrapper[h?"width":"height"]()-(f[0]+f[1]),"100%"],k;this._wrapper.css({padding:(h?"0 "+f.reverse().join("px 0 "):f.join("px 0 "))+"px",overflow:"hidden"}),this._getDataByDirection(j),e.addClass(g+"-panel").css({position:"absolute",width:j[0],height:j[1],top:0,left:0}),j[k=+!h]*=i,j[k]+="px",k="width:"+j[0]+";height:"+j[1]+(h?";":";top:"+f[0]+"px;"),this._container=e.wrapAll("<div class='"+g+"-container' style='position:relative;z-index:2000;"+k+"' />").parent(),this._addClonePanels()&&(i=a.count=(a.list=this._container.children()).length),this._mcInst=(new c({min:[0,0],max:this._getDataByDirection([a.size*(i-1),0]),margin:0,circular:!1,easing:d.panelEffect,deceleration:d.deceleration})).bind(this._wrapper,{scale:this._getDataByDirection([-1,0]),direction:b["DIRECTION_"+(h?"HORIZONTAL":"VERTICAL")],interruptable:!1}),this._setDefaultPanel(d.defaultIndex)},_addClonePanels:function(){var a=this._conf.panel,b=a.origCount,c=a.minCount-b,d=a.list,e;if(this.options.circular&&b<a.minCount){e=d.clone();while(e.length<c)e=e.add(d.clone());return this._container.append(e)}},_movePanelPosition:function(b,c){var d=this._conf.panel,e=d.list.toArray(),f;f=e.splice(c?0:d.count-b,b),d.list=a(c?e.concat(f):f.concat(e))},_setDefaultPanel:function(a){var b=this._conf.panel,c=b.count-1,d;this.options.circular?(a>0&&a<=c&&this._movePanelPosition(a,!0),this._movePanelPosition(this._getBasePositionIndex(),!1),b.no=a):a>0&&a<=c&&(b.index=a,d=[-(b.size*a),0],this._setTranslate(d),this._setMovableCoord("setTo",[Math.abs(d[0]),Math.abs(d[1])]))},_arrangePanels:function(c,d){var e=this._conf.panel,f=this._conf.touch,g=this._conf.dirData,h=this._conf.useLayerHack,i;this.options.circular&&(this._conf.triggerFlickEvent=!1,c&&(d&&(f.direction=g[+!Boolean(d>0)]),this._arrangePanelPosition(f.direction,d)),e.index=this._getBasePositionIndex(),this._conf.triggerFlickEvent=!!this._setMovableCoord("setTo",[e.size*e.index,0],!0)),e.list.each(a.proxy(function(c,d){i=this._getDataByDirection([100*c+"%",0]),a(d).css("transform",b.translate(i[0],i[1],h))},this))},_setMovableCoord:function(a,b,c,d){var e=typeof d;return e!=="undefined"&&(d=e==="number"?d:this.options.duration,d>0&&this._setHint(!0)),c&&this._getDataByDirection(b),this._mcInst[a](b[0],b[1],d)},_setHint:function(a){var b=a?"transform":"";this._container.css("willChange",b),this._conf.panel.list.css("willChange",b)},_getDataByDirection:function(a){return!this.options.horizontal&&a.reverse(),a},_arrangePanelPosition:function(a,b){var c=a===this._conf.dirData[0];this._movePanelPosition(Math.abs(b||1),c)},_getBasePositionIndex:function(){var a=this._conf.panel;return a.index=Math.floor(a.count/2-.1)},_bindEvents:function(){this._mcInst.on({hold:a.proxy(this._holdHandler,this),change:a.proxy(this._changeHandler,this),release:a.proxy(this._releaseHandler,this),animationStart:a.proxy(this._animationStartHandler,this),animationEnd:a.proxy(this._animationEndHandler,this)})},_holdHandler:function(a){this._conf.touch.holdPos=a.pos,this._conf.panel.changed=!1,this._setHint(!0),this._triggerEvent("touchStart",{pos:a.pos})},_changeHandler:function(a){var b=a.pos,c=null;this._setPointerEvents(a),this._conf.triggerFlickEvent&&(c=this._triggerEvent(a.holding?"touchMove":"flick",{pos:a.pos})),(c||c===null)&&this._setTranslate([-b[+!this.options.horizontal],0])},_releaseHandler:function(a){var b=this._conf.touch,c=a.destPos,d=+!this.options.horizontal,e=b.holdPos[d],f=this._conf.panel.size;b.distance=a.depaPos[d]-b.holdPos[d],b.direction=this._conf.dirData[+!Boolean(b.holdPos[d]<a.depaPos[d])],c[d]=Math.max(e-f,Math.min(e,c[d])),b.destPos[d]=c[d]=Math.round(c[d]/f)*f,this._triggerEvent("touchEnd",{depaPos:a.depaPos,destPos:a.destPos}),this._setPointerEvents()},_animationStartHandler:function(a){var b=this._conf.panel;b.animating=!0,this._setPhaseValue("start"),a.destPos[+!this.options.horizontal]=b.size*(b.index+this._conf.indexToMove),this._isMovable()?this._triggerEvent("flickStart",{depaPos:a.depaPos,destPos:a.destPos}):(this._conf.customEvent.restore=this._triggerEvent("beforeRestore",{depaPos:a.depaPos,destPos:a.destPos}))||a.stop()},_animationEndHandler:function(){var a=this._conf.panel;this._setPhaseValue("end"),this._setHint(a.animating=!1),a.changed?this._triggerEvent("flickEnd"):this._conf.customEvent.restore&&this._triggerEvent("restore")},_setPhaseValue:function(a){var b=this._conf.panel;~a.indexOf("start")&&(b.changed=this._isMovable())&&this._conf.indexToMove===0&&this._setPanelNo(),~a.indexOf("end")&&(this.options.circular&&b.changed&&this._arrangePanels(!0,this._conf.indexToMove),this._setTranslate([-b.size*b.index,0]),this._conf.indexToMove=0)},_setPanelNo:function(){var a=this._conf.panel,b=a.origCount-1,c=this._conf.touch.direction===this._conf.dirData[0]?1:-1;a.index+=c,a.no+=c,a.no>b?a.no=0:a.no<0&&(a.no=b)},_setPointerEvents:function(a){var b=this._container.css("pointerEvents"),c;a&&a.holding&&a.hammerEvent.preventSystemEvent&&b!=="none"?c="none":!a&&b!=="auto"&&(c="auto"),c&&this._container.css("pointerEvents",c)},_setTranslate:function(a){this._getDataByDirection(a),this._container.css("transform",b.translate(this._getUnitValue(a[0]),this._getUnitValue(a[1]),this._conf.useLayerHack))},_getUnitValue:function(a){var b=/(?:[a-z]{2,}|%)$/;return(parseInt(a,10)||0)+(String(a).match(b)||"px")},_isMovable:function(){return Math.abs(this._conf.touch.distance)>=this.options.threshold},_triggerEvent:function(b,c){var d=this._conf.panel;return this.trigger(b,c=a.extend({eventType:b,index:d.index,no:d.no,direction:this._conf.touch.direction},c))},_getElement:function(b,c,d){var e=this._conf.panel,f=this.options.circular,g=e.index,h=b===this._conf.dirData[0],i=null,j,k,l;return d?(j=e.count,k=g):(j=e.origCount,k=e.no),l=k,h?k<j-1?k++:f&&(k=0):k>0?k--:f&&(k=j-1),l!==k&&(i=c?a(e.list[h?g+1:g-1]):k),i},_setValueToMove:function(a){this._conf.touch.distance=this.options.threshold+1,this._conf.touch.direction=this._conf.dirData[+!a]},_movePanel:function(a,b){var c=this._conf.panel;if(c.animating)return;this._setValueToMove(a);if(this.options.circular||this[a?"getNextIndex":"getPrevIndex"]()!=null)this._setMovableCoord("setBy",[c.size*(a?1:-1),0],!0,b),!b&&this._setPhaseValue("startend")},getIndex:function(a){return this._conf.panel[a?"index":"no"]},getElement:function(){var b=this._conf.panel;return a(b.list[b.index])},getNextElement:function(){return this._getElement(this._conf.dirData[0],!0)},getNextIndex:function(a){return this._getElement(this._conf.dirData[0],!1,a)},getAllElements:function(){return this._conf.panel.list},getPrevElement:function(){return this._getElement(this._conf.dirData[1],!0)},getPrevIndex:function(a){return this._getElement(this._conf.dirData[1],!1,a)},getTotalCount:function(a){return this._conf.panel[a?"count":"origCount"]},isPlaying:function(){return this._conf.panel.animating},next:function(a){this._movePanel(!0,a)},prev:function(a){this._movePanel(!1,a)},moveTo:function(a,b){var c=this._conf.panel,d=c.index,e=0,f,g;if(typeof a!="number"||a>=c.origCount||a===c.no||c.animating)return;g=this.options.circular||a>=0&&a<c.origCount,this.options.circular?(f=[d,c.count-(d+1)],a>c.no?(e=a-c.no,e>f[1]&&(e=-(f[0]+1-(e-f[1])))):(e=-(c.no-a),Math.abs(e)>f[0]&&(e=f[1]+1-(Math.abs(e)-f[0]))),c.no=a,this._conf.indexToMove=e,this._setValueToMove(e>0),this._setMovableCoord("setBy",[c.size*e,0],!0,b)):g&&(c.no=c.index=a,this._setMovableCoord("setTo",[c.size*a,0],!0,b)),g&&!b&&this._setPhaseValue("startend")},resize:function(){var a=this._conf.panel,b=a.size=this._wrapper.width(),c=[b*a.count,0];this._container.width(c[0]),a.list.css("width",b),this._setMovableCoord("setTo",[b*a.index,0]).options.max=c}})}),eg.module("visible",[window.jQuery,eg],function(a,b){b.Visible=b.Class.extend(b.Component,{construct:function(b){this.options={wrapper:document,targetClass:"check_visible",expandSize:0},a.extend(this.options,b),this._wrapper=a(this.options.wrapper),this._wrapper=this._wrapper.length>0?this._wrapper[0]:document,this._targets=[],this._timer=null,this._supportElementsByClassName=function(){var a=document.createElement("div"),b;return a.getElementsByClassName?(b=a.getElementsByClassName("dummy"),a.innerHTML="<span class='dummy'></span>",b.length===1):!1}(),this.refresh()},refresh:function(){return this._supportElementsByClassName?(this._targets=this._wrapper.getElementsByClassName(this.options.targetClass),this.refresh=function(){return this}):this.refresh=function(){return this._targets=a(this._wrapper).find("."+this.options.targetClass).each(function(){return this}),this},this.refresh()},check:function(b){return typeof b=="undefined"&&(b=-1),clearTimeout(this._timer),b<0?this._check():this._timer=setTimeout(a.proxy(function(){this._check(),this._timer=null},this),b),this},_reviseElements:function(b,c){return this._supportElementsByClassName?this._reviseElements=function(){return!0}:this._reviseElements=function(b,c){return a(b).hasClass(this.options.targetClass)?!0:(b.__VISIBLE__=null,this._targets.splice(c,1),!1)},this._reviseElements(b,c)},_check:function(){var b=parseInt(this.options.expandSize,10),c=this._wrapper,d=[],e=[],f=null;!c.nodeType||c.nodeType!==1?f={top:0,left:0,bottom:window.innerHeight,right:window.innerWidth}:f=c.getBoundingClientRect(),f=a.extend({},f),f.top-=b,f.left-=b,f.bottom+=b,f.right+=b;for(var g=this._targets.length-1,h,i,j,k;h=this._targets[g];g--)i=h.getBoundingClientRect(),this._reviseElements(h,g)&&(k=!!h.__VISIBLE__,h.__VISIBLE__=j=!(i.bottom<f.top||f.bottom<i.top||i.right<f.left||f.right<i.left),k!==j&&(j?d:e).unshift(h));this.trigger("change",{visible:d,invisible:e})},destroy:function(){this.off(),this._targets=[],this._wrapper=this._timer=null}})});var JEagleEyeClient={_fnCondition:function(){return!0},_bEnable:!0,_bIsIE:/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),_bEnableRaiseErrorByOnError:/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent),_bDebugOnly:!1,_bSendScriptName:!1,_sFirtFunctionBody:null,_sStackMode:function(){try{(0)()}catch(a){if(a.arguments)return"chrome";if(a.stack)return"firefox";if(window.opera&&!("stacktrace"in a))return"opera"}return"other"}(),_oStackMethodFactory:{other:function(a){var b="{anonymous}",c=/function\s*([\w\-$]+)?\s*\(([^\(]*)\)/i,d=/\$JE\(['"]([^\(]*)['"]\)/,e=[],f,g,h,i=[],j=0,k=10;while(a&&e.length<k){f=a.toString(),c.test(f)?(g=RegExp.$1||b,i=(RegExp.$2||"").split(",")):(g=b,i=[]);if(g==b&&i[0].indexOf("$$")==0){a=a.caller;continue}g==b&&d.test(f)&&(g=JEagleEyeClient._trim(RegExp.$1)),JEagleEyeClient._setFirstFunctionBody(f),h=Array.prototype.slice.call(a.arguments),e.push(g+"("+JEagleEyeClient._stringifyArguments(h,i)+")");if(a===a.caller&&window.opera)break;a=a.caller}return e},chrome:function(a){return a.stack.replace(/^.*?\n/,"").replace(/^.*?\n/,"").replace(/^.*?\n/,"").replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").replace(/\s+\(http(.*):([\d]+):[\d]+\)/gm,"()@http$1:$2").split("\n")},firefox:function(a){return a.stack.replace(/^.*?\n/,"").replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")},opera:function(a){var b=a.message.split("\n"),c="{anonymous}",d=/Line\s+(\d+).*?script\s+(http\S+)(?:.*?in\s+function\s+(\S+))?/i,e,f,g;for(e=4,f=0,g=b.length;e<g;e+=2)d.test(b[e])&&(b[f++]=(RegExp.$3?RegExp.$3+"()@"+RegExp.$2+RegExp.$1:c+"()@"+RegExp.$2+":"+RegExp.$1)+" -- "+b[e+1].replace(/^\s+/,""));return b.splice(f,b.length-f),b}},_setFirstFunctionBody:function(a){this._sFirtFunctionBody==null&&(this._sFirtFunctionBody=a)},_stringifyArguments:function(a,b){var c=[];for(var d=0;d<b.length;++d){var e=null;try{e=this._stringifyJSON(a[d])}catch(f){}c[d]=b[d],e!=null&&(c[d]+=" : '"+this._stringifyJSON(a[d])+"'")}return c.join(",")},_trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;b>=0;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a},_getStackTrace:function(a,b){var c=this._sStackMode,d=c==="other"?arguments.callee:function(){try{(0)()}catch(a){return a}}(),e=this._oStackMethodFactory[c](d);return this._makeResultStack(e,a,b||"")},_makeResultStack:function(a,b,c){var d={message:"",callstack:[]};typeof b=="object"&&typeof b.message=="string"&&(d.message=b.message);var e=!0,f=window.location.href.replace(/(https?:\/\/[^\/]+)\/(.*)/i,"$1"),g=/^(@|http:\/\/)/;for(var h=0,i=a.length;h<i;h++){var j=a[h];g.test(j)||(e&&c!=""&&j.indexOf("{anonymous}")!=-1&&(j=j.replace("{anonymous}",c)),j=j.replace(f,""),d.callstack.push((e?"":" => ")+j),e=!1)}return d},attachOnError:function(){var a=this;window.onerror=function(b,c,d){if(!a._isRunning())return;var e=a._bIsIE?{callstack:a._getStackTrace().callstack.join("\n")}:{};a._sendToServer(b,c,d,e)}},raiseError:function(a,b,c){this._processError(a,!1,b,c)},ignoreError:function(a,b,c){this._processError(a,!0,b,c)},sendError:function(a){this._sendToServer(a)},_processError:function(a,b,c,d){if(!this._isRunning())return;d=d||{},d.callFuncName=this._getCallerFunctionName(c);var e=this._getStackTrace(a,d.callFuncName);d.callstack=e.callstack.join("\n");if(this._bEnableRaiseErrorByOnError){var f=this,g=window.onerror||null;window.onerror=function(a,c,h){return f._sendToServer(e.message,c,h,d),window.onerror=g,b}}else this._sendToServer(e.message);if(this._bEnableRaiseErrorByOnError||!this._bEnableRaiseErrorByOnError&&!b)try{(0)()}catch(h){throw a}},_getCallerFunctionName:function(a,b){if(typeof a!="undefined"){try{var c=arguments.callee.caller.caller.caller.toString()}catch(d){return}var e="";for(var f in a){e=a[f];if(typeof e=="function"&&e.toString()===c)return f}}return"{anonymous}"},_sendToServer:function(a,b,c,d){b=b||document.location,c=parseInt(c||0,10),d=d||{},this._bIsIE&&c--;var e="http://cecs.naver.com/?m="+encodeURIComponent(a)+"&u="+encodeURIComponent(b)+"&l="+c;typeof d.callstack!="undefined"&&(e+="&callstack="+encodeURIComponent(d.callstack));var f="";this._sFirtFunctionBody!=null&&(d.funcBody=this._trim(this._sFirtFunctionBody).substring(0,200)+"..",this._sFirtFunctionBody=null,f+="= function =\n"+d.funcBody+"\n\n"),typeof d.message!="undefined"&&(f+="= message =\n"+d.message+"\n\n"),typeof d.params!="undefined"&&(d.params=this._stringifyJSON(d.params),f+="= params =\n"+d.params);if(this._bSendScriptName){f+=(f!=""?"\n\n":"")+"= scripts =\n";var g=document.getElementsByTagName("script");for(var h=0,i=g.length;h<i;h++){var j=g[h].src;j!=""&&j.indexOf("JEagleEyeClient.js")==-1&&(f+=j+"\n")}}f!=""&&(e+="&general="+encodeURIComponent(f)),e+="&temp="+(new Date).getTime();if(this._bDebugOnly)alert("* 에러 : "+a+"\n* 파일 : "+b+"\n* 라인 : "+c+"\n\n* function : "+d.funcBody+"\n\n* message : "+d.message+"\n\n* callstack : "+d.callstack+"\n\n* params : "+d.params+"\n\n*request : "+e);else{var k=new Image;k.src=e}},_stringifyJSON:function(a,b){b=b||1;if(b>=10)return"..";var c=typeof a;if(c!="object"||a===null)return c=="string"&&(a='"'+a+'"'),String(a);var d,e,f=[],g=a&&a.constructor==Array;for(d in a)e=a[d],c=typeof e,c=="string"?e='"'+e+'"':c=="string"?e='"'+e+'"':c=="object"&&e!==null&&(e=this._stringifyJSON(e,++b)),f.push((g?"":'"'+d+'":')+String(e));return(g?"[":"{")+String(f)+(g?"]":"}")},_isRunning:function(){return this._bEnable&&this._fnCondition()},setCondition:function(a){this._fnCondition=a},setEnable:function(a){this._bEnable=a},setDebugOnly:function(a){this._bDebugOnly=a},setSendScriptName:function(a){this._bSendScriptName=a}};$JE=function(){};var lcs_add={},lcs_ver="v0.4.14.m",lcs_cnt=0,CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes,this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*f,e=a.min(4*b,e);if(b){for(var i=0;i<b;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new m.HMAC.init(a,c)).finalize(b)}}});var m=c.algo={};return c}(Math);(function(a){function b(a,b,c,d,e,f,g){return a=a+(b&c|~b&d)+e+g,(a<<f|a>>>32-f)+b}function c(a,b,c,d,e,f,g){return a=a+(b&d|c&~d)+e+g,(a<<f|a>>>32-f)+b}function d(a,b,c,d,e,f,g){return a=a+(b^c^d)+e+g,(a<<f|a>>>32-f)+b}function e(a,b,c,d,e,f,g){return a=a+(c^(b|~d))+e+g,(a<<f|a>>>32-f)+b}for(var f=CryptoJS,g=f.lib,h=g.WordArray,i=g.Hasher,g=f.algo,j=[],k=0;64>k;k++)j[k]=4294967296*a.abs(a.sin(k+1))|0;g=g.MD5=i.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,f){for(var g=0;16>g;g++){var h=f+g,i=a[h];a[h]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var g=this._hash.words,h=a[f+0],i=a[f+1],k=a[f+2],o=a[f+3],q=a[f+4],r=a[f+5],s=a[f+6],t=a[f+7],u=a[f+8],v=a[f+9],w=a[f+10],x=a[f+11],y=a[f+12],z=a[f+13],A=a[f+14],B=a[f+15],C=g[0],D=g[1],E=g[2],F=g[3],C=b(C,D,E,F,h,7,j[0]),F=b(F,C,D,E,i,12,j[1]),E=b(E,F,C,D,k,17,j[2]),D=b(D,E,F,C,o,22,j[3]),C=b(C,D,E,F,q,7,j[4]),F=b(F,C,D,E,r,12,j[5]),E=b(E,F,C,D,s,17,j[6]),D=b(D,E,F,C,t,22,j[7]),C=b(C,D,E,F,u,7,j[8]),F=b(F,C,D,E,v,12,j[9]),E=b(E,F,C,D,w,17,j[10]),D=b(D,E,F,C,x,22,j[11]),C=b(C,D,E,F,y,7,j[12]),F=b(F,C,D,E,z,12,j[13]),E=b(E,F,C,D,A,17,j[14]),D=b(D,E,F,C,B,22,j[15]),C=c(C,D,E,F,i,5,j[16]),F=c(F,C,D,E,s,9,j[17]),E=c(E,F,C,D,x,14,j[18]),D=c(D,E,F,C,h,20,j[19]),C=c(C,D,E,F,r,5,j[20]),F=c(F,C,D,E,w,9,j[21]),E=c(E,F,C,D,B,14,j[22]),D=c(D,E,F,C,q,20,j[23]),C=c(C,D,E,F,v,5,j[24]),F=c(F,C,D,E,A,9,j[25]),E=c(E,F,C,D,o,14,j[26]),D=c(D,E,F,C,u,20,j[27]),C=c(C,D,E,F,z,5,j[28]),F=c(F,C,D,E,k,9,j[29]),E=c(E,F,C,D,t,14,j[30]),D=c(D,E,F,C,y,20,j[31]),C=d(C,D,E,F,r,4,j[32]),F=d(F,C,D,E,u,11,j[33]),E=d(E,F,C,D,x,16,j[34]),D=d(D,E,F,C,A,23,j[35]),C=d(C,D,E,F,i,4,j[36]),F=d(F,C,D,E,q,11,j[37]),E=d(E,F,C,D,t,16,j[38]),D=d(D,E,F,C,w,23,j[39]),C=d(C,D,E,F,z,4,j[40]),F=d(F,C,D,E,h,11,j[41]),E=d(E,F,C,D,o,16,j[42]),D=d(D,E,F,C,s,23,j[43]),C=d(C,D,E,F,v,4,j[44]),F=d(F,C,D,E,y,11,j[45]),E=d(E,F,C,D,B,16,j[46]),D=d(D,E,F,C,k,23,j[47]),C=e(C,D,E,F,h,6,j[48]),F=e(F,C,D,E,t,10,j[49]),E=e(E,F,C,D,A,15,j[50]),D=e(D,E,F,C,r,21,j[51]),C=e(C,D,E,F,y,6,j[52]),F=e(F,C,D,E,o,10,j[53]),E=e(E,F,C,D,w,15,j[54]),D=e(D,E,F,C,i,21,j[55]),C=e(C,D,E,F,u,6,j[56]),F=e(F,C,D,E,B,10,j[57]),E=e(E,F,C,D,s,15,j[58]),D=e(D,E,F,C,z,21,j[59]),C=e(C,D,E,F,q,6,j[60]),F=e(F,C,D,E,x,10,j[61]),E=e(E,F,C,D,k,15,j[62]),D=e(D,E,F,C,v,21,j[63]);g[0]=g[0]+C|0,g[1]=g[1]+D|0,g[2]=g[2]+E|0,g[3]=g[3]+F|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>5]|=128<<24-e%32;var f=a.floor(d/4294967296);c[(e+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,c[(e+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,b.sigBytes=4*(c.length+1),this._process(),b=this._hash,c=b.words;for(d=0;4>d;d++)e=c[d],c[d]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;return b},clone:function(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}}),f.MD5=i._createHelper(g),f.HmacMD5=i._createHmacHelper(g)})(Math),typeof nclk=="undefined"&&(nclk={});if(!g_pid)var g_pid="";if(!g_sid)var g_sid="";if(!ccsrv)var ccsrv="cc.naver.com";if(!nsc)var nsc="decide.me";nclk.vs="0.1.4",nclk.md="cc",nclk.pt=window.location.protocol=="https:"?"https:":"http:",nclk.ct=0,nclk.st=0,nclk.ec=encodeURIComponent,window.g_ssc!=undefined&&window.g_query!=undefined?nclk.st=1:nclk.st=0,nclk.sd=function(a,b){var c=0,d;if(nclk.ct>0){var e=(new Date).getTime();a+="&time="+e}typeof b=="function"&&(c=1);var f=new Image;f.src=a,f.onload=function(){d&&clearTimeout(d),c==1&&b(),f.onload=null;return},c==1&&(d=setTimeout(function(){b()},5e3)),nclk.ct++},nclk.gl=function(a,b,c,d,e,f,g){e==undefined&&(e=1),f==undefined&&(f=0),g||(g="");var h=nclk.pt+"//"+ccsrv+"/"+nclk.md+"?a="+a+"&r="+c+"&i="+b+"&m="+e;return f==1?h+="&ssc="+g_ssc+"&q="+nclk.ec(g_query)+"&s="+g_sid+"&p="+g_pid+"&g="+g:h+="&nsc="+nsc,d&&(h+="&u="+nclk.ec(d)),h},function(a){var b,c,d=a.document;typeof BMR=="undefined"&&(BMR={});if(BMR.v)return;b={v:"t7",cN:"BMR=",bU:"",loaded:!1,aL:function(b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},sT:function(){b.sC({s:(new Date).getTime(),r:d.URL.replace(/#.*/,""),r2:d.referrer.replace(/#.*/,"")})},nT:function(){var a=[];if(typeof window.performance=="undefined")return!1;var b=window.performance,c=b.timing,d=b.navigation,e=c.navigationStart,f=d.type,g=c.fetchStart,h=c.domainLookupStart,i=c.domainLookupEnd,j=c.connectStart,k=c.connectEnd,l=c.requestStart,m=c.responseStart,n=c.responseEnd,o=d.redirectCount,p=c.domLoading,q=c.domInteractive,r=c.domContentLoadedEventStart,s=c.domContentLoadedEventEnd,t=c.domComplete,u=c.loadEventStart,v=c.loadEventEnd,w=i-h,x=k-j,y=m-l,z=n-m,A=q-p,B=r-q,C=t-s,D=u-n;if(v>0)var E=v-u;else var E=0;var F,G;v>0?F=v:F=u,e>0?G=e:G=g;var H=F-G,I=n-G,J=f;return a.push("l="+H),a.push("d="+w),a.push("c="+x),a.push("rq="+y),a.push("rs="+z),a.push("nc="+I),a.push("di="+A),a.push("dl="+B),a.push("dc="+C),a.push("pc="+D),a.push("le="+E),a.push("n="+J),a.join("&")},eU:function(a){return encodeURIComponent(a)},sC:function(c){var f="",g;for(g in c)c.hasOwnProperty(g)&&(f+="&"+b.eU(g)+"="+b.eU(c[g]));f=f.replace(/^&/,""),d.cookie=b.cN+f+"; path=/; domain="+a.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase()},gC:function(){var a,c=d.cookie+";",f,g,h,i={};if((a=c.indexOf(b.cN))>=0){a+=b.cN.length,f=c.substring(a,c.indexOf(";",a)).split("&");if(f.length===0)return null;for(a=0,g=f.length;a<g;a++)h=f[a].split("="),h.push(""),i[decodeURIComponent(h[0])]=decodeURIComponent(h[1]);return i}return null},run:function(c){c||(c=(a.location.protocol?a.location.protocol:"http:")+"//sp.naver.com/sp");var d=function(){b.sT&&b.sT.call(),b.sT=null};b.bU=c,"onpagehide"in a?b.aL("pagehide",d):(b.aL("unload",d),b.aL("beforeunload",d)),b.aL("onpageshow"in a?"pageshow":"load",b.done)},done:function(){var a=(new Date).getTime(),c,f=0,g=[],h="",i=d.URL.replace(/#.*/,""),j=r2=d.referrer.replace(/#.*/,""),k=b.gC(),l=b.nT();b.loaded=!0,b.sC({}),g.push(b.bU+"?v="+b.v),k!=null&&(j=k.r,j==r2&&(j!=k.r2||j!=i)&&(f=1)),f==1&&(c=a-parseInt(k.s,10),g.push("t="+c)),l&&g.push(l),g.push("u="+b.eU(i)),g.push("r="+b.eU(j)),(f==1||l)&&b.sendBeacon(g)},sendBeacon:function(a){var b=new Image;b.src=a.join("&"),b.onload=function(){b.onload=null}}};for(c in b)b.hasOwnProperty(c)&&(BMR[c]=b[c])}(window);var nx_usain_beacon=function(){var a=0,b=[],c={send:function(c){function d(){function f(a){return a.duration==0}if(typeof window.performance=="undefined")return"";if(typeof window.performance.getEntriesByType=="undefined")return"";if(typeof window.performance.timing=="undefined")return"";var a=window.performance.timing,b=window.performance.getEntriesByType("resource"),c=a.loadEventStart-a.navigationStart,d={};d.css=d.script=d.img=0;var e={};e.css=e.script=e.img=0;for(var g=0;g<b.length;g++){if(b[g].fetchStart>=c)break;switch(b[g].initiatorType){case"link":f(b[g])?d.css++:e.css++;break;case"img":case"css":f(b[g])?d.img++:e.img++;break;case"script":f(b[g])?d.script++:e.script++;break;default:}}var h="rc="+[d.css,d.script,d.img].join(":")+"&rn="+[e.css,e.script,e.img].join(":");return h}if(a>0)return;a=1,setTimeout(function(){function e(a){return a?a-window.performance.timing.navigationStart:0}var a="";if(typeof window.performance!="undefined"){var f=window.performance.timing,g=window.performance.navigation;a="navt="+[e(f.navigationStart),e(f.unloadEventStart),e(f.unloadEventEnd),e(f.redirectStart),e(f.redirectEnd),e(f.fetchStart),e(f.domainLookupStart),e(f.domainLookupEnd),e(f.connectStart),e(f.connectEnd),e(f.requestStart),e(f.responseStart),e(f.responseEnd),e(f.domLoading),e(f.domInteractive),e(f.domContentLoadedEventStart),e(f.domContentLoadedEventEnd),e(f.domComplete),e(f.loadEventStart),e(f.loadEventEnd),g.type,g.redirectCount].join(":"),document.location.protocol==="https:"&&(b.push("_ssl"),window.chrome&&window.chrome.loadTimes&&window.chrome.loadTimes().wasFetchedViaSpdy&&b.push("_spdy"));var h=eg.agent().os;if(h.name=="android"&&h.version){var i="",j=h.version.split(".");j.length==1?i=j[0]:j.length>=2&&(i=[j[0],j[1]].join("_")),i&&b.push("_and"+i)}}var k=[];a&&k.push(a);var l=d();l&&k.push(l),k.push("tags="+b.join(":"));var m=new Image;m.src=c+"/er?v=2&"+k.join("&"),m.onload=function(){m.onload=null}},250)},add_tag:function(a){b.push(a)}};return c}(),FormUtil={set:function(a,b,c){var d=this.getObj(a,b);d&&d.val($.trim(c))},get:function(a,b){var c=this.getObj(a,b);return c?$.trim(c.val()):null},getObj:function(a,b){var c=a.find("[name="+b+"]");return c}},UaUtil={_isInApp:function(a){a=a.toLowerCase();var b=navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&b.indexOf("safari")<0?!0:a.indexOf("android_webkit")>=0&&b.indexOf("naver")>=0&&b.indexOf("inapp")>=0&&b.indexOf("search")>=0?!0:!1},_callNaverSearchApp:function(a,b,c){var d=(new Date).getTime(),e=navigator.userAgent.toLowerCase();b||setTimeout($.proxy(function(){if((new Date).getTime()-d<2e3){var a=c.toUpperCase();a.indexOf("SAFARI")>=0||a.indexOf("IPAD")>=0?confirm("네이버 앱을 설치하거나 이용할 수 있습니다. 설치하시겠습니까?")&&(location.href=oCC.iPhoneAppUrl):a.indexOf("ANDROID")>=0?confirm("네이버 앱을 설치하거나 이용할 수 있습니다. 설치하시겠습니까?")&&(location.href=oCC.androidAppUrl):alert("사진 첨부는 스마트폰에서 이용할 수 있습니다.")}},this),1500);var f=$("<iframe></iframe>").get(0);f.setAttribute("style","border:none;width:1px;height:1px"),f.setAttribute("src",a);var g=document.body;g.insertBefore(f,g.firstChild),g.removeChild(f),setTimeout(function(){scrollTo(0,1)},100)}},SpecialPopup=eg.Class({POPUP_LAYER:".mfp-content",construct:function(){this._welContent=$("#ct"),this._setEvent()},_setEvent:function(){$(document.body).on("click","._btnHide",$.proxy(this.__onEvent,this))},appendPopupLayer:function(a){this._welContent.append(a),this._aLayerContents=$("._layerSelector"),this._aLayerContents.length>0&&this._open(this._aLayerContents[0])},__onEvent:function(a){a.stopPropagation();var b=this._aLayerContents.splice(0,1);if(this._aLayerContents.length==0)this._close();else{var c=this._aLayerContents[0];$(this.POPUP_LAYER).empty().append(c)}},_open:function(a){var b={modal:!0,type:"inline",items:{src:a},callbacks:{close:function(){$(this.POPUP_LAYER).empty(),$("._layerSelector").remove()},resize:function(){$(".mfp-bg").css({height:"100%"})}}};$.magnificPopup.open(b)},_close:function(){$.magnificPopup.close()}}),Followship=eg.Class({__API_FOLLOW_URL:"/followship/follow.json",__API_UNFOLLOW_URL:"/followship/unfollow.json",__API_ISFOLLOING_URL:"/followship/isFollowing.json",construct:function(){},follow:function(a,b){this._follow(a,"FOLLOWING",this.__API_FOLLOW_URL,b)},unfollow:function(a,b){this._follow(a,"UNFOLLOW",this.__API_UNFOLLOW_URL,b)},_follow:function(a,b,c,d){var e={targetNo:a};$.ajax(c,{type:"POST",dataType:"json",data:e,context:this,success:function(a){try{var c=a.code;oCC.checkSuccess(c)?d&&typeof d=="function"&&(b=="FOLLOWING"?d("true"):b=="UNFOLLOW"&&d("false")):oCC.checkRedirect(c)&&(location.href=a.result)}catch(e){console.log(e)}},error:function(c){console.log("[FOLLOWSHIP] FOLLOW 실패, targetNo = "+a+", type = "+b)}})},isFollowing:function(a,b){var c={userNo:a};$.ajax(this.__API_ISFOLLOING_URL,{type:"POST",dataType:"json",data:c,context:this,success:function(a){var c=a.code;oCC.checkSuccess(c)&&b&&typeof b=="function"&&b(a.result)},error:function(b){console.log("[FOLLOWSHIP] FOLLOW 상태 조회 실패, targetNo = "+a)}})},redirectLogin:function(){alert("로그인이 필요합니다"),location.href="https://nid.naver.com/nidlogin.login?svctype=262144&url="+encodeURIComponent(document.URL)}}),MinimalFlick=eg.Class.extend(eg.Component,{construct:function(a){this.mc=Hammer(a),this.startX=0,this.startY=0,this.isStarted=!1,this.currentType="",this.bind()},bind:function(){this.mc.on("panleft panright",$.proxy(function(a){this.startX===0&&this.startY===0&&(this.startX=a.deltaX,this.startY=a.deltaY);if(this.isFlickEvent(this.startX,this.startY,a.deltaX,a.deltaY)){this.isStarted=!0;var b=a.type==="panleft"?"next":"prev";this.currentType!==b&&(this.currentType==="next"?this.startX<a.deltaX?(b="prev",a.beforeDirection=this.currentType,this.trigger("directionChange",a)):b=this.currentType:this.currentType==="prev"&&(this.startX>a.deltaX?(b="next",a.beforeDirection=this.currentType,this.trigger("directionChange",a)):b=this.currentType)),a.startX=this.startX,a.startY=this.startY,this.currentType=b,this.trigger(this.currentType,a)}},this)),this.mc.on("panend",$.proxy(function(a){this.startX=0,this.startY=0,this.isStarted&&this.trigger("end",a),this.isStarted=!1,this.currentType=""},this))},getAngle:function(a,b,c,d){var e=c-a,f=d-b;return Math.atan2(f,e)*180/Math.PI},isFlickEvent:function(a,b,c,d){var e=Math.abs(this.getAngle(a,b,c,d));return e>0&&e<15||e>150&&e<=180}}),FakeFlicking=eg.Class({construct:function(a){this.opt=a,this.flickPanel=$("#"+this.opt.sFlickingId).get(0),this._currEle=undefined,this._prevEle=$("#"+this.opt.sPrevId),this._nextEle=$("#"+this.opt.sNextId),this._flickingEle=$("#"+this.opt.sFlickingId),this._prevEleXPos={start:-this.opt.nScrollXThreshold/4,end:0},this._nextEleXPos={start:this._flickingEle.width(),end:this._flickingEle.width()-this.opt.nScrollXThreshold/4};var b="";(new MinimalFlick(this.flickPanel)).on("prev",$.proxy(function(a){var c=this._prevEleXPos.start+(a.deltaX-a.startX);c>this._prevEleXPos.end&&(c=this._prevEleXPos.end),b="prev",this._prevEle.css({left:c+"px"}).show()},this)).on("next",$.proxy(function(a){var c=this._nextEleXPos.start-(a.deltaX-a.startX);c>this._nextEleXPos.end&&(c=this._nextEleXPos.end),b="next",this._nextEle.css({left:c+"px"}).show()},this)).on("directionChange",$.proxy(function(a){this["_"+a.beforeDirection+"Ele"].hide()},this)).on("end",$.proxy(function(a){setPrevNextUrl(b)},this)),this.initAnimate(),this.setEvent()},setEvent:function(){$(window).on("orientationchange",$.proxy(function(a){this._nextEleXPos={start:this._flickingEle.width(),end:this._flickingEle.width()-this.opt.nScrollXThreshold/4},this._prevEle.hide(),this._nextEle.hide()},this))},initAnimate:function(){this._prevEle.css({left:this._prevEleXPos.end+"px",top:this.opt.nTopPosition+"px"}).show(),this._nextEle.css({left:this._nextEleXPos.end+"px",top:this.opt.nTopPosition+"px"}).show(),setTimeout($.proxy(function(){this._prevEle.animate({left:this._prevEleXPos.start},500),this._nextEle.animate({left:this._nextEleXPos.start},500)},this),this.opt.nFirstSlideOutTime)}}),InfinityScroll=eg.Class({_DEFAULT_START_INDEX:1,_END_OF_LIST:!1,_htInitParam:null,_PERSIST_KEY:"bboom",construct:function(a){this._htInitParam=a,this._$checkInterval=200,this._$expandSize=0,this._$content=$(this._htInitParam.sISContentsWrapperSelector),this._documentHeight=document.documentElement.scrollHeight,this._initInfinitScroll(),this._initEvent()},_initEvent:function(){this._initPersits(),$(window).scroll(function(){this.oInfinityScroll._visible.options.expandSize=this.oInfinityScroll._$expandSize,this.oInfinityScroll._visible.check(this.oInfinityScroll._$checkInterval)})},_initInfinitScroll:function(){function b(){a-100<=window.scrollY&&(a=document.documentElement.scrollHeight,this.oInfinityScroll._getRequestOption(),this.oInfinityScroll._getMoreList())}var a=document.documentElement.scrollHeight;this._params={startIndex:Number(this._DEFAULT_START_INDEX),limit:Number(this._htInitParam.nISDefaultLimit),length:Number(this._htInitParam.nISDefaultLimit)},(history.state==null||history.state=="null")&&this._getMoreList(),this._visible=(new eg.Visible({targetClass:"check_visible",expandSize:this._$expandSize})).on("change",function(a){$(a.visible).each(function(a){var c=$(this);c.hasClass("lazyloaded")||c.addClass("lazyloaded"),b()})}),this._visible.check()},_getMoreList:function(){if(this._END_OF_LIST)return;var a=this;$.ajax({type:this._htInitParam.sHttpProtocol,url:this._htInitParam.sISRequestURL,data:this._params,context:a,success:function(b){try{var c=$(b).length;c==0?this.__noSearchData():(this._params.length>c&&this.__noMoreData(),a._$content.append(b)),this._visible.refresh()}catch(d){console.log(d)}finally{typeof SocialPlugIn_Core=="function"&&this._initSocialPlugin(),lcs_do()}},error:function(a){console.log("err = "+a)}})},_initPersits:function(){var a=this;this._$content.addClass("NO_TAP_HIGHLIGHT"),this._$content.on("click","a",function(b){$(".thumbnail").each(function(){var a=$(this);a.attr("onload","onLoadImage(this);")}),$.persist(a._PERSIST_KEY,{comments:a._$content.html(),scrollTop:document.body.scrollTop,imageCount:$(".thumbnail",a._$content).size()})});var b=$.persist(this._PERSIST_KEY);b&&(a._$content.html(b.comments),a._nImageCount=b.imageCount,a._nScrollTop=b.scrollTop)},_getRequestOption:function(){var a=$(".check_visible"),b=a.last();if(b!=null){var c=$(b),d=c.data("postNo"),e=c.data("sortDate"),f=c.data("data-idx");if(e==undefined||e=="")e="";this._params.fromPostNo=d,this._params.fromDate=e,this._params.startIndex=a.index(b)+this._DEFAULT_START_INDEX}},__noSearchData:function(){this.__setEndOfList(),typeof noSearchData=="function"&&noSearchData()},__noMoreData:function(){this.__setEndOfList()},__setEndOfList:function(){this._END_OF_LIST=!0,$("._load_timing_next").hide()},_initSocialPlugin:function(){window._splugin?window._splugin.init():window._splugin=SocialPlugIn_Core({evKey:"bboom",serviceName:"뿜",dimmed:"fixed",onClick:function(a){},onShow:function(){},onHide:function(){},onResize:function(a){},onRotate:function(a){}})}}),SpinPopup=eg.Class({_DEFAULT_POPUP_FORM:"<div style='margin:100px 0px 0px;bottom:0px;width:100%;font-weight:bold;text-align:center;color:#fff'>저장중</div>",construct:function(){},open:function(a){a||(a=this._DEFAULT_POPUP_FORM);var b={modal:!0,type:"inline",items:{src:a},callbacks:{open:function(){var a={color:"#fff"},b=(new Spinner(a)).spin();$(".mfp-content").append(b.el)},resize:function(){$(".mfp-bg").css({height:"100%"})}}};$.magnificPopup.open(b)},close:function(){$.magnificPopup.close()}}),CommonComponent=eg.Class({name:"CommonComponent",_storagePrefix:"m.bboom.naver.com.",_loginUrl:"https://nid.naver.com/nidlogin.login?svctype=262144&url=",_logoutUrl:"https://nid.naver.com/nidlogin.logout?returl=",iPhoneAppUrl:"http://itunes.apple.com/app/id393499958?mt=8",androidAppUrl:"http://m.androidapp.naver.com/naverapp.html",construct:function(){this.__initBboomSpecialPopup(),this.__setEvent()},__setEvent:function(){$(document.body).on("click",$.proxy(this.__onEvent,this))},__onEvent:function(a){var b=$(a.target);b.hasClass("_btnCheckAchievement")&&(a.stopPropagation(),this.__goAchievementList(a))},getParam:function(a,b){if(a){b=b||"param";var c=new RegExp("_"+b+"\\((.*?)\\)"),d=a.match(c);if(d&&d[0]&&d[1])return d[1].split("|")}return null},hasNaverId:function(){return $("naverId")!=null},getNaverId:function(){return $("naverId").value},checkSuccess:function(a){return Number(a)==0?!0:!1},checkBboomDown:function(a){return Number(a)==1?!0:!1},checkRedirect:function(a){return Number(a)==1002||Number(a)==1101||Number(a)==1102||Number(a)==1103||Number(a)==1104?!0:!1},checkError:function(a){return Number(a)!=0&&Number(a)!=1002&&Number(a)==1101&&Number(a)==1102&&Number(a)==1103&&Number(a)==1104?!0:!1},paramToQuery:function(a,b){var c=[];return $A(b).forEach(function(b,d,e){c.push(b+"="+a[b])}),c.join("&")},merge:function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},reverse:function(a){},getDataset:function(a){var b={};for(var c in a.attributes){var d=a.attributes[c];if(d.name!=undefined&&d.name.indexOf("data-")==0){var e=d.name.replace("data-","");b[this.toCamel(e)]=d.value}}return b},getData:function(a,b){return a.attributes[this.toDashed("data-"+b)].value},setData:function(a,b,c){$(a).attr(this.toDashed("data-"+b),c)},toDashed:function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},toCamel:function(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})},getTime:function(){return(new Date).getTime()},setToLocal:function(a,b){return typeof window.localStorage!=undefined?(window.localStorage.setItem(this._storagePrefix+a,b),window.localStorage.getItem(this._storagePrefix+a)):undefined},getFromLocal:function(a){return typeof window.localStorage!=undefined?window.localStorage.getItem(this._storagePrefix+a):undefined},getLoginUrl:function(a){return this._loginUrl+encodeURIComponent(a)},getLogoutUrl:function(a){return this._logoutUrl+encodeURIComponent(a)},jsonToString:function(a){var b=[];for(var c in a){var d=a[c];d&&b.push(c.toString()+": '"+d+"'")}return"{"+b.join(", ")+"}"},mergeText:function(a,b,c){return a+"!@#$"+b+"!@#$"+c},splitText:function(a){return a.split("!@#$")},getMavenBuildtime:function(){return"TIMESTAMP"},getReplaceAllResult:function(a,b,c){return a.split(b).join(c)},getRequestParam:function(){var a=location.search.substring(1,location.search.length).split("&"),b={},c,d;for(d=0;d<a.length;d+=1)c=a[d].split("="),b[decodeURIComponent(c[0])]=decodeURIComponent(c[1]);return b},__initBboomSpecialPopup:function(){this.__oBboomSpecialPopup=new SpecialPopup},showLikePopUp:function(a,b){this.__showLikePopUp(a,b)},__showLikePopUp:function(a,b){var c=a;c!=null&&c.length>0?this.__oBboomSpecialPopup.appendPopupLayer(c):b&&(this.__toggleBBoomupLoadingImage(!0),setTimeout(this.__toggleBBoomupLoadingImage,1500,!1))},__toggleBBoomupLoadingImage:function(a){var b=$(".ed_btn_bbup");if(a){var c=$(document).scrollTop(),d=$(window).height()/2-b.outerHeight(),e=c+d;b.attr("style","top:"+e+"px;")}else b.attr("style","visibility:hidden;")},openPopup:function(){$.ajax("/achievement/newObtainedAchievement.json",{type:"POST",dataType:"json",data:param,timeoutout:3e3,context:this,success:function(a){var b=a.code;this.checkSuccess(b)?this.__showLikePopUp(a.message,!1):alert(a.message)},error:function(a){}})},__goAchievementList:function(a){location.href="/profile/achievement/list.nhn"}}),_toDashed=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},_toCamel=function(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})},json2str={$:function(a){if(typeof a=="object"&&a==null)return"null";if(typeof a=="undefined")return'""';if(typeof a=="boolean")return a?"true":"false";if(typeof a=="string")return this.s(a);if(typeof a=="number")return a;if(a instanceof Array)return this.a(a);if(a instanceof Object)return this.o(a)},s:function(a){var b={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"},c=function(a){return typeof b[a]!="undefined"?b[a]:a};return'"'+a.replace(/[\\"'\n\r\t]/g,c)+'"'},a:function(a){var b="[",c="",d=a.length;for(var e=0;e<d;e++){if(typeof a[e]=="function")continue;b+=c+this.$(a[e]),c||(c=",")}return b+"]"},o:function(a){var b="{",c="";for(var d in a){if(typeof a[d]=="function")continue;b+=c+this.s(d)+":"+this.$(a[d]),c||(c=",")}return b+"}"}},ImageUploader=eg.Class({_ID_FORM:"_formImageUploader",_ID_INPUT_FILE:"inputImagePath",_HTML_STRING_FORM:"",_HTML_STRING_INPUT:"",_HTML_STRING_UPLOADING:"<div style='margin:100px 0px 0px;bottom:0px;width:100%;font-weight:bold;text-align:center;color:#fff'>업로드중</div>",_htInitParam:null,construct:function(a){this._htInitParam=a,this._initVariable(),this._createForm(),this._initEvent()},_initVariable:function(){this._HTML_STRING_FORM="<form id='"+this._ID_FORM+"' method='post' action='/post/uploadImage.json' enctype='multipart/form-data'/>",this._HTML_STRING_INPUT="<input type='file' accept='image/*' id='"+this._ID_INPUT_FILE+"' name='"+this._ID_INPUT_FILE+"' style='opacity:0'/>"},_createForm:function(){$("#"+this._ID_FORM).length==0&&$(document.body).append($(this._HTML_STRING_FORM).append(this._HTML_STRING_INPUT)),this._welFormImageUploader=$("#"+this._ID_FORM),this._welBtnFileSelector=$("#"+this._ID_INPUT_FILE)},_initEvent:function(){},openFileSelector:function(){this._welBtnFileSelector.off(),this._welBtnFileSelector.on("change",$.proxy(this._onFileSelected,this)),this._welBtnFileSelector.trigger("click",!0)},_onFileSelected:function(a){var b=this._welBtnFileSelector.val();if(b==null||b.length<=0)return;if(this._htInitParam&&this._htInitParam.onSelected instanceof Function&&!this._htInitParam.onSelected(this._welBtnFileSelector[0].files)){this._disposeUploading();return}this._prepareUploading(),setTimeout($.proxy(this._uploadImage,this),200)},_uploadImage:function(){var a=this,b=this._welFormImageUploader[0],c=new FormData(b);$.ajax(b.action,{type:"POST",dataType:"json",data:c,context:a,processData:!1,contentType:!1,success:function(a){this._disposeUploading(),this._htInitParam&&this._htInitParam.onUploadSuccess instanceof Function&&this._htInitParam.onUploadSuccess(a)},error:function(a){this._disposeUploading(),this._htInitParam&&this._htInitParam.onUploaderror instanceof Function&&this._htInitParam.onUploaderror(a)}})},_prepareUploading:function(){var a={modal:!0,type:"inline",items:{src:this._HTML_STRING_UPLOADING},callbacks:{open:function(){var a={color:"#fff"},b=(new Spinner(a)).spin();$(".mfp-content").append(b.el)},resize:function(){$(".mfp-bg").css({height:"100%"})}}};$.magnificPopup.open(a)},_disposeUploading:function(){this._welBtnFileSelector.val(""),$.magnificPopup.close()}}),Profile={Commons:{_COOKIE_DOMAIN:"bboom.naver.com",_VIEWTYPE_COOKIE_NAME:"viewType",_VIEWTYPE_VERTICAL_COOKIE_VALUE:0,setCookie:function(a,b){$.cookie(a,b,{expires:365,domain:this._COOKIE_DOMAIN,path:"/"})},getCookie:function(a){return $.cookie(a)},removeCookie:function(a){$.removeCookie(a,{domain:this._COOKIE_DOMAIN,path:"/"})},goHome:function(){location.href="/profile/edit/list.nhn"}},ProfileImage:eg.Class({construct:function(a){this._htUserOption=a||this._htUserOption,this._oCtx=this._htUserOption.htContext,this._sSrvUA=this._oCtx.userAgent,this._bInApp=UaUtil._isInApp(this._sSrvUA),this.setEvent()},setEvent:function(){$(document.body).on("click",".pf_edt",$.proxy(this._onClickProfileImage,this)),$(document.body).on("click",".btn_cover_edt",$.proxy(this._onClickCoverImage,this))},_onClickProfileImage:function(a){this.requestNaverappImageUpload(oUploadProfileImage)},_onClickCoverImage:function(a){this.requestNaverappImageUpload(oUploadCoverImage)},requestNaverappImageUpload:function(a){this.oUploadComponent=a,this._bInApp?this._callNaverSearchApp():a.openFileSelector()},_callNaverSearchApp:function(){var a=undefined;this._bInApp&&!this._bIsAndroid?a=this._oCtx.naverInAppUrl:a=this._oCtx.naverAppUrl,UaUtil._callNaverSearchApp(a,this._bInApp,this._sSrvUA)},onUploadSuccessByNaverApp:function(a){var b=this._oCtx.phinf+a;this.oUploadComponent==oUploadProfileImage?$("#profileImg").val(b):this.oUploadComponent==oUploadCoverImage&&$("#coverImg").val(b),$("#userForm").submit()}}),Home:eg.Class({_MAX_EXPOSURE_COUNT:99999,_htInitParam:null,construct:function(a){this._htInitParam=a,this._welFollowCnt=$("#followCount"),this._initEvent()},_initEvent:function(){$(document).on("click",".btn_follow",$.proxy(this._onClickFollow,this)),$(document).on("click","._clickPostLike",$.proxy(this._clickPostLike,this)),$(document).on("click","._clickTagArea",$.proxy(this._clickTagArea,this))},_clickTagArea:function(a){var b=this,c=$(a.currentTarget);c.parent().toggleClass("on")},_clickPostLike:function(a){var b=$(a.currentTarget);return this._postLike(b)},_postLike:function(a){var b=a.data("clickCode"),c=this,d={boardNo:a.attr("data-board-no"),postNo:a.attr("data-post-no")};$.ajax({type:"POST",url:"/post/like.json",dataType:"json",data:d,success:function(d){try{var e=d.code,f=d.message,g=d.result;oCC.checkSuccess(e)?(c._changePostLikeCount(Number(f),a.attr("data-post-no")),oCC.showLikePopUp(g,!0)):oCC.checkBboomDown(e)?(c._changePostLikeCount(Number(f),a.attr("data-post-no")),b+="cc"):oCC.checkRedirect(e)?location.href=d.result:alert(f),nclk(this,b,"","")}catch(h){console.log(h),nclk(this,b,"","")}},error:function(a){console.log("err = "+a),nclk(this,b,"","")}})},_changePostLikeCount:function(a,b){var c=a.toString(),d;c.length>4?d="9,999+":c.length==4?d=c.substr(0,1)+","+c.substr(1,3):d=c;var e=$("#likeCount_"+b),f=$(".u_hc",e);e.html(f),e.append(d)},_onClickFollow:function(a){var b=this,c=$(a.currentTarget),d=c.hasClass("on")?"FOLLOW":"UNFOLLOW",e=c.hasClass("on")?"/followship/follow.json":"/followship/unfollow.json";if(d=="FOLLOW"){if(this._htInitParam.bIsFollowing)return alert("이미 팔로잉 중인 상태입니다."),!1;if(!confirm("["+this._htInitParam.sTrgetNickname+"] 님을 팔로잉 하시겠습니까?"))return!1}else if(d=="UNFOLLOW"){if(!this._htInitParam.bIsFollowing)return alert("팔로잉 상태가 아닙니다."),!1;if(!confirm("["+this._htInitParam.sTrgetNickname+"] 님의 팔로우를 취소 하시겠습니까?"))return!1}var f={targetNo:this._htInitParam.nTargetNo};$.ajax(e,{type:"POST",dataType:"json",data:f,context:b,success:function(a){oCC.checkSuccess(a.code)?(d=="FOLLOW"?(c.removeClass("on"),this._increaseFollowCnt()):d=="UNFOLLOW"&&(c.addClass("on"),this._decreaseFollowCnt()),this._htInitParam.bIsFollowing=!this._htInitParam.bIsFollowing):oCC.checkRedirect(a.code)?location.href=a.result:alert(a.message)},error:function(a){console.log(a)}})},_increaseFollowCnt:function(){var a=this._getCount(this._welFollowCnt);a<this._MAX_EXPOSURE_COUNT?this._welFollowCnt.text(a+1):this._welFollowCnt.text(this._MAX_EXPOSURE_COUNT+"+")},_decreaseFollowCnt:function(){var a=this._getCount(this._welFollowCnt);if(a>=this._MAX_EXPOSURE_COUNT)return;a>1?this._welFollowCnt.text(a-1):this._welFollowCnt.text(0)},_getCount:function(a){if(a){var b=a.text().replace(",","").replace("+","");return Number(b)}}}),Nickname:eg.Class({_htInitParam:null,construct:function(a){this._htInitParam=a,this._welNickname=$("#nickname"),this._initEvent()},_initEvent:function(){$(window).load($.proxy(this._onLoad,this)),$(document).on("click","#btnSubmit",$.proxy(this._onSave,this)),$(document).on("click",".btn_clear",$.proxy(this._onClickClearBtn,this))},_onLoad:function(){this._htInitParam.sIsValid=="Y"&&(alert("해당 닉네임은 사용하실 수 없습니다."),this._welNickname.focus())},_onSave:function(){var a=this._welNickname.val(),b=$.trim(a);if(a==undefined||b=="")return alert("닉네임을 입력해주세요"),this._welNickname.focus(),!1;this._welNickname.val(b);if(!confirm("닉네임을 "+b+"(으)로 변경 하시겠습니까?"))return this._welNickname.focus(),!1;var c=$("#ct form")[0];c.submit()},_onClickClearBtn:function(){this._welNickname.val("")}}),StatusMsg:eg.Class({_htInitParam:null,construct:function(a){this._htInitParam=a,this._welStatusMsg=$("#statusMsg"),this._welMsgCnt=$("#messageCnt"),this._sOrigMsg=this._getInputMessage(),this._initEvent()},_initEvent:function(){$(document).on("click","#btnSave",$.proxy(this._onSave,this)),$(document).on("click",".btn_clear",$.proxy(this._onClickClearBtn,this)),this._welStatusMsg.on("keyup",$.proxy(this._onChangeMessage,this))},_getInputMessage:function(){return this._welStatusMsg.val()},_onChangeMessage:function(){var a=this._getInputMessage();this._welMsgCnt.text(a.length)},_onSave:function(){var a=this._getInputMessage();if(a==""||a.length==0)return alert("상태 메시지를 입력해주세요."),!1;if(this._sOrigMsg==a)return alert("동일한 메시지입니다."),!1;var b=$("#ct form")[0];b.action="/profile/updateStatusMsg.nhn",b.submit()},_onClickClearBtn:function(){this._welStatusMsg.val("")}}),Exposure:eg.Class({_ID_CHK_OPEN:"#chk_opn",_ID_CHK_CLOSE:"#chk_clse",_htInitParam:null,construct:function(a){this._htInitParam=a,this._welChkOpen=$(this._ID_CHK_OPEN),this._welChkClose=$(this._ID_CHK_CLOSE),this._initEvent()},_initEvent:function(){$(document).on("click",this._ID_CHK_OPEN,$.proxy(this._onClickPublic,this)),$(document).on("click",this._ID_CHK_CLOSE,$.proxy(this._onClickPrivate,this))},_onClickPublic:function(){this._welChkOpen.addClass("on"),this._welChkClose.removeClass("on")},_onClickPrivate:function(){this._welChkOpen.removeClass("on"),this._welChkClose.addClass("on")}}),Achievement:eg.Class({_htInitParam:null,construct:function(a){this._htInitParam=a,this._initEvent(),this._insertLineBreak()},_initEvent:function(){$(document).on("click",".lst_ct",$.proxy(this._onClickLayerToggle,this)),$("div.achieve_sc li").on("click",$.proxy(this._onClickOpenPopup,this)),$(document).on("click",".btn_clse",$.proxy(this._onClickClosePopup,this))},_insertLineBreak:function(){var a=$(".lineBreak");a.each(function(a,b){var c=$(b);c.html("<em>Lv "+(a%5+1)+".</em><span>"+c.text().replace(" "," </span>"))})},_onClickLayerToggle:function(a){var b=$(a.currentTarget);b&&b.toggleClass("on")},_onClickOpenPopup:function(a){var b=$(a.currentTarget);if(b.hasClass("off"))return;this._setPopupData(a),this._showAchievement()},_setPopupData:function(a){var b=$(a.currentTarget),c=b.data();$("#css").removeClass().addClass(c.css),$("#achievementName").text(c.achievementName).prepend("<em>Lv "+c.achievementLevel+". </em>").prepend("<span class='u_hc'>업적명</span>"),$("#achievementDetail").text(c.achievementDetail).prepend("<span class='u_hc'>업적설명</span>"),$("#createdAt").text("업적 획득일: "+c.createdAt),c.achievementType>4||c.achievementLevel>=5?$("#nextAchievement").hide():($("#nextAchievement").show(),$("#nextList").empty(),this._setNextAchievementInPopup(b.next()),c.achievementLevel<4&&this._setNextAchievementInPopup(b.next().next()))},_setNextAchievementInPopup:function(a){$("#nextList").append("<li><span class='"+a.data("css")+"'></span><em>Lv "+a.data("achievementLevel")+". </em>"+a.data("achievementName")+"</li>")},_onClickClosePopup:function(a){this._hideAchievement()},_showAchievement:function(a){$(".ly_achieve").css("opacity","0").show().animate({opacity:"1"},1e3),$(".ly_dim").css("opacity","0").addClass("on").animate({opacity:"1"},1e3)},_hideAchievement:function(a){var b=$(".ly_achieve"),c=$(".ly_dim");b.animate({opacity:"0"},{duration:500,complete:function(a){b.hide()}}),c.animate({opacity:"0"},{duration:500,complete:function(a){c.removeClass("on")}})}})},MainHome=eg.Class({name:"MainHome",construct:function(){this._tplHotPostByTagHtml=$("#_tplHotPostByTag").html().replace(/{{/g,"<%").replace(/}}/g,"%>"),this._welTodayBboomInfo=$(".today_info"),this._initHotTagScroll(),this._setEvent()},_initHotTagScroll:function(){this._oScrollTag=new IScroll("#view",{scrollX:!0,scrollY:!1,useTransform:!0,eventPassthrough:!0,HWCompositing:eg.isHWAccelerable(),useTransition:eg.isTransitional(),disableMouse:!0,disablePointer:!0})},_setEvent:function(){$(document.body).addClass("NO_TAP_HIGHLIGHT"),$(document.body).on("click",$.proxy(this._onEvent,this)),$(document).ready($.proxy(this._onLoad,this))},_onEvent:function(a){var b=$(a.target);b.hasClass("_btnMoreTodayBboom")?(a.stopPropagation(),this._clickMoreTodayBboom(b)):b.hasClass("_btnHotTag")?(a.stopPropagation(),this._clickHotTag(b)):b.hasClass("_btnPostListByTag")?(a.stopPropagation(),this._clickPostListByTag()):b.hasClass("_btnViewInfo")?(a.stopPropagation(),b.hasClass("btn_close")?this._welTodayBboomInfo.hide():this._welTodayBboomInfo.toggle(),nclk(this,"htb.info","","")):b.hasClass("_btnViewType")&&(a.preventDefault(),this._clickViewTypeBtn(b))},_onLoad:function(a){this._getHotPostByTag()},_getHotPostByTag:function(tagName){tagName||(tagName=$("._btnHotTag").parent().parent().data("tag-name"));var params={tagName:tagName};$.ajax({type:"POST",url:"/main/getHotPostByTag.json",data:params,context:this,success:function(jsonObject){try{var jsonResult=eval(jsonObject),sCode=jsonResult.code;oCC.checkSuccess(sCode)?this._initHotPostByTagScroll(jsonResult):oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message)}catch(err){console.log(err)}},error:function(a){console.log("err = "+a)}})},_initHotPostByTagScroll:function(a){var b="view1",c=$("#_ulHotPostByTag"),d=a.result;$("#"+b).find(">div").width(115*d.length),c.html("");for(var e=0;e<d.length;e++)d[e].thumbnailUrl.indexOf("?")>=0?d[e].thumbnailUrl+="&":d[e].thumbnailUrl+="?",c.append(_.template(this._tplHotPostByTagHtml,d[e]));this._oScrollPost||(this._oScrollPost=new IScroll("#view1",{scrollX:!0,scrollY:!1,useTransform:!0,eventPassthrough:!0,HWCompositing:eg.isHWAccelerable(),useTransition:eg.isTransitional(),disableMouse:!0,disablePointer:!0})),this._oScrollPost.refresh();var f=this;setTimeout(function(){f._oScrollPost.scrollTo(0,0),f._oScrollPost.refresh()},0)},_clickMoreTodayBboom:function(a){$("._elTodayBboom").show(),$(".u_pg").hide()},_clickHotTag:function(a){var b=a.parent().parent(),c=b.attr("data-tag-name");this._getHotPostByTag(c),$("._markSelectedTag").remove(),b.parent().append("<span class='ico_arr _markSelectedTag'></span>"),$(".scl_ct").removeClass("on"),b.parent().addClass("on")},_clickPostListByTag:function(a){var b=$("._markSelectedTag").prev().data("tag-name");location.href="/search/search.nhn?query="+b},_clickViewTypeBtn:function(a){a.hasClass("view_card")?(nclk(this,"htb.cardview","",""),location.href="/main/home.nhn?viewType=0"):a.hasClass("view_lst")&&(nclk(this,"htb.listview","",""),location.href="/main/home.nhn?viewType=1")}}),PostView=eg.Class({name:"PostView",__htUserOption:null,__commentLimitFrom:0,__commentLimit:25,__initialLimit:2,__imageLoadComplete:!1,__bestCommentLoadComplete:!1,__raisingPostPage:1,__recommendVideoPage:1,__COOKIE_SELVT_NAME:"BBOOM_VIEW_TYPE",__COOKIE_SELVT_DURATION:365,__COOKIE_SELVT_DOMAIN:"bboom.naver.com",__PERSIST_KEY:"bboom",socilaPluginInitData:{style:"m_standard",servicename:"뿜",evkey:"bboom",title:null,source:null,me2key:"BaqMM8SKQzO4dnvzcqhLbQ",tags:["네이버뿜"],me:{display:"off"},bookmark:{display:"on"},me2day:{display:"on"},mail:{srvid:"social",srvurl:null},cafe:{sourceType:"111",sourceTitle:"네이버뿜",sourceContents:"${postText}",sourceForm:1},blog:{blogId:"naver",sourceType:"111",sourceTitle:"네이버뿜",sourceContents:"${postText}",sourceForm:1}},construct:function(a){this.__htUserOption=a,this.__elPostInfo=$("#"+this.__htUserOption.nBoardNo+"_"+this.__htUserOption.nPostNo),this.__elCommentArea=$("#commentListArea"),this.__elBestCommentArea=$("#bestCommentListArea"),this.__elMoreCommentButton=$("#beforeCommentMore"),this.__elCommentTextArea=$("#textAreaComment"),this.__elCommentLength=$("#commentLength"),this.__checkAndInjectOnClick(),this.__initLineStickerPopup(),this.__initPersits(),this.__setEvent(),location.href.indexOf("/video/")>0&&($("#ct").append($("#raisingPostOther")),$("#ct").append($("#raisingPostList")),$("#ct").append($("#raisingPostMore")))},__checkAndInjectOnClick:function(){var a=eg.agent().os;if(a.name!="ios")return;if(this.__isInApp()==0)return;$("img._clickImage").each(function(){var a=$(this);if(a.attr("img-type")!="GIF"){var b="javascript:location.href='attachView.nhn?attachType=image&attachSrc="+a.attr("org-src")+"';";a.attr("onclick",b)}})},__isInApp:function(){var a=navigator.userAgent;return a.indexOf("NAVER(inapp;",0)>0?!0:!1},__initSocialPlugin:function(){window.__splugin?window.__splugin.init():window.__splugin=SocialPlugIn_Core({evKey:"bboom",serviceName:"뿜",dimmed:"fixed",onClick:function(a){},onShow:function(){},onHide:function(){},onResize:function(a){},onRotate:function(a){}}),$("._spi_release").addClass("on"),$("._spi_release_ly").toggle()},__initFakeFlicking:function(){var a=this;this.__fakeFlicking=new FakeFlicking({sFlickingId:"mflick",sFlickingContainerId:"flick-container",sPrevUrl:"",sNextUrl:"",sPrevId:"_a3_prev",sNextId:"_a3_next",nFirstSlideOutTime:2e3,nScrollXThreshold:184,nTopPosition:295})},__initLineStickerPopup:function(){var a=this;this.__oLineStickerLayer=new nts.m.LineStickerLayer({sImageBaseUrl:"",sPackListAPI:"/line/stickerPackList.json",sStickerListAPI:"/line/stickerList.json",onClickSticker:function(b){this.hide(),a.__createStickerComment(b.stickerCode)}})},__initSlideScroll:function(){if(this.__htUserOption.bDefaultRasingPost)var a=new IScroll("#view",{scrollX:!0,scrollY:!1,useTransform:!0,eventPassthrough:!0,HWCompositing:eg.isHWAccelerable(),useTransition:eg.isTransitional(),disableMouse:!1,disablePointer:!0})},__initPersits:function(){var a=this;this.__elCommentArea.addClass("NO_TAP_HIGHLIGHT"),this.__elCommentArea.on("click","a",function(b){$.persist(a.__PERSIST_KEY,{comments:a.__elCommentArea.html(),scrollTop:document.body.scrollTop,commentLimitFrom:a.__commentLimitFrom,imageCount:$(".lazy_load",a.__elCommentArea).size()})});var b=$.persist(this.__PERSIST_KEY);b&&(a.__elCommentArea.html(b.comments),a.__nImageCount=b.imageCount,a.__commentLimitFrom=b.commentLimitFrom,a.__nScrollTop=b.scrollTop)},__setEvent:function(){$(document.body).addClass("NO_TAP_HIGHLIGHT"),$(document.body).on("click",$.proxy(this.__onEvent,this)),$(window).on("load",$.proxy(this.__onLoad,this)),this.__elCommentTextArea.on("change",$.proxy(this.__checkCommentText,this)),this.__elCommentTextArea.on("keyup",$.proxy(this.__checkCommentText,this)),this.__elCommentTextArea.on("input",$.proxy(this.__checkCommentText,this))},__onEvent:function(a){var b=$(a.target);b.hasClass("_clickPostLike")?(a.stopPropagation(),this.__clickPostLike(a)):b.hasClass("_clickImage")?(a.preventDefault(),this.__clickImage(a)):b.hasClass("_clickCommentMore")?(a.stopPropagation(),this.__clickCommentMore()):b.hasClass("_clickPrev")?(a.stopPropagation(),this.goPrev()):b.hasClass("_clickNext")?(a.stopPropagation(),this.goNext()):b.hasClass("_clickList")?(a.stopPropagation(),this.goList()):b.hasClass("_clickCreateComment")?(a.stopPropagation(),this.__createComment(a)):b.hasClass("_clickDeleteComment")?(a.stopPropagation(),this.__deleteComment(a)):b.hasClass("_clickLikeComment")?(a.stopPropagation(),this.__commentLike(a)):b.hasClass("_clickFocusCommentText")?(a.stopPropagation(),this.__elCommentTextArea.focus()):b.hasClass("type_card")?(a.stopPropagation(),this.__clickViewType()):b.hasClass("_viewTypeItem")?(a.stopPropagation(),this.__clickViewTypeItem(b)):b.hasClass("_clickDeletePost")?(a.stopPropagation(),this.__deletePost(b)):b.hasClass("_clickPhotoComment")?(a.stopPropagation(),this.__uploadPhotoWithCache()):b.hasClass("_btnGoComment")?(a.stopPropagation(),this.__goCommentForm(a)):b.hasClass("_btnGoPost")?(a.stopPropagation(),location.href="/board/postForm.nhn"):b.hasClass("_btnShowModifyArea")?(a.stopPropagation(),b.toggleClass("on")):b.hasClass("_clickRaisingPostMore")?(a.stopPropagation(),this.__raisingPostMore(a)):b.hasClass("_clickRecommendVideoPostMore")&&(a.stopPropagation(),this.__recommendVideoPostMore(a))},__onLoad:function(){var a=$(".ifr_w");if(a){var b=Math.round(a.width()*.66);a.height(b)}this.__initUsain(),this.__initCommentArea(),this.__showPostEditAreaIfLoginUser(),this.__initSocialPlugin()},__onLoadImage:function(a){a.complete&&this.__nImageCount--,this.__nImageCount<=0&&(this.__imageLoadComplete=!0,this.__imageLoadComplete&&this.__bestCommentLoadComplete&&window.scrollTo(0,this.__nScrollTop))},__initUsain:function(){var a=.1,b=new Date,c=b.getMilliseconds();c<=1e3*a&&(nx_usain_beacon.add_tag("bboom"),nx_usain_beacon.send("http://log.usain.naver.net"))},__initCommentArea:function(){this.__htUserOption.nCommentCount>0&&this.__requestCommentList(!0)},__requestCommentList:function(isBest){var param={boardNo:Number(this.__htUserOption.nBoardNo),postNo:Number(this.__htUserOption.nPostNo),isBest:isBest,limitFrom:this.__commentLimitFrom,limit:this.__commentLimitFrom<=0?this.__initialLimit:this.__commentLimit};$.ajax("/comment/list.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;oCC.checkSuccess(sCode)?isBest?this.__callbackBestCommentList(jsonResult.result,jsonResult.message):this.__callbackCommentList(jsonResult.result,jsonResult.message):oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message)},error:function(a){}})},__callbackBestCommentList:function(a,b){isNaN(b)&&(b=0),this.__elBestCommentArea.html(a),this.__bestCommentLoadComplete=!0;var c=this.__htUserOption.nCommentCount-this.__commentLimitFrom;history.state==null||history.state=="null"?this.__requestCommentList(!1):c<=0&&this.__elMoreCommentButton.hide(),this.__imageLoadComplete&&this.__bestCommentLoadComplete&&window.scrollTo(0,this.__nScrollTop)},__callbackCommentList:function(a,b){this.__elCommentArea.prepend(a);if(isNaN(b))return;if(this.__elMoreCommentButton==null)return;this.__commentLimitFrom+=Number(b);var c=this.__htUserOption.nCommentCount-this.__commentLimitFrom;c<=0&&this.__elMoreCommentButton.hide()},__showPostEditAreaIfLoginUser:function(){var a=this.__elPostInfo.data(),b=$(".txt_edt");b!=undefined&&gHashed==a.hashed&&b.show()},__clickViewType:function(){$(".type_card").addClass("on"),$("#viewTypeLayer").css({zIndex:"100"})},__clickViewTypeItem:function(a){var b=a.data("viewType");this.__setVeiwTypeToCookie(b),location.href="/"+(this.__htUserOption.bIsBest?"best":"board")+"/list.nhn"},__setVeiwTypeToCookie:function(a){$Cookie().set(this.__COOKIE_SELVT_NAME,a,this.__COOKIE_SELVT_DURATION,this.__COOKIE_SELVT_DOMAIN)},__clickPostLike:function(a){var b=$(a.target),c=b.data().boardNo?b.data():b.parent().data();return this.__postLike(oCC.merge(this._oCtx,c))},__clickImage:function(a){var b=$(a.target);b.hasClass("play_gif")&&(b=b.prev());var c=b.attr("org-src"),d=c+"?type=w710_1";b.attr("img-type")=="gif"||b.attr("img-type")=="GIF"?(b.hasClass("play")?(b.attr("src",d),b.removeClass("play")):(b.attr("src",c),b.addClass("play"),nclk(this,"ena.gif","","")),b.next().toggle()):location.href="attachView.nhn?attachType=image&attachSrc="+b.attr("org-src")},__clickCommentMore:function(){this.__requestCommentList(!1)},__goPrevNext:function(a){var b=a.direction===eg.DIRECTION_RIGHT?">>":"<<";a.direction===eg.DIRECTION_RIGHT?this.goNext():this.goPrev()},__animatePrevNextButton:function(){var a=$(".btn_ctrl_lft"),b=$(".btn_ctrl_rgt");a.animate({width:"show"},3e3,function(){a.animate({width:"hide"},3e3)})},goPrev:function(){var a=this.__getEntrance();a==30?this.goNextPrevPostInProfile("prev"):this.goPrevPost()},goPrevPost:function(){var themeNo=this.__htUserOption.nThemeNo,entrance=this.__getEntrance(),param={fromPostNo:this.__htUserOption.nPostNo,fromSortDateAt:this.__htUserOption.sSortDate,themeNo:this.__getThemeNo(),entrance:entrance,forNext:!1};$.ajax("getPrevNextPost.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;if(oCC.checkSuccess(sCode)){var oPost=jsonResult.result,url="get.nhn?boardNo="+oPost.boardNo+"&postNo="+oPost.postNo;themeNo!=null&&themeNo>0&&(url+="&themeNo="+themeNo),entrance!=null&&(url+="&entrance="+entrance),nClick(oPost.boardNo+"_"+oPost.postNo),location.href=url}else alert("처음 게시글 입니다")},error:function(a){}})},goNext:function(){var a=this.__getEntrance();a==30?this.goNextPrevPostInProfile("next"):this.goNextPost()},goNextPrevPostInProfile:function(direction){var entrance=this.__getEntrance(),paramsForProfile=this.__htUserOption.sParamsForProfile,fromDate=paramsForProfile.substring(paramsForProfile.indexOf("fromDate="));fromDate=fromDate.substring(0,fromDate.indexOf("&")),fromDate=fromDate.split("=")[1];var sFromDate=fromDate.replace(/\+/g,"%2B");paramsForProfile=paramsForProfile.replace(fromDate,sFromDate);var nSortOrder=1;direction=="next"&&(nSortOrder=2),paramsForProfile=paramsForProfile.replace(/sortOrder=([1-2]?)/ig,"sortOrder="+nSortOrder),$.ajax("/profile/getPrevNextPost.json?"+paramsForProfile,{type:"POST",dataType:"json",context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;if(oCC.checkSuccess(sCode)){var oPost=jsonResult.result;nClick(oPost.boardNo+"_"+oPost.postNo),location.href="get.nhn?"+paramsForProfile.replace("boardNo="+this.__htUserOption.nBoardNo,"boardNo="+oPost.boardNo).replace("postNo="+this.__htUserOption.nPostNo,"postNo="+oPost.postNo).replace("fromDate="+sFromDate,"fromDate="+oPost.createdAt)}else direction=="next"?alert("마지막 게시글 입니다"):alert("처음 게시글 입니다")},error:function(a){}})},goNextPost:function(){var themeNo=this.__htUserOption.nThemeNo,entrance=this.__getEntrance(),param={fromPostNo:this.__htUserOption.nPostNo,fromSortDateAt:this.__htUserOption.sSortDate,themeNo:this.__getThemeNo(),entrance:entrance,forNext:!0};$.ajax("getPrevNextPost.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;if(oCC.checkSuccess(sCode)){var oPost=jsonResult.result,url="get.nhn?boardNo="+oPost.boardNo+"&postNo="+oPost.postNo;themeNo!=null&&themeNo>0&&(url+="&themeNo="+themeNo),entrance!=null&&(url+="&entrance="+entrance),nClick(oPost.boardNo+"_"+oPost.postNo),location.href=url}else alert("마지막 게시글 입니다")},error:function(a){console.log("error = ",a)}})},goList:function(){var a=this.__getEntrance(),b=this.__getThemeNo();if(b>0){location.href.indexOf("/best/")>0?location.href="/theme/best/list.nhn?themeNo="+b:location.href="/theme/board/list.nhn?themeNo="+b;return}a==30?location.href="/profile/home.nhn?userNo="+this.__htUserOption.nPostAuthorNo:a==10||a==20?location.href="/":a!=null&&a!=0?location.href="list.nhn?likeBandNo="+a:location.href="list.nhn"},__getThemeNo:function(){var a=this.__htUserOption.nThemeNo;return isNaN(a)||a<0?null:a},__getEntrance:function(){var a=this.__htUserOption.nEntrance;return isNaN(a)||a<0?null:a},__postLike:function(oParam){var clickCode=oParam.clickCode,param={boardNo:Number(oParam.boardNo),postNo:Number(oParam.postNo),timeStamp:oCC.getTime()};$.ajax("/post/like.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){try{var jsonResult=eval(jsonObject),sCode=jsonResult.code;oCC.checkSuccess(sCode)?(this.__changePostLikeCount(Number(jsonResult.message),oParam.postNo),oCC.showLikePopUp(jsonResult.result,!0)):oCC.checkBboomDown(sCode)?(this.__changePostLikeCount(Number(jsonResult.message),oParam.postNo),clickCode+="cc"):oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message),nclk(this,clickCode,"","")}catch(err){console.log(err),nclk(this,clickCode,"","")}},error:function(a){nclk(this,clickCode,"","")}})},__changePostLikeCount:function(a,b){var c=a.toString(),d;c.length>4?d="9,999+":c.length==4?d=c.substr(0,1)+","+c.substr(1,3):d=c;var e=$(".u_hc").get(0).outerHTML;$("#likeCount_"+b).html(e+d)},__showSpiLayer:function(){document.getElementById("spiLayer").style.display=="none"&&toggleSpiLayer()},__createComment:function(a){var b=$.trim(this.__elCommentTextArea.val());if(b.length==0){alert("댓글을 입력해 주세요"),this.__elCommentTextArea.focus();return}var c={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo,commentText:b,stickerYn:0,postAuthorNo:this.__htUserOption.nPostAuthorNo};this.__createCommentInner(c)},__createStickerComment:function(a){if(a==null||a==undefined){alert("스티커를 선택해 주세요");return}var b={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo,commentText:a,stickerYn:1,postAuthorNo:this.__htUserOption.nPostAuthorNo};this.__createCommentInner(b)},__createCommentInner:function(oParam){var param={boardNo:Number(oParam.boardNo),commentText:oParam.commentText,stickerYn:Number(oParam.stickerYn),postNo:Number(oParam.postNo),postAuthorNo:Number(oParam.postAuthorNo)};$.ajax("/comment/create.json",{type:"POST",dataType:"json",data:param,timeoutout:3e3,context:this,success:function(jsonObject){try{var jsonResult=eval(jsonObject),code=jsonResult.code;if(oCC.checkSuccess(code)){oCC.showLikePopUp(jsonResult.result.popupHtml,!1),this.__elCommentArea.append(jsonResult.result.htmlString),this.__modifyCommentCount(1);if(oParam.stickerYn==1)return;this.__elCommentTextArea.val(""),this.__checkCommentText()}else oCC.checkRedirect(code)?location.href=jsonResult.result:alert(jsonResult.message)}catch(err){console.log(err)}},error:function(a){}})},__deleteComment:function(a){if(confirm("삭제하시겠습니까?")){var b=$(a.target),c={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo,commentNo:Number(b.data("commentNo"))};this.__deleteCommentInner(c)}},__deleteCommentInner:function(oParam){$.ajax("/comment/delete.json",{type:"POST",dataType:"json",data:oParam,context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;if(oCC.checkSuccess(sCode)){var commentNo=jsonResult.result.commentNo,elComments=$("#commentListArea>li");for(var i in elComments){var elLi=elComments[i];try{if(Number($(elLi).data("commentNo"))==Number(commentNo)){$(elLi).remove(),this.__modifyCommentCount(-1);break}}finally{elCmtLst=elLi=null}}}else oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message)},error:function(a){alert("댓글 삭제에 실패했습니다")}})},__modifyCommentCount:function(a){var b=$("#postCCArea").text();isNaN(b)?b=0:b=Number(b)+a,$("#postCCArea").text(b)},__commentLike:function(a){var b=$(a.target),c={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo,commentNo:Number(b.data("commentNo")),clickCode:b.data("clickCode")};this.__commentLikeInner(c)},__commentLikeInner:function(oParam){var clickCode=oParam.clickCode,param={boardNo:Number(oParam.boardNo),postNo:Number(oParam.postNo),commentNo:Number(oParam.commentNo)};$.ajax("/post/like.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){try{var jsonResult=eval(jsonObject),sCode=jsonResult.code;if(oCC.checkSuccess(sCode)){var cmtCntArea=$("#commentLCArea_"+oParam.commentNo);cmtCntArea.html(jsonResult.message),cmtCntArea.parent().removeClass("no"),oCC.showLikePopUp(jsonResult.result,!0)}else if(oCC.checkBboomDown(sCode)){var cmtCntArea=$("#commentLCArea_"+oParam.commentNo);cmtCntArea.html(jsonResult.message),cmtCntArea.parent().addClass("no"),clickCode+="cc"}else oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message);nclk(this,clickCode,"","")}catch(err){console.log(err),nclk(this,clickCode,"","")}},error:function(a){nclk(this,clickCode,"","")}})},__checkCommentText:function(){var a=this.__elCommentTextArea.val().length;if(a>300){var b=this.__elCommentTextArea.val();this.__elCommentTextArea.val(b.substring(0,298))}a>0?this.__elCommentLength.html("<strong>"+a+"</strong>/300"):this.__elCommentLength.html("<strong>0</strong>/300")},__raisingPostMore:function(a){var b=$(a.target),c=this.__raisingPostPage*5;for(var d=0;d<5;d++){c++;var e=$("#raisingPost_"+c);if(e)e.show();else break}this.__raisingPostPage+=1;var f=$("#raisingPostList > li");this.__raisingPostPage>=4?$("#raisingPostMore").hide():c>=f.length&&$("#raisingPostMore").hide()},__recommendVideoPostMore:function(a){var b=$(a.target),c=this.__recommendVideoPage*5;for(var d=0;d<5;d++){c++;var e=$("#recommendVideoPost_"+c);if(e)e.show();else break}this.__recommendVideoPage+=1;var f=$("#recommendVideoPostList > li");this.__recommendVideoPage>=4?$("#recommendVideoPostMore").hide():c>=f.length&&$("#recommendVideoPostMore").hide()},__deletePost:function(a){if(confirm("삭제하시겠습니까?")==1){var b={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo};this.__deletePostInner(b)}},__deletePostInner:function(oParam){var param={boardNo:Number(oParam.boardNo),postNo:Number(oParam.postNo),timeStamp:oCC.getTime()};$.ajax("/post/delete.json",{type:"POST",dataType:"json",data:param,context:this,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;oCC.checkSuccess(sCode)?location.href="/board/list.nhn":oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message)},error:function(a){alert("글 삭제에 실패했습니다")}})},__uploadPhotoWithCache:function(){var commentFormUrl="/board/commentForm.nhn?boardNo="+this.__htUserOption.nBoardNo+"&postNo="+this.__htUserOption.nPostNo,sCommentText=$.trim(this.__elCommentTextArea.val());if(sCommentText==null||sCommentText.length<=0)location.href=commentFormUrl;var param={commentText:sCommentText};$.ajax("/comment/createCommentText.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;oCC.checkSuccess(sCode)?location.href=commentFormUrl:oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message)},error:function(a){location.href=commentFormUrl}})},__goCommentForm:function(a){var b=$(a.target),c=b.attr("data-board-no"),d=b.attr("data-post-no");location.href="/board/commentForm.nhn?boardNo="+c+"&postNo="+d}}),PostViewFlip=eg.Class({name:"PostViewFlip",_nBoardNo:0,_nPostNo:0,_nPostAuthorNo:0,_nViewTypeNo:1,_sSortDate:"",_nDefaultGap:12,_nPreviewPadding:40,construct:function(a){this._nBoardNo=a.nBoardNo,this._nPostNo=a.nPostNo,this._nPostAuthorNo=a.nPostAuthorNo,this._sSortDate=a.sSortDate,this._elCommentTextArea=$("#textAreaComment"),this._initPreviewFlicking(),this._initLineStickerPopup(),this._setEvent()},_initPreviewFlicking:function(){var a=this,b=$(".end_card").first().width();this._nPreviewPadding=(document.body.clientWidth-b-this._nDefaultGap)/2,this.f=(new eg.Flicking($("#mflick"),{duration:300,circular:!1,defaultIndex:0,previewPadding:this._nPreviewPadding})).on({flickEnd:function(b){a._afterFlicking(b)}})},_initLineStickerPopup:function(){var a=this;this._oLineStickerLayer=new nts.m.LineStickerLayer({sImageBaseUrl:"",sPackListAPI:"/line/stickerPackList.json",sStickerListAPI:"/line/stickerList.json",onClickSticker:function(b){this.hide(),a._createStickerComment(b.stickerCode)}})},_setEvent:function(){$(document.body).addClass("NO_TAP_HIGHLIGHT"),$(document.body).on("click",$.proxy(this._onEvent,this)),$(window).on("load",$.proxy(this._onLoad,this))},_onEvent:function(a){var b=$(a.target);if(b.hasClass("_clickBottomMenu"))return a.stopPropagation(),b.toggleClass("on"),!1;b.hasClass("_clickDeletePost")?(a.stopPropagation(),this._deletePost(b)):b.hasClass("_clickPhotoComment")?(a.stopPropagation(),this._uploadPhotoWithCache()):b.hasClass("_clickPostLike")?(a.stopPropagation(),this._postLike(a)):b.hasClass("_clickLikeComment")?(a.stopPropagation(),this._commentLike(a)):b.hasClass("_clickImage")?(a.stopPropagation(),this._clickImage(a)):b.hasClass("_clickCreateComment")?(a.stopPropagation(),this._createComment(a)):b.hasClass("_clickPrev")?(a.stopPropagation(),this._go(!1)):b.hasClass("_clickNext")&&(a.stopPropagation(),this._go(!0))},_onLoad:function(){this._setPostBodyHeight(),setTimeout(this._scrollToLNB,300),this._showPostEditAreaIfLoginUser(),this._initSocialPlugin()},_setPostBodyHeight:function(){var a=493,b=$(window).height();b=b<=a?a:b,$("#_divPostBody").height(b)},_scrollToLNB:function(){var a=$(".nav");a&&window.scrollTo(0,a.offset().top)},_showPostEditAreaIfLoginUser:function(){var a=$("#"+this._nBoardNo+"_"+this._nPostNo).data("hashed"),b=$(".txt_edt");b!=undefined&&gHashed==a&&b.show()},_initSocialPlugin:function(){window.__splugin=SocialPlugIn_Core({evKey:"bboom",serviceName:"뿜",dimmed:"fixed",onClick:function(a){},onShow:function(){},onHide:function(){},onResize:function(a){},onRotate:function(a){}})},_deletePost:function(a){if(confirm("삭제하시겠습니까?")==1){var b={boardNo:this._nBoardNo,postNo:this._nPostNo};this._deletePostInner(b)}},_deletePostInner:function(a){var b={boardNo:Number(a.boardNo),postNo:Number(a.postNo),timeStamp:oCC.getTime()};$.ajax("/post/delete.json",{type:"POST",dataType:"json",data:b,context:this,success:function(a){var b=a.code;oCC.checkSuccess(b)?location.href="/board/list.nhn":oCC.checkRedirect(b)?location.href=a.result:alert(a.message)},error:function(a){alert("글 삭제에 실패했습니다")}})},_uploadPhotoWithCache:function(){var a="/board/commentForm.nhn?boardNo="+this._nBoardNo+"&postNo="+this._nPostNo+"&viewType="+this._nViewTypeNo,b=$.trim(this._elCommentTextArea.val());if(b==null||b.length<=0)location.href=a;var c={commentText:b};$.ajax("/comment/createCommentText.json",{type:"POST",dataType:"json",data:c,context:this,success:function(b){var c=b.code;oCC.checkSuccess(c)?location.href=a:oCC.checkRedirect(c)?location.href=b.result:alert(b.message)},error:function(b){location.href=a}})},_createComment:function(a){var b=$.trim($("#textAreaComment").val());if(b.length==0){alert("댓글을 입력해 주세요"),this.__elCommentTextArea.focus();return}var c={boardNo:this._nBoardNo,postNo:this._nPostNo,commentText:b,stickerYn:0,postAuthorNo:this._nPostAuthorNo};this._createCommentInner(c)},_createStickerComment:function(a){if(a==null||a==undefined){alert("스티커를 선택해 주세요");return}var b={boardNo:this._nBoardNo,postNo:this._nPostNo,commentText:a,stickerYn:1,postAuthorNo:this._nPostAuthorNo};this._createCommentInner(b)},_createCommentInner:function(a){var b={boardNo:Number(a.boardNo),commentText:a.commentText,stickerYn:Number(a.stickerYn),postNo:Number(a.postNo),postAuthorNo:Number(a.postAuthorNo)};$.ajax("/comment/create.json",{type:"POST",dataType:"json",data:b,context:this,success:function(a){var b=a.code;oCC.checkSuccess(b)?(oCC.showLikePopUp(a.result.popupHtml,!1),location.href="/board/commentList.nhn?boardNo="+this._nBoardNo+"&postNo="+this._nPostNo):oCC.checkRedirect(b)?location.href=a.result:alert(a.message)},error:function(a){}})},_postLike:function(a){var b=$(a.target),c=b.data("clickCode"),d={boardNo:this._nBoardNo,postNo:this._nPostNo};$.ajax("/post/like.json",{type:"POST",dataType:"json",data:d,context:this,success:function(a){try{var b=a.code;oCC.checkSuccess(b)?(this._changePostLikeCount(Number(a.message)),oCC.showLikePopUp(a.result,!0)):oCC.checkBboomDown(b)?(this._changePostLikeCount(Number(a.message)),c+="cc"):oCC.checkRedirect(b)?location.href=a.result:alert(a.message),nclk(this,c,"","")}catch(d){console.log(d),nclk(this,c,"","")}},error:function(a){nclk(this,c,"","")}})},_commentLike:function(a){var b={boardNo:this._nBoardNo,postNo:this._nPostNo,commentNo:Number($(a.target).data("commentNo"))};this._commentLikeInner(b)},_commentLikeInner:function(a){var b={boardNo:Number(a.boardNo),postNo:Number(a.postNo),commentNo:Number(a.commentNo)};$.ajax("/post/like.json",{type:"POST",dataType:"json",data:b,context:this,success:function(b){var c=b.code;if(oCC.checkSuccess(c)){var d=$("#commentLCArea_"+a.commentNo);d.html(b.message),d.parent().removeClass("no"),oCC.showLikePopUp(b.result,!0)}else oCC.checkRedirect(c)?location.href=b.result:alert(b.message)},error:function(a){}})},_changePostLikeCount:function(a){var b=a.toString(),c;b.length>4?c="9,999+":b.length==4?c=b.substr(0,1)+","+b.substr(1,3):c=b;var d=$(".u_hc").get(0).outerHTML,e=$("._clickPostLike");e.html(d+c)},_clickImage:function(a){var b=$(a.target);b.hasClass("play_gif")&&(b=b.prev()),b.attr("img-type")=="gif"||b.attr("img-type")=="GIF"?b.hasClass("play")?this._stopGIF(b):this._playGIF(b):location.href="attachView.nhn?attachType=image&attachSrc="+b.attr("org-src")},_playGIF:function(a){var b=a.attr("org-src");a.attr("src",b),a.addClass("play"),a.next().toggle()},_stopGIF:function(a){var b=a.attr("org-src")+"?type=w710_1";a.attr("src",b),a.removeClass("play"),a.next().toggle()},_stopAllPlayingGIF:function(a){var b=$("._clickImage");for(var c=0;c<b.length();c++){var d=$(b.get(c));(d.attr("img-type")=="gif"||d.attr("img-type")=="GIF")&&d.hasClass("play")&&this._stopGIF(d)}nclk(this,a.bLeft?"fna.flne":"fna.flpr","","")},_afterFlicking:function(a){var b=this.f.getElement().find(".end_card_thmb img");if(b){var c=b.height(),d=b.parent().height();c>d&&$("#originImgLink").show()}},_go:function(a){var b={fromPostNo:this._nPostNo,fromSortDateAt:this._sSortDate,forNext:a};$.ajax("getPrevNextPost.json",{type:"POST",dataType:"json",data:b,context:this,success:function(b){var c=b.code;if(oCC.checkSuccess(c)){var d=b.result,e="get.nhn?boardNo="+d.boardNo+"&postNo="+d.postNo;nClick(d.boardNo+"_"+d.postNo),location.href=e}else a?alert("마지막 게시글 입니다"):alert("처음 게시글 입니다")},error:function(a){}})}}),PostForm=eg.Class({STATE_BLUR:"blur",STATE_FOCUS:"focus",STATE_LOAD:"load",STATE_UNLOAD:"unload",STATE_SHOW:"show",STATE_HIDE:"hide",STATE_CHANGE:"change",name:"PostForm",MAX_CHAR:2e3,construct:function(a){this._htUserOption={htContext:$("#ct").data(),sElPostTitle:"#postTitle",sElPostText:"#postText",sElOrigin:"#origin",sElTagText:"#tagText",sElBtnCreatePost1:"#btnCreatePost1",sElBtnCreatePost2:"#btnCreatePost2",sElPhotoUrl:"#photoUrl",sElBtnPhoto:"#btnPhoto",sEventClass:"_clickCreatePost"},this._htUserOption=a||this._htUserOption,this._oSpinPopup=new SpinPopup,this._oCtx=this._htUserOption.htContext,this._el=$("#ct"),this._CLICK="",document.touchstart!=undefined?this._CLICK="touchstart":this._CLICK="click",this._elTitle=$(this._htUserOption.sElPostTitle),this._elText=$(this._htUserOption.sElPostText),this._elOrigin=$(this._htUserOption.sElOrigin),this._elTagText=$(this._htUserOption.sElTagText),this._elBtn1=$(this._htUserOption.sElBtnCreatePost1),this._elBtn2=$(this._htUserOption.sElBtnCreatePost2),this._elPhotoUrl=$(this._htUserOption.sElPhotoUrl),this._elPhotoWrapper=$(this._htUserOption.sElBtnPhoto),this._nTitleMaxLength=this._elTitle.get(0).attributes.maxlength.value,this._nTextMaxLength=this._elText.get(0).attributes.maxlength.value,this._textCount=0,this._elPostText=$(this._htUserOption.sElPostText),this._bTitleFocused=!1,this._bTextFocused=!1,this._sSrvUA=this._oCtx.userAgent,this._sCliUA=navigator.userAgent.toLowerCase(),this._bInApp=UaUtil._isInApp(this._sSrvUA),this._bIsAndroid=this._sCliUA.indexOf("android")>=0,this._aState=[],this._nFocusRefCount=0,this._nBlurRefCount=0,this._setEvent()},_setEvent:function(){this._elBtn1.addClass(this._htUserOption.sEventClass),this._elBtn2.addClass(this._htUserOption.sEventClass),$(window).on(this.STATE_LOAD,$.proxy(this._addState(this.STATE_LOAD),this)),$(window).on(this.STATE_UNLOAD,$.proxy(this._addState(this.STATE_UNLOAD),this)),this._elTitle.on(this.STATE_FOCUS,$.proxy(function(){this._addState(this.STATE_FOCUS),this._bTitleFocused=!0},this)),this._elTitle.on(this.STATE_BLUR,$.proxy(function(){this._addState(this.STATE_BLUR),this._bTitleFocused=!1},this)),this._elText.on(this.STATE_FOCUS,$.proxy(function(){this._addState(this.STATE_FOCUS),this._bTextFocused=!0},this)),this._elText.on(this.STATE_BLUR,$.proxy(function(){this._addState(this.STATE_BLUR),this._bTextFocused=!1},this)),$(document.body).on(this._CLICK,$.proxy(this._onEvent,this)),this._elPostText.on("change",$.proxy(this._onChangeEvent,this)),this._elPostText.on("keyup",$.proxy(this._onChangeEvent,this)),this._elPostText.on("input",$.proxy(this._onChangeEvent,this)),$(window).on(this.STATE_LOAD,$.proxy(this._checkPostTextCache,this)),$(window).on(this.STATE_LOAD,$.proxy(function(){var a=location.hash;a.indexOf("#photo")>=0&&(window.location.replace(""),this._callNaverSearchApp()),this._htUserOption.sEventClass=="_clickUpdatePost"&&this._addState(this.STATE_CHANGE)},this))},_onEvent:function(a){var b=$(a.target);b.hasClass("_clickCancelPost")?(a.stopPropagation(),this._cancelCreatePost(a)):b.hasClass(this._htUserOption.sEventClass)?(a.stopPropagation(),this._createPost(a)):b.hasClass("_clickUploadPhoto")?(a.stopPropagation(),this.uploadPhotoWithCache()):b.hasClass("_clickRemovePhoto")?(a.stopPropagation(),this._removePhoto()):b.hasClass("_clickVoid")&&a.stopPropagation()},_onChangeEvent:function(a){var b=$(a.target);if(b.attr("id")=="postText"){var c=$.trim(b.val());a.stopPropagation(),$("#inputCharCount").html(c.length)}},_addState:function(a){this._aState.push(a)},_getState:function(a){return a==undefined||a==null?this._aState[this._aState.length-1]:this._aState[this._aState.length-1+a]},_checkEnableSubmit:function(a){if(!this._bTextFocused&&!this._bTitleFocused&&this._getState()!=this.STATE_CHANGE)return;this._getState()==this.STATE_CHANGE&&setTimeout($.proxy(this._addState,this,this.STATE_BLUR),100);var b=$.trim(this._elTitle.val()).length,c=$.trim(this._elText.val()).length,d=sText=undefined;b>this._nTitleMaxLength&&(d=this._elTitle.val(),d=d.substring(0,this._nTitleMaxLength-1),this._elTitle.val(d)),c>this._nTextMaxLength&&(sText=this._elText.val(),sText=sText.substring(0,this._nTextMaxLength-1),this._elText.val(sText))},_cancelCreatePost:function(a){var b={postTitle:$.trim(this._elTitle.val()),postText:$.trim(this._elText.val()),photoUrl:$.trim(this._elPhotoUrl.val()),boardNo:9};if(b.postTitle.length>0||b.postText.length>0||b.postTitle.length>1)if(!confirm("작성하신 글을 취소하시겠습니까?\n작성취소시, 작성된 글은 저장되지 않습니다.")){this._elText.focus();return}window.history.back()},_createPost:function(a){var b={postTitle:$.trim(this._elTitle.val()),postText:$.trim(this._elText.val()),origin:$.trim(this._elOrigin.val()),tagText:$.trim(this._elTagText.val()),photoUrl:$.trim(this._elPhotoUrl.val()),boardNo:9};if(b.postTitle.length<=0){alert("제목을 입력해 주세요.");return}if(b.postText.length<=0){alert("본문 내용을 입력해 주세요.");return}if(b.postText.length>this.MAX_CHAR){alert("글자수를 초과하였습니다.");return}b=oCC.merge(this._oCtx,b),this._elBtn1.removeClass(this._htUserOption.sEventClass),this._elBtn2.removeClass(this._htUserOption.sEventClass),this._createPostInner(b),this._oSpinPopup.open()},_createPostInner:function(a){var b=undefined,c=this._htUserOption.sEventClass;c=="_clickCreatePost"?b="/post/create.json":(b="/post/update.json",a.boardNo=Number(this._oCtx.boardNo)),$("."+c).removeClass(c);var d={boardNo:Number(a.boardNo),postTitle:a.postTitle,postText:a.postText,origin:a.origin,tagText:a.tagText,postTypeNo:1,"attachList[0].attachData":a.photoUrl,postNo:Number(a.postNo)};$.ajax(b,{type:"POST",dataType:"json",data:d,timeoutout:3e3,context:this,success:function(a){var b=a.code;oCC.checkSuccess(b)?setTimeout(function(){var b="/board/get.nhn?boardNo="+a.result.boardNo+"&postNo="+a.result.postNo,c=oCC.getRequestParam().themeNo;b+=isNaN(c)?"":"&themeNo="+c,location.href=b},2e3):oCC.checkRedirect(b)?location.href=a.result:alert(a.message)},error:function(a){alert("error!")}})},previewPhoto:function(a){$(this._elPhotoWrapper).html("<img src='"+a+"?type=m60_60' width='60' height='60' class='_clickRemovePhoto'/><span class='dlt_ph _clickRemovePhoto'></span>"),$(this._elPhotoWrapper).removeClass("_clickUploadPhoto"),this._elPhotoWrapper.find("span").addClass("_clickRemovePhoto"),this._addState(this.STATE_CHANGE)},_removePhoto:function(){if(!confirm("첨부된 사진을 삭제하시겠습니까?"))return;$(this._elPhotoWrapper).html(""),$(this._elPhotoWrapper).addClass("_clickUploadPhoto"),this._elPhotoUrl.value=""},_checkUploadPhotoOnLoad:function(){var a=location.hash;a.indexOf("#photo")>=0&&(window.location.replace(""),setTimeout($.proxy(this._callNaverSearchApp,this),1e3))},_checkPostTextCache:function(){var a=$("#_postText").html();if($.trim(a)!=""){var b=oCC.splitText(a);this._elTitle.val(b[0]),this._elText.val(b[1]),this._elTagText.val(b[2])}},uploadPhotoWithCache:function(a){if(this._bInApp&&!this._bIsAndroid){this._callNaverSearchApp();return}var b=oCC.mergeText(this._elTitle.val(),this._elText.val(),this._elTagText.val()),c={postText:b};$.ajax("/post/createPostText.json",{type:"POST",dataType:"json",data:c,timeoutout:3e3,context:this,success:function(a){var b=a.code;oCC.checkSuccess(b)?this._callNaverSearchApp():oCC.checkRedirect(b)?location.href=a.result:alert(a.message)},error:function(a){alert("error!")}})},_callNaverSearchApp:function(){var a=undefined;this._bInApp&&!this._bIsAndroid?a=this._oCtx.naverInAppUrl:a=this._oCtx.naverAppUrl,UaUtil._callNaverSearchApp(a,this._bInApp,this._sSrvUA)},onPhotoUpload:function(a){this._elPhotoUrl.val(this._oCtx.phinf+a),this.previewPhoto(this._oCtx.phinf+a),setTimeout(function(){location.hash="#ct",scrollTo(0,1)},1e3)}}),PostFormFlip=eg.Class({name:"PostFormFlip",DEFAULT_BOARD_NO:9,ERR_MESSAGE_4_TEXT_COUNT:"텍스트 카드는 최대 7건까지 입력 가능합니다.",ERR_MESSAGE_4_COUNT:"최대 30건까지 입력 가능합니다.",ERR_MESSAGE_4_TOTAL_SIZE:"업로드 이미지의 총 합산 용량은 100MB를 초과할 수 없습니다.",MAX_ATTACH_TEXT_COUNT:7,MAX_ATTACH_COUNT:30,MAX_ATTACH_TOTAL_BYTES:104857600,construct:function(a){document.touchstart!=undefined?this._CLICK="touchstart":this._CLICK="click",this._oSpinPopup=new SpinPopup,this._formPostInfo=$("#formPostInfo"),this._elTitle=$("#postTitle"),this._elText=$("#postText"),this._elTagText=$("#tagText"),this._elInputImagePath=$("#inputImagePath"),this._elTabImage=$("#inputImagePath"),this._elTabVideo=$("#_tabVideo"),this._elTabLink=$("#_tabLink"),this._elTabText=$("#_tabText"),this._elAttachWrap=$("#_ulAttachWrap"),this._tplImage=$("#_tplImage").html().replace(/{{/g,"<%").replace(/}}/g,"%>"),this._tplText=$("#_tplText").html().replace(/{{/g,"<%").replace(/}}/g,"%>"),this._tplVideo=$("#_tplVideo").html().replace(/{{/g,"<%").replace(/}}/g,"%>"),this.attachFileCount=$("._attachItem").length,this.attachFileTotalBytes=a.attachFileTotalBytes,a.contentsType==5?this._elCurrentTab=this._elTabImage:a.contentsType==6?this._elCurrentTab=this._elTabVideo:a.contentsType==7&&(this._elCurrentTab=this._elTabLink),this._initVideoLibrary(),this._setEvent()},_initVideoLibrary:function(){naver.ugc.mobile.uploader.loadUploader();var a=$(".ugcUploadButton").get(0).ugcUploader,b=$(".ugcLinkButton").get(0).ugcUploader;a!=null&&a!=undefined&&a.notUse(),b!=null&&b!=undefined&&b.notUse()},_setEvent:function(){$(document.body).on(this._CLICK,$.proxy(this._onClickEvent,this)),$(window).on("load",$.proxy(this._onLoad,this)),$(document.body).on("click","._clickInputImagePath",$.proxy(this._onClickUploadImage,this))},_onClickEvent:function(a){var b=$(a.target);if(b.hasClass("_clickSavePost"))a.stopPropagation(),this._savePost();else if(b.hasClass("_clickCancelEdit"))a.stopPropagation(),this._cancelCreatePost(a);else if(b.hasClass("_clickRemoveItem"))a.stopPropagation(),confirm("항목을 삭제하시겠습니까?")&&this._removeItem(b);else if(b.hasClass("_clickInputText")){if(!this._checkTextAttachCountAndSize(a))return;this._checkInputText()&&this._addTextTemplate()}else b.hasClass("_clickInputVideo")?(a.stopPropagation(),this._checkInputVideo()):b.hasClass("_clickInputLink")?(a.stopPropagation(),this._checkInputLink()):b.hasClass("_clickMoveUp")?(a.stopPropagation(),this._clickMoveUp(a)):b.hasClass("_clickMoveDown")?(a.stopPropagation(),this._clickMoveDown(a)):b.hasClass("_clickVoid")&&a.stopPropagation()},_onClickUploadImage:function(a,b){if(b){var c=this._checkInputImage();c?this._checkAttachCountAndSize(a):a.preventDefault()}else a.preventDefault()},_onLoad:function(){this._isNotSupportDevice()&&($("#_spanVideo").hide(),$("#_spanLink").hide()),this._autoTagging()},_isNotSupportDevice:function(){var a=eg.agent().os;return a.name=="android"&&Number(a.version.match(/(\d)+(.(\d)+){0,1}/g)[0])>=Number("2.3")?!1:a.name=="ios"&&Number(a.version.match(/(\d)+(.(\d)+){0,1}/g)[0])>=Number("5.0")?!1:!0},_autoTagging:function(){var a=this._getParamValue("tag");if(a!=null&&a!=""){var b="",c=a.split("|");for(var d=0;d<c.length;d++)b+="#"+c[d]+" ";$(this._elTagText).text(b)}},_getParamValue:function(a){var b=window.location.search.substring(1);b=decodeURI(b);var c=b.split("&");for(var d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}return null},_checkInputImage:function(){return this._elCurrentTab===this._elTabImage||this._elCurrentTab===this._elTabText?!0:this._elCurrentTab===this._elTabVideo?confirm("사진 올리기로 변경시, 첨부된 영상이 삭제됩니다. 계속하시겠습니까?")?(this._removeAllAttach(),!0):!1:this._elCurrentTab===this._elTabLink?confirm("사진 올리기로 변경시, 추가된 링크가 삭제됩니다. 계속하시겠습니까?")?(this._removeAllAttach(),!0):!1:!0},_checkInputText:function(){return this._elCurrentTab===this._elTabImage||this._elCurrentTab===this._elTabText?!0:this._elCurrentTab===this._elTabVideo?confirm("텍스트 추가시, 첨부된 영상이 삭제됩니다. 계속하시겠습니까?")?(this._removeAllAttach(),!0):!1:this._elCurrentTab===this._elTabLink?confirm("텍스트 추가시, 추가된 링크가 삭제됩니다. 계속하시겠습니까?")?(this._removeAllAttach(),!0):!1:!0},_checkInputVideo:function(){var a=$(".ugcUploadButton").get(0).ugcUploader;if(this._elCurrentTab==null){a.open();return}this._elCurrentTab===this._elTabVideo?confirm("첨부된 영상이 존재합니다. 다른 영상으로 변경하시겠습니까?")&&(this._removeAllAttach(),a.open()):this._elCurrentTab===this._elTabImage||this._elCurrentTab===this._elTabText?confirm("동영상 첨부로 변경 시, 작성한 내용이 초기화됩니다. 계속하시겠습니까?")&&(this._removeAllAttach(),a.open()):this._elCurrentTab===this._elTabLink&&confirm("동영상 첨부로 변경 시, 추가된 링크가 삭제됩니다. 계속하시겠습니까?")&&(this._removeAllAttach(),a.open())},_checkInputLink:function(){var a=$(".ugcLinkButton").get(0).ugcUploader;this._elCurrentTab==null&&a.open(),this._elCurrentTab===this._elTabLink?confirm("첨부된 영상이 존재합니다. 다른 영상으로 변경하시겠습니까?")&&(this._removeAllAttach(),a.open()):this._elCurrentTab===this._elTabImage||this._elCurrentTab===this._elTabText?confirm("영상 링크로 변경 시, 작성한 내용이 초기화됩니다. 계속하시겠습니까?")&&(this._removeAllAttach(),a.open()):this._elCurrentTab===this._elTabVideo&&confirm("영상 링크로 변경 시, 첨부된 영상이 삭제됩니다. 계속하시겠습니까?")&&(this._removeAllAttach(),a.open())},_checkAttachCountAndSize:function(a){return this.attachFileCount>=this.MAX_ATTACH_COUNT?(a.stopDefault(),alert(this.ERR_MESSAGE_4_COUNT),!1):this.attachFileTotalBytes>=this.MAX_ATTACH_TOTAL_BYTES?(a.stopDefault(),alert(this.ERR_MESSAGE_4_TOTAL_SIZE),!1):!0},_checkTextAttachCountAndSize:function(a){return this._getTextAttachCount()>=this.MAX_ATTACH_TEXT_COUNT?(a.stopDefault(),alert(this.ERR_MESSAGE_4_TEXT_COUNT),!1):this._checkAttachCountAndSize(a)},_getTextAttachCount:function(){var a=0,b=$("._attachItem");for(var c=0;c<b.length;c++){var d=$(b[c]);d.attr("org-src")=="TEXT_ONLY"&&a++}return a},_onUploadSuccess:function(a){var b=a.result;if(!b)return console.log(b),console.log(a),alert("업로드 오류 : "+a.message),!1;var c=b.url,d=Number(b.fileSize),e=parseInt(d/1024);if(this.attachFileTotalBytes+Number(b.fileSize)>this.MAX_ATTACH_TOTAL_BYTES){this._onUploaderror(this.ERR_MESSAGE_4_TOTAL_SIZE);return}var f=_.template(this._tplImage,{attachText:"",origin:"",attachData:c,attachSize:d});this._elAttachWrap.append(f),this.attachFileCount++,this.attachFileTotalBytes+=d,this._elCurrentTab=this._elTabImage,this._setTabOn($("#_spanImage")),this._setFocusToLastAttachText(),oImageUploader._disposeUploading()},_onUploaderror:function(a){oImageUploader._disposeUploading(),console.log(a),alert("업로드 오류 : "+a)},_setTabOn:function(a){$(".file_wrap").removeClass("on"),a&&a.addClass("on")},_setFocusToLastAttachText:function(){$("#_ulAttachWrap>:last-child>span>span>textarea").focus()},_removeItem:function(a){if(!a)return;var b=a.parent(),c=b.data().orgSize;b.remove(),this.attachFileCount--,this.attachFileTotalBytes-=c},_removeAllAttach:function(){this._elAttachWrap.children().remove(),this.attachFileCount=0,this.attachFileTotalBytes=0},callBackUGCUpload:function(a){this._removeAllAttach(),this._sThumbnailUrl=null,this._addVideoTemplate(a)},callBackYoutubeUpload:function(a){this._removeAllAttach(),this._sThumbnailUrl=null,this._uploadYoutubeThumbnailToPhotoinfra(a),this._addVideoTemplate(a)},_addTextTemplate:function(){if(this.attachFileCount>=this.MAX_ATTACH_COUNT){alert(this.ERR_MESSAGE_4_COUNT);return}var a=_.template(this._tplText,{attachText:"",origin:""});this._elAttachWrap.append(a),this.attachFileCount++,this._elCurrentTab=this._elTabText,this._setTabOn($("#_spanText")),this._setFocusToLastAttachText()},_addVideoTemplate:function(a){var b={origin:"",attachText:"",attachData:this._sThumbnailUrl||a.result.thumbnailURL,videoId:a.result.videoId,videoTag:a.result.videoTemplate,videoPlayTime:a.result.playTime,attachBytes:a.result.fileSize};this._elAttachWrap.append(_.template(this._tplVideo,b)),this.attachFileCount++,this._sThumbnailUrl?(this._elCurrentTab=this._elTabLink,this._setTabOn($("#_spanLink"))):(this._elCurrentTab=this._elTabVideo,this._setTabOn($("#_spanVideo"))),this._setFocusToLastAttachText()},_uploadYoutubeThumbnailToPhotoinfra:function(a){var b=a,c={imageUrl:b.result.thumbnailURL,timeStamp:oCC.getTime()};$.ajax("/post/uploadYoutubeImage.json",{type:"POST",dataType:"json",data:c,context:this,timeoutout:3e3,success:function(a){try{var b=a.code;if(oCC.checkSuccess(b)){var c=a.result;this._sThumbnailUrl=c.url,this._elCurrentTab=this._elTabLink,this._setTabOn($("#_spanLink"))}else oCC.checkRedirect(b)?location.href=a.result:alert(a.message)}catch(d){console.log(d)}},error:function(a){this._oSpinPopup.close(),this._htInitParam&&self._htInitParam.onUploaderror instanceof Function&&this._htInitParam.onUploaderror(a,self._htInitParam.parentObj)}})},_savePost:function(){if(this._checkValidation()==0)return;this._buildFormPostInfo(),oSavePost._savePost()&&this._oSpinPopup.open()},_checkValidation:function(){var a=$("#tagText").val(),b=a.split("#");for(var c=0;c<b.length;c++)if(b[c].length>20)return alert('태그 하나의 길이가 20자를 초과합니다.\n"'+b[c]+'"'),!1;var d=$("._attachText"),e=$("._origin");for(var c=0;c<d.length;c++){var f=$(d[c]);if(f.parent().parent().parent().attr("org-src")=="TEXT_ONLY"&&f.val().trim().length<=0)return f.val(""),f.focus(),alert("내용을 작성해 주세요!"),!1}return!0},_buildFormPostInfo:function(){var a=this._formPostInfo,b={postTitle:$.trim(this._elTitle.val()),tagText:$.trim(this._elTagText.val())};FormUtil.set(this._formPostInfo,"boardNo",this.DEFAULT_BOARD_NO),FormUtil.set(this._formPostInfo,"postTitle",oCC.getReplaceAllResult(b.postTitle,'"',"&quot;")),FormUtil.set(this._formPostInfo,"postText",oCC.getReplaceAllResult($.trim(this._elText.val()),'"',"&quot;")),FormUtil.set(this._formPostInfo,"contentsType",this._getCurrentContentsTypeAsNumber()),FormUtil.set(this._formPostInfo,"tagText",oCC.getReplaceAllResult(b.tagText,'"',"&quot;"));var c=$("._attachItem"),d=$("._attachText"),e=$("._origin"),f=null;if(c!=null){var g=c.length;for(var h=0;h<this.MAX_ATTACH_COUNT;h++)h<g?(f=$(c[h]),FormUtil.set(this._formPostInfo,"attachData"+(h+1),f.attr("org-src")),FormUtil.set(this._formPostInfo,"attachText"+(h+1),oCC.getReplaceAllResult($(d[h]).val(),'"',"&quot;")),FormUtil.set(this._formPostInfo,"origin"+(h+1),oCC.getReplaceAllResult($(e[h]).val(),'"',"&quot;"))):(FormUtil.set(this._formPostInfo,"attachData"+(h+1),null),FormUtil.set(this._formPostInfo,"attachText"+(h+1),null),FormUtil.set(this._formPostInfo,"origin"+(h+1),null)),FormUtil.set(this._formPostInfo,"videoId",""),FormUtil.set(this._formPostInfo,"videoTag",""),FormUtil.set(this._formPostInfo,"videoPlayTime",""),FormUtil.set(this._formPostInfo,"attachBytes","");FormUtil.set(this._formPostInfo,"attachCount",g)}if(this._elCurrentTab===this._elTabVideo||this._elCurrentTab===this._elTabLink){var i=f.data();FormUtil.set(this._formPostInfo,"videoId",i.videoId),FormUtil.set(this._formPostInfo,"videoTag",i.videoTag),FormUtil.set(this._formPostInfo,"videoPlayTime",i.videoPlayTime),FormUtil.set(this._formPostInfo,"attachBytes",i.attachBytes)}},_getCurrentContentsTypeAsNumber:function(){return this._elCurrentTab===this._elTabImage?5:this._elCurrentTab===this._elTabVideo?6:this._elCurrentTab===this._elTabLink?7:5},_cancelCreatePost:function(a){var b={postTitle:$.trim(this._elTitle.val()),postText:$.trim(this._elText.val())};if(b.postTitle.length>0||b.postText.length>0||this.attachFileCount>0)if(!confirm("작성하신 글을 취소하시겠습니까?\n작성취소시, 작성된 글은 저장되지 않습니다.")){this._elText.focus();return}history.back()},_clickMoveUp:function(a){var b=$(a.target),c=b.parent().parent(),d=c.prev();d&&d.before(c)},_clickMoveDown:function(a){var b=$(a.target),c=b.parent().parent(),d=c.next();d&&d.after(c)}}),PostFormHTML=eg.Class({STATE_BLUR:"blur",STATE_FOCUS:"focus",STATE_LOAD:"load",STATE_UNLOAD:"unload",STATE_SHOW:"show",STATE_HIDE:"hide",STATE_CHANGE:"change",TAG_SEPARATOR:",",name:"PostFormHTML",attachFileCount:0,attachFileTotalBytes:0,currentPostNo:0,ERR_MESSAGE_4_COUNT:"이미지 업로드는 최대 10장까지 가능합니다!",ERR_MESSAGE_4_TOTAL_SIZE:"업로드 이미지의 총 합산 용량은 10MB를 초과할 수 없습니다!",MAX_CHAR:2e3,MAX_ATTACH_COUNT:10,MAX_ATTACH_TOTAL_BYTES:10485760,DEFAULT_BOARD_NO:9,__elCurrentTab:null,construct:function(a){this._htUserOption={htContext:$("#ct").data(),sElPostTitle:"#postTitle",sElPostText:"#postText",sElOrigin:"#origin",sElTagText:"#tagText",sElBtnCreatePost1:"#btnCreatePost1",sElBtnCreatePost2:"#btnCreatePost2",sElInputImagePath:"#inputImagePath",sElUploadedAttachList:"#uploadedAttachList"},this._htUserOption=a||this._htUserOption,this._oSpinPopup=new SpinPopup,this._oCtx=this._htUserOption.htContext,this._el=$("#ct"),this._CLICK="",document.touchstart!=undefined?this._CLICK="touchstart":this._CLICK="click",this._formPostInfo=$("#formPostInfo"),this._elTitle=$(this._htUserOption.sElPostTitle),this._elText=$(this._htUserOption.sElPostText),this._elOrigin=$(this._htUserOption.sElOrigin),this._elTagText=$(this._htUserOption.sElTagText),this._elBtn1=$(this._htUserOption.sElBtnCreatePost1),this._elBtn2=$(this._htUserOption.sElBtnCreatePost2),this._elInputImagePath=$(this._htUserOption.sElInputImagePath),this._elUploadedAttachList=$(this._htUserOption.sElUploadedAttachList),this.__elAttachDiv2=$("#attachDiv2"),this.__elAttachDiv34=$("#attachDiv34"),this.__elTabImage=$(".file_wrap"),this.__elTabVideo=$("#tapVideo"),this.__elTabLink=$("#tapLink"),this._nTitleMaxLength=this._elTitle.get(0).attributes.maxlength.value,this._nTextMaxLength=this._elText.get(0).attributes.maxlength.value,this._textCount=0,this._elPostText=$(this._htUserOption.sElPostText),this._bTitleFocused=!1,this._bTextFocused=!1,this._sThumbnailUrl=null,this.attachFileCount=Number(this._htUserOption.sAttachFileCount),this.attachFileTotalBytes=Number(this._htUserOption.sAttachFileTotalBytes),this.currentPostNo=Number(this._htUserOption.currentPostNo),this.__initAttachDivPanel(),naver.ugc.mobile.uploader.loadUploader();var b=$(".ugcUploadButton").get(0).ugcUploader,c=$(".ugcLinkButton").get(0).ugcUploader;b!=null&&b!=undefined&&b.notUse(),c!=null&&c!=undefined&&c.notUse(),this._setEvent()},_setEvent:function(){this._elBtn1.addClass(this._htUserOption.sEventClass),this._elBtn2.addClass(this._htUserOption.sEventClass),$(document.body).on(this._CLICK,$.proxy(this._onClickEvent,this)),this._elPostText.on("change",$.proxy(this._onPostTextChange,this)),this._elPostText.on("keyup",$.proxy(this._onPostTextChange,this)),this._elPostText.on("input",$.proxy(this._onPostTextChange,this))},_onClickEvent:function(a){var b=$(a.target);if(b.hasClass("_clickCancelPost"))a.stopPropagation(),this._cancelCreatePost(a);else if(b.hasClass(this._htUserOption.sEventClass))a.stopPropagation(),this._savePost();else if(b.hasClass("_clickRemoveImage"))a.stopPropagation(),this._removeImage(a);else if(b.hasClass("_clickInputImagePath")){var c=this.__checkInputImage();c?this._checkAttachCountAndSize(a):a.stopPropagation()}else b.hasClass("_clickPreview")?(a.stopPropagation(),this._gotoPreviewPage(a)):b.hasClass("_clickInputVideo")?(a.stopPropagation(),this.__checkInputVideo()):b.hasClass("_clickInputLink")?(a.stopPropagation(),this.__checkInputLink()):b.hasClass("_clickRemoveVideo")?(a.stopPropagation(),confirm("첨부한 영상을 삭제하시겠습니까?")&&this.__removeAllAttach()):b.hasClass("_clickVoid")&&a.stopPropagation()},_checkAttachCountAndSize:function(a){if(this.attachFileCount>=this.MAX_ATTACH_COUNT){a.preventDefault(),alert(this.ERR_MESSAGE_4_COUNT);return}if(this.attachFileTotalBytes>=this.MAX_ATTACH_TOTAL_BYTES){a.preventDefault(),alert(this.ERR_MESSAGE_4_TOTAL_SIZE);return}},_onPostTextChange:function(a){var b=$(a.target);if(b.attr("id")=="postText"){var c=$.trim(b.val());a.stopPropagation(),$("#inputCharCount").html(c.length)}},_savePost:function(){this._buildFormPostInfo(),oSavePost._savePost()&&this._oSpinPopup.open()},_buildFormPostInfo:function(){var a={postNo:this.currentPostNo,postTitle:$.trim(this._elTitle.val()),origin:$.trim(this._elOrigin.val()),tagText:$.trim(this._elTagText.val())},b=this._oCtx.boardNo;if(isNaN(this.currentPostNo)||Number(this.currentPostNo)<=0)b=this.DEFAULT_BOARD_NO;FormUtil.set(this._formPostInfo,"boardNo",b),FormUtil.set(this._formPostInfo,"postNo",a.postNo),FormUtil.set(this._formPostInfo,"postTitle",oCC.getReplaceAllResult(a.postTitle,'"',"&quot;")),FormUtil.set(this._formPostInfo,"postText",oCC.getReplaceAllResult($.trim(this._elText.val()),'"',"&quot;")),FormUtil.set(this._formPostInfo,"contentsType",this.__getCurrentContentsTypeAsNumber()),FormUtil.set(this._formPostInfo,"origin",oCC.getReplaceAllResult(a.origin,'"',"&quot;")),FormUtil.set(this._formPostInfo,"tagText",oCC.getReplaceAllResult(a.tagText,'"',"&quot;"));var c=$("._imageItem"),d=null;if(c!=null){var e=c.length;for(var f=0;f<e;f++)d=$(c.get(f)),FormUtil.set(this._formPostInfo,"attachData"+(f+1),d.attr("org-src")),FormUtil.set(this._formPostInfo,"videoId",""),FormUtil.set(this._formPostInfo,"videoTag",""),FormUtil.set(this._formPostInfo,"videoPlayTime",""),FormUtil.set(this._formPostInfo,"attachBytes","");FormUtil.set(this._formPostInfo,"attachCount",e)}if(this.__elCurrentTab===this.__elTabVideo||this.__elCurrentTab===this.__elTabLink){var g=d.data();FormUtil.set(this._formPostInfo,"videoId",g.videoId),FormUtil.set(this._formPostInfo,"videoTag",g.videoTag),FormUtil.set(this._formPostInfo,"videoPlayTime",g.videoPlayTime),FormUtil.set(this._formPostInfo,"attachBytes",g.attachBytes)}},__getCurrentContentsTypeAsNumber:function(){return this.__elCurrentTab===this.__elTabImage?2:this.__elCurrentTab===this.__elTabVideo?3:this.__elCurrentTab===this.__elTabLink?4:1},_cancelCreatePost:function(a){var b={postTitle:$.trim(this._elTitle.val()),postText:$.trim(this._elText.val())};if(b.postTitle.length>0||b.postText.length>0)if(!confirm("작성하신 글을 취소하시겠습니까?\n작성취소시, 작성된 글은 저장되지 않습니다.")){this._elText.focus();return}location.href="/board/list.nhn"},_modifyPostTextByImageName:function(){var a=$("._imageItem");if(a!=null){var b=a.length;for(var c=0;c<b;c++){var d=$(a.get(c)),e=d.attr("image-name"),f="[image#"+(c+1)+"]";this._modifyImageNameOfItem(d,f),this._changeImageNameOnPostText(e,f)}}},_modifyImageNameOfItem:function(a,b){this._getFirstChildElementByClassName(a,"_imageNameArea").html(b),this._getFirstChildElementByClassName(a,"_clickRemoveImage").attr("image-name",b),a.attr("image-name",b)},_getFirstChildElementByClassName:function(a,b){var c=a.children("."+b);return $(c[0])},_onUploadSuccess:function(a){var b=a.result,c="[image#"+(this.attachFileCount+1)+"]",d=b.url,e=Number(b.fileSize),f=parseInt(e/1024);if(this.attachFileTotalBytes+Number(b.fileSize)>this.MAX_ATTACH_TOTAL_BYTES){this._onUploaderror(this.ERR_MESSAGE_4_TOTAL_SIZE);return}this.__setAttachDivTo2();var g="";g+='<li class="_imageItem" org-src="',g+=d,g+='" image-name="',g+=c,g+='" image-size="',g+=e,g+='"><dl><dt><img src="',g+=d,g+='?type=ff100_100" width="69px" height="69px"><a href="javascript:;" class="btn_ph_del _clickRemoveImage" image-name="',g+=c,g+='">삭제</a></dt><dd><span class="_imageNameArea">',g+=c,g+="</span>",g+=f,g+="KB</dd></dl></li>",$(this._elUploadedAttachList).append(g),this._addImageInsertKeyword(c),this.attachFileCount++,this.attachFileTotalBytes+=e},_addImageInsertKeyword:function(a){var b=this._elText.val();this._elText.val(b+"\n"+a+"\n")},_onUploaderror:function(a){console.log("postformhtml"),console.log(a),alert("업로드 오류 : "+a)},_initImageUpload:function(){this._elInputImagePath.val("")},_removeImage:function(a){nclk(window,"wrt.del","","");if(!confirm("첨부된 사진을 삭제하시겠습니까?"))return;var b=$(a.target),c=b.attr("image-name");this._removeImageItemFromList(c),this._changeImageNameOnPostText(c,""),this._modifyPostTextByImageName(),this.attachFileCount<=0&&this.__setAttachDivTo1()},_removeImageItemFromList:function(a){var b=$("._imageItem");if(b!=null){var c=b.length;for(var d=0;d<c;d++){var e=$(b.get(d)),f=e.attr("image-name"),g=Number(e.attr("image-size"));f==a&&(e.remove(),this.attachFileCount--,this.attachFileTotalBytes-=g)}}},_changeImageNameOnPostText:function(a,b){var c=this._elText.val();this._elText.val(oCC.getReplaceAllResult(c,a,b))},_gotoPreviewPage:function(){this._buildFormPostInfo();if(oSavePost._checkValidation()==null)return;var a=oCC.getRequestParam().themeNo;this._formPostInfo.get(0).action=isNaN(a)?"preview.nhn":"preview.nhn?themeNo="+a,this._formPostInfo.submit()},__initAttachDivPanel:function(){var a=Number(this._oCtx.contentsType);switch(a){case 2:this.__setAttachDivTo2();break;case 3:this.__setAttachDivTo3();break;case 4:this.__setAttachDivTo4();break;default:this.__setAttachDivTo1()}},__setAttachDivTo1:function(){this.__elTabImage.removeClass("on"),this.__elTabVideo.removeClass("on"),this.__elTabLink.removeClass("on"),this.__elAttachDiv2.hide(),this.__elAttachDiv34.hide(),this.__elCurrentTab=null},__setAttachDivTo2:function(){this.__elTabImage.addClass("on"),this.__elTabVideo.removeClass("on"),this.__elTabLink.removeClass("on"),this.__elAttachDiv2.show(),this.__elAttachDiv34.hide(),this.__elCurrentTab=this.__elTabImage},__setAttachDivTo3:function(){this.__elTabImage.removeClass("on"),this.__elTabVideo.addClass("on"),this.__elTabLink.removeClass("on"),$("#attachDiv34>p").html("최대 1개, 150M 이하"),this.__elAttachDiv2.hide(),this.__elAttachDiv34.show(),this.__elCurrentTab=this.__elTabVideo},__setAttachDivTo4:function(){this.__elTabImage.removeClass("on"),this.__elTabVideo.removeClass("on"),this.__elTabLink.addClass("on"),$("#attachDiv34>p").html("최대 1개, youtube 링크만 지원합니다."),this.__elAttachDiv2.hide(),this.__elAttachDiv34.show(),this.__elCurrentTab=this.__elTabLink},__checkInputImage:function(){return this.__elCurrentTab===this.__elTabImage?!0:this.__elCurrentTab===this.__elTabVideo?confirm("사진 올리기로 변경시, 첨부된 영상이 삭제됩니다. 계속하시겠습니까?")?(this.__removeAllAttach(),!0):!1:this.__elCurrentTab===this.__elTabLink?confirm("사진 올리기로 변경시, 추가된 링크가 삭제됩니다. 계속하시겠습니까?")?(this.__removeAllAttach(),!0):!1:!0},__checkInputVideo:function(){var a=$(".ugcUploadButton").get(0).ugcUploader;this.__elCurrentTab==null&&a.open(),this.__elCurrentTab===this.__elTabVideo?confirm("첨부된 영상이 존재합니다. 다른 영상으로 변경하시겠습니까?")&&(this.__removeAllAttach(),a.open()):this.__elCurrentTab===this.__elTabImage?confirm("동영상 첨부로 변경 시, 첨부된 사진이 삭제됩니다. 계속하시겠습니까?")&&(this.__removeAllAttach(),a.open()):this.__elCurrentTab===this.__elTabLink&&confirm("동영상 첨부로 변경 시, 추가된 링크가 삭제됩니다. 계속하시겠습니까?")&&(this.__removeAllAttach(),a.open())},__checkInputLink:function(){var a=$(".ugcLinkButton").get(0).ugcUploader;this.__elCurrentTab==null&&a.open(),this.__elCurrentTab===this.__elTabLink?confirm("첨부된 영상이 존재합니다. 다른 영상으로 변경하시겠습니까?")&&(this.__removeAllAttach(),a.open()):this.__elCurrentTab===this.__elTabImage?confirm("영상 링크로 변경 시, 첨부된 사진이 삭제됩니다. 계속하시겠습니까?")&&(this.__removeAllAttach(),a.open()):this.__elCurrentTab===this.__elTabVideo&&confirm("영상 링크로 변경 시, 첨부된 영상이 삭제됩니다. 계속하시겠습니까?")&&(this.__removeAllAttach(),a.open())},__removeAllAttach:function(){this.__elCurrentTab===this.__elTabVideo?nclk(window,"wrt.Viddel","",""):this.__elCurrentTab===this.__elTabLink&&nclk(window,"wrt.LViddel","","");var a=$("#attachDiv2>ul>li"),b=a.length;if(b>0)for(var c=b;c>0;c--){var d="[image#"+c+"]";this._removeImageItemFromList(d),this._changeImageNameOnPostText(d,"")}$("#attachDiv34>ul>li").remove(),this.attachFileCount=0,this.attachFileTotalBytes=0,this.__setAttachDivTo1()},callBackUGCUpload:function(a){this.__setAttachDivTo3(),this.__showVideoItem(a)},callBackYoutubeUpload:function(a){this.__uploadYoutubeThumbnailToPhotoinfra(a),this.__setAttachDivTo4(),this.__showVideoItem(a)},__showVideoItem:function(a){var b=a,c="";c+='<li id="videoItem" class="_imageItem" org-src="',c+=this._sThumbnailUrl||b.result.thumbnailURL,c+='" data-video-id="'+b.result.videoId+'" data-video-tag="'+b.result.videoTemplate+'" data-video-play-time="'+b.result.playTime+'" data-attach-bytes="'+b.result.fileSize,c+='"><dl><dt><img src="',c+=this._sThumbnailUrl||b.result.thumbnailURL,c+='" width="94px" height="64px"><a href="#" class="btn_ph_play">동영상 플레이</a><a href="javascript:;" class="btn_ph_del _clickRemoveVideo">삭제</a></dt><dd class="movlnk"><span>video 1</span>';if(this.__elCurrentTab===this.__elTabVideo){var d=Number(b.result.fileSize/1024)/1024;c+=d.toFixed(2),c+="MB",c+='<span class="bar">|</span>';var e=Number(b.result.playTime).toFixed(0),f=Math.floor(e/60)+":"+e%60;c+=f}c+="</dd></dl></li>",$("#attachDiv34>ul").append(c)},__uploadYoutubeThumbnailToPhotoinfra:function(a){var b=a,c={imageUrl:b.result.thumbnailURL,timeStamp:oCC.getTime()};$.ajax("/post/uploadYoutubeImage.json",{type:"POST",dataType:"json",data:c,timeoutout:3e3,context:this,success:function(a){try{var b=a.code;if(oCC.checkSuccess(b)){var c=a.result;this._sThumbnailUrl=c.url}else oCC.checkRedirect(b)?location.href=a.result:alert(a.message)}catch(d){console.log(d)}},error:function(a){console.log(err)}})}}),PostTagHandler=eg.Class({TAG_SEPARATOR:",",TAG_SPACE:" ",MAX_TAG_COUNT:3,name:"PostTagHandler",construct:function(a){document.touchstart!=undefined?this._CLICK="touchstart":this._CLICK="click",this._elTagText=$("#tagText").get(0),this.__elDivHotTagList=$("#divHotTagList"),this.__templageTagList=$("#_tplTagSuggestion").html().replace(/{{/g,"<%").replace(/}}/g,"%>"),this.__hotTagData={message:"인기테마",liClass:"_toggleHotTag",result:a.hotTagList},this.__showHotTag(),this._setEvent()},_setEvent:function(){$(document.body).on("click",$.proxy(this.__onEvent,this)),$(this._elTagText).on("focus",$.proxy(this._showHotTagList,this)),$(this._elTagText).on("keyup",$.proxy(this.__limitLengthOfTagList,this)),$(this._elTagText).on("keyup",$.proxy(this.__getTagSuggestion,this))},__onEvent:function(a){var b=$(a.target);b.hasClass("_toggleHotTagList")?(a.stopPropagation(),this._toggleHotTagList(a)):b.hasClass("_toggleHotTag")?(a.stopPropagation(),this._toggleHotTag(a)):b.hasClass("_replaceHotTag")?(a.stopPropagation(),this._replaceHotTag(a)):b.hasClass("_clickVoid")&&a.stopPropagation()},_showHotTagList:function(a){var b=$("#divHotTagList").get(0);b.style.display=="none"&&this._toggleHotTagList(a)},_toggleHotTagList:function(a){var b=$("#divHotTagList").get(0),c=$("#hotTagArrow");b.style.display=="none"?$(b).show():$(b).hide(),c.toggleClass("on")},_toggleHotTag:function(a){var b=$(a.target).find("span"),c=this.__getTagList(),d=b==null?$(a.target).html():b.html(),e=c.indexOf(d);if(e>=0){var f=[];for(var g=0;g<c.length;g++){if(g==e)continue;f.push(c.get(g))}c=f}else{c.get(c.length-1)==""&&c.pop();if(c.length>=this.MAX_TAG_COUNT){alert("최대 "+this.MAX_TAG_COUNT+"개의 태그만 입력가능합니다.");return}c.push(d)}this.__setTagText(c),this.__markSelectedTagOnList()},_replaceHotTag:function(a){var b=$(a.target),c=b.get(0).tagName,d=c!="SPAN"?b.find("span"):b,e=this.__getTagList(),f=d?d.html():b;if(f=="&nbsp;")return;e.length>0&&e.pop(),e.push(f),this.__setTagText(e),this.__showHotTag(),this._elTagText.focus()},__getTagList:function(){var a=$.trim(this._elTagText.value);if(a==null||a==undefined)return null;var b=a.split(this.TAG_SEPARATOR);for(var c=0;c<b.length;c++)b[c]=$.trim(b[c]);return b},__setTagText:function(a){var b="",c=0;for(var d=0;d<a.length;d++)a[d]!=""&&(c>0&&(b+=this.TAG_SEPARATOR+this.TAG_SPACE),b+=a[d],c++);if(c==1||c==2)b+=this.TAG_SEPARATOR+this.TAG_SPACE;this._elTagText.value=b},__limitLengthOfTagList:function(){var a=this.__getTagList();return a.length>this.MAX_TAG_COUNT?(this.__setTagText(a.slice(0,this.MAX_TAG_COUNT)),alert("최대 "+this.MAX_TAG_COUNT+"개의 태그만 입력가능합니다."),!1):!0},__getTagSuggestion:function(){var a=this.__getTagList(),b=a[a.length-1];$.trim(b).length<=0?this.__showHotTag():this.__showTagSuggestion(b)},__showHotTag:function(){var a=_.template(this.__templageTagList,this.__hotTagData);this.__elDivHotTagList.html(a),this.__markSelectedTagOnList()},__showTagSuggestion:function(a){var b={tag:a};$.ajax("/theme/getTagSuggestion.json",{type:"POST",dataType:"json",data:b,timeoutout:3e3,context:this,success:function(a){var b=a.code;if(Number(b)==0){a.liClass="_replaceHotTag";var c=_.template(this.__templageTagList,a);this.__elDivHotTagList.html(c),this.__markSelectedTagOnList()}else console.log("error response - "+b)},error:function(a){console.log("500 or 404 fail")}})},__markSelectedTagOnList:function(){var a=this.__getTagList(),b=$("a._markableTag");b.parent().removeClass("on");for(var c=0;c<b.length;c++){var d=$(b[c]),e=d.find("span").html();for(var f=0;f<a.length;f++)a[f]==e&&d.parent().addClass("on")}}}),ReportArticle=eg.Class({name:"ReportArticle",__htUserOptions:undefined,__formReport:undefined,__CONST_M:"rprtMobileFrm",__CONST_ITEM_SVC_CD:"BBM",__CONST_ITEM_VIRTUAL_SVC_CD:"BBM",__CONST_0_LEVEL_ITEM_CATE_ID:"BBM_001",__CONST_0_LEVEL_ITEM_CATE_NAME:"네이버뿜",__CONST_0_LEVEL_ITEM_CATE_LEVEL:"0",__CONST_1_LEVEL_ITEM_CATE_ID:"BBM_001;001",__CONST_1_LEVEL_ITEM_CATE_NAME:"네이버뿜_게시판",__CONST_1_LEVEL_ITEM_CATE_LEVEL:"1",__CONST_POST_ITEM_TYPE:"CONT",__CONST_POST_ITEM_CATE_ID:"BBM_001;001;001",__CONST_POST_ITEM_CATE_NAME:"네이버뿜_게시글",__CONST_POST_ITEM_CATE_LEVEL:"2",__CONST_CMNT_ITEM_TYPE:"CMNT_IMG",__CONST_CMNT_ITEM_CATE_ID:"BBM_001;001;002",__CONST_CMNT_ITEM_CATE_NAME:"네이버뿜_댓글",__CONST_CMNT_ITEM_CATE_LEVEL:"2",construct:function(a){this.__htUserOptions=a,this.__createReportForm(),this.__setEvent()},__createReportForm:function(){this.__formReport=$("<form name ='reportPopupApi' id='frmReportPopupApi' method='get' action='"+this.__htUserOptions.sReportURL+"'>");var a=this.__formReport;a.append("<input type='hidden' name='m' value='"+this.__CONST_M+"'/>"),a.append("<input type='hidden' name='itemSvcCd' value='"+this.__CONST_ITEM_SVC_CD+"'/>"),a.append("<input type='hidden' name='itemVirtualSvcCd' value='"+this.__CONST_ITEM_VIRTUAL_SVC_CD+"'/>"),a.append("<input type='hidden' name='itemId' value=''/>"),a.append("<input type='hidden' name='itemType' value=''>"),a.append("<input type='hidden' name='itemCateId' value=''/>"),a.append("<input type='hidden' name='itemCateName' value=''/>"),a.append("<input type='hidden' name='itemCateLevel' value=''/>"),a.append("<input type='hidden' name='itemTitle' value=''/>"),a.append("<input type='hidden' name='itemWriterId' value=''/>"),a.append("<input type='hidden' name='itemEncyptWriterId' value=''/>"),a.append("<input type='hidden' name='itemWriterNick' value=''/>"),a.append("<input type='hidden' name='itemDt' value=''/>"),a.append("<input type='hidden' name='retUrl' value=''/>")},__setEvent:function(){$(document.body).addClass("NO_TAP_HIGHLIGHT"),$(document.body).on("click",$.proxy(this.__onEvent,this))},__onEvent:function(a){var b=$(a.target),c=b.data("status")||0;if(Number(c)>0)return!1;b.hasClass("_clickReportPost")?(a.stopPropagation(),this.__clickReportPost(b)):b.hasClass("_clickReportComment")&&(a.stopPropagation(),this.__clickReportComment(b))},__clickReportPost:function(a){var b=$("#"+a.data("contentsNo")).data();FormUtil.set(this.__formReport,"itemId","BBM_001;001;"+b.encodedPostNo),FormUtil.set(this.__formReport,"itemType",this.__CONST_POST_ITEM_TYPE),FormUtil.set(this.__formReport,"itemCateId",this.__CONST_POST_ITEM_CATE_ID),FormUtil.set(this.__formReport,"itemCateName",this.__CONST_POST_ITEM_CATE_NAME),FormUtil.set(this.__formReport,"itemCateLevel",this.__CONST_POST_ITEM_CATE_LEVEL),FormUtil.set(this.__formReport,"itemTitle",b.postTitle),FormUtil.set(this.__formReport,"itemWriterId",b.writerMasked),FormUtil.set(this.__formReport,"itemEncyptWriterId",b.writerEncrypted),FormUtil.set(this.__formReport,"itemWriterNick",b.writerNickname),FormUtil.set(this.__formReport,"itemDt",b.createdDate),FormUtil.set(this.__formReport,"retUrl",b.permalinkPath+b.encodedPostNo),this.__setDefaultCategoryInfo(),document.body.appendChild(this.__formReport[0]),this.__formReport.submit()},__clickReportComment:function(a){var b=$("#"+a.data("commentNo")).data();FormUtil.set(this.__formReport,"itemId","BBM_001;001;"+b.encodedPostNo+";"+b.encodedCommentNo),FormUtil.set(this.__formReport,"itemType",this.__CONST_CMNT_ITEM_TYPE),FormUtil.set(this.__formReport,"itemCateId",this.__CONST_CMNT_ITEM_CATE_ID),FormUtil.set(this.__formReport,"itemCateName",this.__CONST_CMNT_ITEM_CATE_NAME),FormUtil.set(this.__formReport,"itemCateLevel",this.__CONST_CMNT_ITEM_CATE_LEVEL),FormUtil.set(this.__formReport,"itemTitle",b.commentText),FormUtil.set(this.__formReport,"itemWriterId",b.writerMasked),FormUtil.set(this.__formReport,"itemEncyptWriterId",b.writerEncrypted),FormUtil.set(this.__formReport,"itemEncyptWriterId",b.writerEncrypted),FormUtil.set(this.__formReport,"itemDt",b.createdDate),FormUtil.set(this.__formReport,"retUrl",b.permalinkPath+b.encodedPostNo+"-"+b.encodedCommentNo),this.__setDefaultCategoryInfo(),document.body.appendChild(this.__formReport[0]),this.__formReport.submit()},__setDefaultCategoryInfo:function(){var a=this.__formReport,b=$("input[name=itemCateId]",a),c=$("<input type='hidden' name='itemCateId' value='"+this.__CONST_0_LEVEL_ITEM_CATE_ID+"'/>"),d=$("<input type='hidden' name='itemCateName' value='"+this.__CONST_0_LEVEL_ITEM_CATE_NAME+"'/>"),e=$("<input type='hidden' name='itemCateLevel' value='"+this.__CONST_0_LEVEL_ITEM_CATE_LEVEL+"'/>");b.before(c),b.before(d),b.before(e);var f=$("<input type='hidden' name='itemCateId' value='"+this.__CONST_1_LEVEL_ITEM_CATE_ID+"'/>"),g=$("<input type='hidden' name='itemCateName' value='"+this.__CONST_1_LEVEL_ITEM_CATE_NAME+"'/>"),h=$("<input type='hidden' name='itemCateLevel' value='"+this.__CONST_1_LEVEL_ITEM_CATE_LEVEL+"'/>");b.before(f),b.before(g),b.before(h)}}),SavePost=eg.Class({STATE_BLUR:"blur",STATE_FOCUS:"focus",STATE_LOAD:"load",STATE_UNLOAD:"unload",STATE_SHOW:"show",STATE_HIDE:"hide",STATE_CHANGE:"change",name:"SavePost",postNo:0,FORM_NAME:"formPostInfo",INPUT_NAME_BOARD_NO:"boardNo",INPUT_NAME_POST_NO:"postNo",INPUT_NAME_POST_TITLE:"postTitle",INPUT_NAME_POST_TEXT:"postText",INPUT_NAME_ORIGIN:"origin",INPUT_NAME_TAGTEXT:"tagText",INPUT_NAME_ATTACH_DATA:"attachData",INPUT_NAME_ATTACH_TEXT:"attachText",INPUT_NAME_ORIGIN:"origin",INPUT_NAME_ATTACH_COUNT:"attachCount",INPUT_NAME_BOARD_NAME:"boardName",construct:function(a){isNaN(a)==0&&(this.postNo=Number(a)),this._CLICK="",document.touchstart!=undefined?this._CLICK="touchstart":this._CLICK="click",this._formPostInfo=$("#"+this.FORM_NAME)},_savePost:function(){var a=this._checkValidation();return a==null?!1:(this._savePostInner(a),!0)},_checkValidation:function(){var a={boardNo:FormUtil.get(this._formPostInfo,this.INPUT_NAME_BOARD_NO),postTitle:FormUtil.get(this._formPostInfo,this.INPUT_NAME_POST_TITLE),postText:FormUtil.get(this._formPostInfo,this.INPUT_NAME_POST_TEXT),origin:FormUtil.get(this._formPostInfo,this.INPUT_NAME_ORIGIN),tagText:FormUtil.get(this._formPostInfo,this.INPUT_NAME_TAGTEXT)};if(a.postTitle.length<=0)return alert("제목을 입력해 주세요."),null;if(a.postText.length<=0){var b=$("._attachText");if(b.size()<=0)return alert("본문 내용을 입력해 주세요."),null;a.postText=""}return a},_savePostInner:function(a){var b=undefined;this.postNo==0?b="/post/create.json":b="/post/update.json";var c=this._getRequestParam4Post(a);$.ajax(b,{type:"POST",dataType:"json",data:c,timeoutout:3e3,context:this,success:function(a){var b=a.code;oCC.checkSuccess(b)?setTimeout(function(){var b="/board/get.nhn?boardNo="+a.result.boardNo+"&postNo="+a.result.postNo,c=oCC.getRequestParam().themeNo;b+=isNaN(c)?"":"&themeNo="+c,location.href=b},2e3):oCC.checkRedirect(b)?location.href=a.result:alert(a.message)},error:function(a){}})},_getRequestParam4Post:function(a){var b={postTitle:a.postTitle,postText:a.postText,origin:a.origin,tagText:a.tagText,contentsType:FormUtil.get(this._formPostInfo,"contentsType"),boardNo:a.boardNo,postNo:this.postNo},c=Number(FormUtil.get(this._formPostInfo,this.INPUT_NAME_ATTACH_COUNT));for(var d=0;d<c;d++)b["attachList["+d+"].attachData"]=FormUtil.get(this._formPostInfo,this.INPUT_NAME_ATTACH_DATA+(d+1)),b["attachList["+d+"].attachText"]=FormUtil.get(this._formPostInfo,this.INPUT_NAME_ATTACH_TEXT+(d+1)),b["attachList["+d+"].origin"]=FormUtil.get(this._formPostInfo,this.INPUT_NAME_ORIGIN+(d+1));if(b.contentsType==3||b.contentsType==4||b.contentsType==6||b.contentsType==7)b["attachList[0].videoId"]=FormUtil.get(this._formPostInfo,"videoId"),b["attachList[0].videoTag"]=FormUtil.get(this._formPostInfo,"videoTag"),b["attachList[0].videoPlayTime"]=FormUtil.get(this._formPostInfo,"videoPlayTime"),b["attachList[0].attachBytes"]=FormUtil.get(this._formPostInfo,"attachBytes");return b}}),PostList=eg.Class({name:"PostList",__htUserOption:null,__COOKIE_SELVT_NAME:"BBOOM_VIEW_TYPE",__COOKIE_SELVT_DURATION:365,__COOKIE_SELVT_DOMAIN:"bboom.naver.com",__PERSIST_KEY:"bboom",construct:function(a){this.__htUserOption=a,this.__initVariable(),$("#btnViewType")!=null&&this.__initPage(),this.__$checkInterval=50,this.__$expandSize=2e3,this.__$content=$("#contentsList"),this.__documentHeight=document.documentElement.scrollHeight,this.__initInfinitScroll(),this._setEvent()},__initVariable:function(){var a=Number(this.__htUserOption.viewTypeNo)||Number(this.__getVeiwTypeFromCookie());a==4&&(a=3),this.__htUserOption.viewTypeNo=a;switch(this.__htUserOption.viewTypeNo){case 1:clsName="lst2",this.__htUserOption.nISRequestItemLength=15,this.__htUserOption.nISMaxItemCountInBoundaryArea=10,this.__htUserOption.nISWillChangeTargetItemCount=2;break;case 2:clsName="lst",this.__htUserOption.nISRequestItemLength=50,this.__htUserOption.nISMaxItemCountInBoundaryArea=40,this.__htUserOption.nISWillChangeTargetItemCount=20;break;case 4:clsName="tile_lst",this.__htUserOption.nISRequestItemLength=50,this.__htUserOption.nISMaxItemCountInBoundaryArea=40,this.__htUserOption.nISWillChangeTargetItemCount=20;break;default:this.__htUserOption.viewTypeNo=3,clsName="lst2 tp2",this.__htUserOption.nISRequestItemLength=30,this.__htUserOption.nISMaxItemCountInBoundaryArea=10,this.__htUserOption.nISWillChangeTargetItemCount=5}},__initPage:function(){switch(this.__htUserOption.viewTypeNo){case 1:clsName="lst2 thum_lst",btnClsName="type_thmb",$("#viewTypeCard").removeClass("on"),$("#viewTypeList").removeClass("on"),$("#viewTypeStream").addClass("on"),$("#viewTypeTile").removeClass("on");break;case 2:clsName="lst txt_lst",btnClsName="type_lst",$("#viewTypeCard").removeClass("on"),$("#viewTypeList").addClass("on"),$("#viewTypeStream").removeClass("on"),$("#viewTypeTile").removeClass("on");break;case 4:clsName="tile_lst",btnClsName="type_tile",$("#viewTypeCard").removeClass("on"),$("#viewTypeList")!=null&&$("#viewTypeList").removeClass("on"),$("#viewTypeStream")!=null&&$("#viewTypeStream").removeClass("on"),$("#viewTypeTile").addClass("on");break;default:clsName="lst2 card_lst",btnClsName="type_card",$("#viewTypeCard").addClass("on"),$("#viewTypeList")!=null&&$("#viewTypeList").removeClass("on"),$("#viewTypeStream")!=null&&$("#viewTypeStream").removeClass("on"),$("#viewTypeTile").removeClass("on")}$(this.__htUserOption.sISContentsWrapperSelector).attr("class",clsName),$("#btnViewType").attr("class",btnClsName)},__initInfinitScroll:function(){function b(){a-100<=window.scrollY&&(a=document.documentElement.scrollHeight,this.oPostList.__getRequestOption(),this.oPostList.__getMoreList())}var a=document.documentElement.scrollHeight;this.__params={viewTypeNo:Number(this.__htUserOption.viewTypeNo),limit:Number(this.__htUserOption.nISDefaultLimit),length:Number(this.__htUserOption.nISRequestItemLength)},(history.state==null||history.state=="null")&&this.__getMoreList(),this.__visible=(new eg.Visible({targetClass:"check_visible",expandSize:this.__$expandSize})).on("change",function(a){$(a.visible).each(function(a){var c=$(this),d=$("img",c);c.hasClass("lazyloaded")||(d.attr("src",function(a){return $(d.get(a)).attr("data-src")}),c.addClass("lazyloaded")),b()})}),this.__visible.check()},__getMoreList:function(){var a=this;$.ajax({type:"POST",url:this.__htUserOption.sISRequestURL,data:this.__params,context:a,success:function(b){if(b.trim().length>0)try{a.__$content.append(b),this.__visible.refresh()}catch(c){console.log(c)}finally{this.__initSocialPlugin(),lcs_do()}$("._load_timing_next").hide()},error:function(a){console.log("err = "+a)}})},__initPersits:function(){var a=this;this.__$content.addClass("NO_TAP_HIGHLIGHT"),this.__$content.on("click","a",function(b){$(".thumbnail").each(function(){var a=$(this);a.attr("onload","onLoadImage(this);")}),$.persist(a.__PERSIST_KEY,{comments:a.__$content.html(),scrollTop:document.body.scrollTop,imageCount:$(".thumbnail",a.__$content).size()})});var b=$.persist(this.__PERSIST_KEY);b&&(a.__$content.html(b.comments),a.__nImageCount=b.imageCount,a.__nScrollTop=b.scrollTop,(a.__htUserOption.viewTypeNo==2||a.__htUserOption.viewTypeNo==4)&&a._setScrollTop(a.__nScrollTop))},initSocialPlugin:function(){this.__initSocialPlugin()},__initSocialPlugin:function(){window.__splugin?window.__splugin.init():window.__splugin=SocialPlugIn_Core({evKey:"bboom",serviceName:"뿜",dimmed:"fixed",onClick:function(a){},onShow:function(){},onHide:function(){},onResize:function(a){},onRotate:function(a){}})},__getVeiwTypeFromCookie:function(){var a=$.cookie(this.__COOKIE_SELVT_NAME);return a==null||a==undefined||location.href.indexOf("/video/")>=0?3:Number(a)},__setVeiwTypeToCookie:function(a){$.cookie(this.__COOKIE_SELVT_NAME,a,{expires:this.__COOKIE_SELVT_DURATION,domain:this.__COOKIE_SELVT_DOMAIN,path:"/"})},_setEvent:function(){$(document.body).addClass("NO_TAP_HIGHLIGHT"),$(document.body).on("click",$.proxy(this._onEvent,this)),$(window).on("load",$.proxy(this._onLoad,this)),this.__initPersits(),$(window).scroll(function(){this.oPostList.__visible.options.expandSize=this.oPostList.__$expandSize,this.oPostList.__visible.check(this.oPostList.__$checkInterval)})},_onLoad:function(a){},_onLoadImage:function(a){a.complete&&this.__nImageCount--,this.__nImageCount<=0&&this._setScrollTop(this.__nScrollTop)},_setScrollTop:function(a){window.scrollTo(0,a)},_onEvent:function(a){var b=$(a.target);b.hasClass("type_card")||b.hasClass("type_thmb")||b.hasClass("type_lst")||b.hasClass("type_tile")?(a.stopPropagation(),this.__clickViewType()):b.hasClass("_viewTypeItem")?(a.stopPropagation(),this.__clickViewTypeItem(b)):b.hasClass("_clickTagArea")?(a.stopPropagation(),this.__clickTagArea(b)):b.hasClass("_clickPostLike")?(a.stopPropagation(),this.__clickPostLike(b)):b.hasClass("_btnGoComment")?(a.stopPropagation(),this.__goCommentForm(a)):b.hasClass("_btnGoPost")?(a.stopPropagation(),location.href="/board/postForm.nhn"):b.hasClass("_btn_top")&&(a.stopPropagation(),this.__goTop())},__getRequestOption:function(){var a=$(".check_visible").last();this.__params.viewTypeNo=this.__htUserOption.viewTypeNo;if(a!=null){var b=$(a),c=b.data("postNo"),d=b.data("sortDate");if(d==undefined||d=="")d="";this.__params.fromPostNo=c,this.__params.fromSortDateAt=d}},__clickViewType:function(){$("#btnViewType").addClass("on"),$("#viewTypeLayer").css({zIndex:"100"})},__clickViewTypeItem:function(a){var b=a.data("viewType");this.__setVeiwTypeToCookie(b),location.reload()},__clickTagArea:function(a){a.parent().toggleClass("on")},__clickPostLike:function(a){return this.__postLike(a)},__postLike:function(a){var b=this,c=a.attr("data-click-code"),d={boardNo:a.attr("data-board-no"),postNo:a.attr("data-post-no")};$.ajax({type:"POST",url:"/post/like.json",dataType:"json",data:d,success:function(d){try{var e=d.code,f=d.message,g=d.result;oCC.checkSuccess(e)?(b.__changePostLikeCount(Number(f),a.attr("data-post-no")),oCC.showLikePopUp(g,!0)):oCC.checkBboomDown(e)?(b.__changePostLikeCount(Number(f),a.attr("data-post-no")),c+="cc"):oCC.checkRedirect(e)?location.href=d.result:alert(f),nclk(this,c,"","")}catch(h){console.log(h),nclk(this,c,"","")}},error:function(a){console.log("err = "+a),nclk(this,c,"","")}})},__changePostLikeCount:function(a,b){var c=a.toString(),d;c.length>4?d="9,999+":c.length==4?d=c.substr(0,1)+","+c.substr(1,3):d=c;var e=$("#likeCount_"+b),f=$(".u_hc",e);e.html(f),e.append(d)},__goCommentForm:function(a){var b=$(a.element),c=b.attr("data-board-no"),d=b.attr("data-post-no");location.href="/board/commentForm.nhn?boardNo="+c+"&postNo="+d},__goTop:function(){window.scrollTo(0,0)}}),CommentForm=eg.Class({STATE_BLUR:"blur",STATE_FOCUS:"focus",STATE_LOAD:"load",STATE_UNLOAD:"unload",STATE_SHOW:"show",STATE_HIDE:"hide",name:"CommentForm",construct:function(a){this._htUserOption={htContext:$("#ct").data(),sElCommentText:"#commentText",sElBtnCreateComment1:"#btnCreateComment1",sElBtnCreateComment2:"#btnCreateComment2",sElPhotoUrl:"#photoUrl",sElBtnPhoto:"#btnPhoto",sEventClass:"_clickCreateComment"},this._htUserOption=a||this._htUserOption,this._oCtx=this._htUserOption.htContext,this._el=$("#ct"),this._CLICK="",document.touchstart!=undefined?this._CLICK="touchstart":this._CLICK="click",this._elText=$(this._htUserOption.sElCommentText,this._el),this._elBtn1=$(this._htUserOption.sElBtnCreateComment1),this._elBtn2=$(this._htUserOption.sElBtnCreateComment2),this._elPhotoUrl=$(this._htUserOption.sElPhotoUrl,this._el),this._elPhotoWrapper=$(this._htUserOption.sElBtnPhoto),this._nMaxLength=this._elText.get(0).attributes.maxLength.value,this._textCount=0,this._bTextFocused=!1,this._sSrvUA=this._oCtx.userAgent,this._sCliUA=navigator.userAgent.toLowerCase(),this._bInApp=UaUtil._isInApp(this._sSrvUA),this._bIsAndroid=this._sCliUA.indexOf("android")>=0,this._aState=[],this._setEvent()},_setEvent:function(){this._enableSubmit(),$(window).on(this.STATE_LOAD,$.proxy(this._addState(this.STATE_LOAD),this)),$(window).on(this.STATE_UNLOAD,$.proxy(this._addState(this.STATE_UNLOAD),this)),$(this._elText).on(this.STATE_FOCUS,$.proxy(function(){this._addState(this.STATE_FOCUS),this._bTextFocused=!0},this)),$(this._elText).on(this.STATE_BLUR,$.proxy(function(){this._addState(this.STATE_BLUR),this._bTextFocused=!1},this)),$(document.body).on("click",$.proxy(this._onEvent,this)),$(document).ready($.proxy(this._onLoad,this))},_onLoad:function(a){var b=location.hash;b.indexOf("#photo")>=0&&(window.location.replace(""),this._callNaverSearchApp())},_onEvent:function(a){var b=$(a.target);b.hasClass("_clickCancelComment")?(a.stopPropagation(),this._cancelCreateComment(a)):b.hasClass("_clickCreateComment")?(a.stopPropagation(),this._createComment(a)):b.hasClass("_clickUploadPhoto")?(a.stopPropagation(),this.uploadPhotoWithCache()):b.hasClass("_clickRemovePhoto")?(a.stopPropagation(),this._removePhoto()):b.hasClass("_clickVoid")&&a.stopPropagation()},_addState:function(a){this._aState.push(a)},_getState:function(a){return a==undefined||a==null?this._aState[this._aState.length-1]:this._aState[this._aState.length-1+a]},_cancelCreateComment:function(a){var b=this._elText.val().length;if(b>0&&!confirm("작성하시던 댓글이 있습니다. 취소하시겠습니까?")){this._elText.focus();return}window.history.back()},_enableSubmit:function(){$(this._elBtn1).removeClass("disable"),$(this._elBtn2).removeClass("disable"),$(this._elBtn1.parentElement).removeClass("_clickVoid"),$(this._elBtn2.parentElement).removeClass("_clickVoid"),$(this._elBtn1).addClass(this._htUserOption.sEventClass),$(this._elBtn2).addClass(this._htUserOption.sEventClass)},_disableSubmit:function(){$(this._elBtn1).addClass("disable"),$(this._elBtn2).addClass("disable"),$(this._elBtn1.parentElement).addClass("_clickVoid"),$(this._elBtn2.parentElement).addClass("_clickVoid"),$(this._elBtn1).removeClass(this._htUserOption.sEventClass),$(this._elBtn2).removeClass(this._htUserOption.sEventClass)},_checkEnableSubmit:function(a){var b=this._elText.val().length,c=undefined;b>this._nMaxLength&&(c=this._elText.val(),c=c.substring(0,this._nMaxLength-1),this._elText.val(c))},_createComment:function(a){var b=$.trim(this._elText.val());if(b.length==0){alert("댓글을 입력해 주세요"),this._elText.val(""),this._enableSubmit(),this._elText.focus();return}var c=this._oCtx;c.commentText=b,c.photoUrl=this._elPhotoUrl.val(),this._createCommentInner(c)},_createCommentInner:function(a){var b={boardNo:Number(a.boardNo),commentText:a.commentText,postNo:Number(a.postNo),postAuthorNo:Number(a.postAuthorNo),"attachList[0].attachData":a.photoUrl,timeStamp:oCC.getTime(),toUserNo:Number(a.toUserNo)};$.ajax("/comment/create.json",{type:"POST",dataType:"json",data:b,timeoutout:3e3,context:this,success:function(b){var c=b.code;oCC.checkSuccess(c)?a.viewType==1?location.href="/board/commentList.nhn?boardNo="+a.boardNo+"&postNo="+a.postNo+"&viewType="+a.viewType:location.href="/board/get.nhn?boardNo="+a.boardNo+"&postNo="+a.postNo:oCC.checkRedirect(c)?location.href=b.result:alert(b.message)},error:function(a){}})},uploadPhotoWithCache:function(a){if(this._bInApp&&!this._bIsAndroid){this._callNaverSearchApp();return}var b={commentText:this._elText.val()};$.ajax("/comment/createCommentText.json",{type:"POST",dataType:"json",data:b,timeoutout:3e3,context:this,success:function(a){var b=a.code;oCC.checkSuccess(b)?this._callNaverSearchApp():oCC.checkRedirect(b)?location.href=a.result:alert(a.message)},error:function(a){}})},_callNaverSearchApp:function(){var a=undefined;this._bInApp&&!this._bIsAndroid?a=this._oCtx.naverInAppUrl:a=this._oCtx.naverAppUrl,UaUtil._callNaverSearchApp(a,this._bInApp,this._sSrvUA)},previewPhoto:function(a){this._elPhotoWrapper.html("<img src='"+a+"?type=m60_60' width='60' height='60' /><span class='dlt_ph'></span>"),this._elPhotoWrapper.removeClass("_clickUploadPhoto"),this._elPhotoWrapper.find("span").addClass("_clickRemovePhoto"),this._elPhotoWrapper.attr("onClick","nclk(this, 'wrr.del', '', '');"),this._enableSubmit()},_removePhoto:function(){this._elPhotoWrapper.html(""),this._elPhotoWrapper.addClass("_clickUploadPhoto"),this._elPhotoUrl.val("")},_checkUploadPhotoOnLoad:function(){var a=location.hash;a.indexOf("#photo")>=0&&(window.location.replace(""),setTimeout($.proxy(this._callNaverSearchApp,this),1e3))},onPhotoUpload:function(a){this._elPhotoUrl.val(this._oCtx.phinf+a),this.previewPhoto(this._oCtx.phinf+a),setTimeout(function(){location.hash="#ct",scrollTo(0,1)},1e3)}}),CommentFormHTML=eg.Class({STATE_BLUR:"blur",STATE_FOCUS:"focus",STATE_LOAD:"load",STATE_UNLOAD:"unload",STATE_SHOW:"show",STATE_HIDE:"hide",name:"CommentFormHTML",construct:function(a){this._htUserOption={htContext:$("#ct").data(),sElCommentText:"#commentText",sElBtnCreateComment1:"#btnCreateComment1",sElBtnCreateComment2:"#btnCreateComment2",sElPhotoUrl:"#photoUrl",sElPhotoWrapper:"#photoWrapper",sElInputImagePath:"#inputImagePath",sEventClass:"_clickCreateComment"},this._htUserOption=a||this._htUserOption,this._oCtx=this._htUserOption.htContext,this._el=$("#ct"),this._CLICK="",document.touchstart!=undefined?this._CLICK="touchstart":this._CLICK="click",this._elText=$(this._htUserOption.sElCommentText,this._el),this._elBtn1=$(this._htUserOption.sElBtnCreateComment1),this._elBtn2=$(this._htUserOption.sElBtnCreateComment2),this._elPhotoUrl=$(this._htUserOption.sElPhotoUrl,this._el).get(0),this._elPhotoWrapper=$(this._htUserOption.sElPhotoWrapper),this._nMaxLength=this._elText.get(0).attributes.maxLength.value,this._textCount=0,this._bTextFocused=!1,this._aState=[],this._setEvent()},_setEvent:function(){$(window).on(this.STATE_LOAD,$.proxy(this._addState(this.STATE_LOAD),this)),$(window).on(this.STATE_UNLOAD,$.proxy(this._addState(this.STATE_UNLOAD),this)),$(this._elText).on(this.STATE_FOCUS,$.proxy(function(){this._addState(this.STATE_FOCUS),this._bTextFocused=!0},this)),$(this._elText).on(this.STATE_BLUR,$.proxy(function(){this._addState(this.STATE_BLUR),this._bTextFocused=!1},this)),$(document.body).on("click",$.proxy(this._onEvent,this))},_onEvent:function(a){var b=$(a.target);if(b.hasClass("_clickCancelComment"))a.stopPropagation(),this._cancelCreateComment(a);else if(b.hasClass("_clickCreateComment"))a.stopPropagation(),this._createComment(a);else{if(b.hasClass("_clickRemovePhoto"))return a.stopPropagation(),this._removePhoto(),!1;b.hasClass("_clickVoid")&&a.stopPropagation()}},_onUploadSuccess:function(a){this._elPhotoUrl.value=a.result.url,this._previewPhoto(a.result.url)},_onUploaderror:function(a){alert("업로드 오류 : "+a)},_previewPhoto:function(a){$(this._elPhotoWrapper).html("<img src='"+a+"?type=m60_60' width='60' height='60'/><span class='dlt_ph _clickRemovePhoto'></span>"),$(this._elPhotoWrapper).attr("onClick","nclk(this, 'wrr.del', '', '');")},_removePhoto:function(){$("#photoWrapper").children().remove(),this._elPhotoUrl.value=""},_addState:function(a){this._aState.push(a)},_getState:function(a){return a==undefined||a==null?this._aState[this._aState.length-1]:this._aState[this._aState.length-1+a]},_cancelCreateComment:function(a){var b=this._elText.val().length;if(b>0&&!confirm("작성하시던 댓글이 있습니다. 취소하시겠습니까?")){this._elText.focus();return}window.history.back()},_createComment:function(a){var b=$.trim(this._elText.val());if(b.length==0){alert("댓글을 입력해 주세요"),this._elText.val(""),this._elText.focus();return}var c=this._oCtx;c.commentText=b,c.photoUrl=this._elPhotoUrl.value,this._createCommentInner(c)},_createCommentInner:function(a){var b={boardNo:Number(a.boardNo),commentText:a.commentText,postNo:Number(a.postNo),postAuthorNo:Number(a.postAuthorNo),"attachList[0].attachData":a.photoUrl,timeStamp:oCC.getTime(),toUserNo:Number(a.toUserNo)};$.ajax("/comment/create.json",{type:"POST",dataType:"json",data:b,timeoutout:3e3,context:this,success:function(b){var c=b.code;oCC.checkSuccess(c)?a.viewType==1?location.href="/board/commentList.nhn?boardNo="+a.boardNo+"&postNo="+a.postNo+"&viewType="+a.viewType:location.href="/board/get.nhn?boardNo="+a.boardNo+"&postNo="+a.postNo:oCC.checkRedirect(c)?location.href=b.result:alert(b.message)},error:function(a){}})}}),CommentList=eg.Class({name:"CommentList",__htUserOption:null,__commentLimitFrom:0,__commentLimit:30,__initialLimit:10,__imageLoadComplete:!1,__bestCommentLoadComplete:!1,__PERSIST_KEY:"bboom",construct:function(a){this.__htUserOption=a,this.__elCommentArea=$("#commentListArea"),this.__elBestCommentArea=$("#bestCommentListArea"),this.__elMoreCommentButton=$("#beforeCommentMore"),this.__elCommentTextArea=$("#textAreaComment"),this.__elCommentLength=$("#commentLength"),this.__weListContainer=$("#commentListArea"),this.__initLineStickerPopup(),this.__initPersits(),this.__setEvent()},__initLineStickerPopup:function(){var a=this;this.__oLineStickerLayer=new nts.m.LineStickerLayer({sImageBaseUrl:"",sPackListAPI:"/line/stickerPackList.json",sStickerListAPI:"/line/stickerList.json",onClickSticker:function(b){this.hide(),a.__createStickerComment(b.stickerCode)}})},__initPersits:function(){var a=this;this.__elCommentArea.addClass("NO_TAP_HIGHLIGHT"),this.__elCommentArea.on("click","a",function(b){$.persist(a.__PERSIST_KEY,{comments:a.__weListContainer.html(),scrollTop:document.body.scrollTop,commentLimitFrom:a.__commentLimitFrom,imageCount:$(".lazy_load",a.__elCommentArea).size()})});var b=$.persist(this.__PERSIST_KEY);b&&(a.__weListContainer.html(b.comments),a.__nImageCount=b.imageCount,a.__commentLimitFrom=b.commentLimitFrom,a.__nScrollTop=b.scrollTop)},__setEvent:function(){$(document.body).addClass("NO_TAP_HIGHLIGHT"),$(document.body).on("click",$.proxy(this.__onEvent,this)),$(window).on("load",$.proxy(this.__onLoad,this)),this.__elCommentTextArea.on("change",$.proxy(this.__checkCommentText,this)),this.__elCommentTextArea.on("keyup",$.proxy(this.__checkCommentText,this)),this.__elCommentTextArea.on("input",$.proxy(this.__checkCommentText,this))},__onEvent:function(a){var b=$(a.target);b.hasClass("_clickCommentMore")?(a.stopPropagation(),this.__clickCommentMore()):b.hasClass("_clickCreateComment")?(a.stopPropagation(),this.__createComment(a)):b.hasClass("_clickDeleteComment")?(a.stopPropagation(),this.__deleteComment(a)):b.hasClass("_clickLikeComment")?(a.stopPropagation(),this.__commentLike(a)):b.hasClass("_clickFocusCommentText")?(a.stopPropagation(),this.__elCommentTextArea.focus()):b.hasClass("_clickPhotoComment")&&(a.stopPropagation(),this.__uploadPhotoWithCache())},__onLoad:function(){this.__initCommentArea()},__onLoadImage:function(a){a.complete&&this.__nImageCount--,this.__nImageCount<=0&&(this.__imageLoadComplete=!0,this.__imageLoadComplete&&this.__bestCommentLoadComplete&&window.scrollTo(0,this.__nScrollTop))},__initCommentArea:function(){this.__htUserOption.nCommentCount>0&&this.__requestCommentList(!0)},__requestCommentList:function(isBest){var param={boardNo:Number(this.__htUserOption.nBoardNo),postNo:Number(this.__htUserOption.nPostNo),isBest:isBest,limitFrom:this.__commentLimitFrom,limit:this.__commentLimitFrom<=0?this.__initialLimit:this.__commentLimit,isCommentPage:this.__htUserOption.isCommentPage?!0:!1};$.ajax("/comment/list.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;oCC.checkSuccess(sCode)?isBest?this.__callbackBestCommentList(jsonResult.result,jsonResult.message):this.__callbackCommentList(jsonResult.result,jsonResult.message):oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message)},error:function(a){}})},__callbackBestCommentList:function(a,b){isNaN(b)&&(b=0),this.__initialLimit=this.__initialLimit-Number(b),this.__elBestCommentArea.html(a),this.__bestCommentLoadComplete=!0;var c=this.__htUserOption.nCommentCount-this.__commentLimitFrom;history.state==null||history.state=="null"?this.__requestCommentList(!1):c<=0&&this.__elMoreCommentButton.hide(),this.__imageLoadComplete&&this.__bestCommentLoadComplete&&window.scrollTo(0,this.__nScrollTop)},__callbackCommentList:function(a,b){this.__elCommentArea.prepend(a);if(isNaN(b))return;if(this.__elMoreCommentButton==null)return;this.__commentLimitFrom+=Number(b);var c=this.__htUserOption.nCommentCount-this.__commentLimitFrom;c<=0&&this.__elMoreCommentButton.hide()},__clickCommentMore:function(){this.__requestCommentList(!1)},__createComment:function(a){var b=$.trim(this.__elCommentTextArea.val());if(b.length==0){alert("댓글을 입력해 주세요"),this.__elCommentTextArea.focus();return}var c={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo,commentText:b,stickerYn:0,postAuthorNo:this.__htUserOption.nPostAuthorNo};this.__createCommentInner(c)},__createStickerComment:function(a){if(a==null||a==undefined){alert("스티커를 선택해 주세요");return}var b={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo,commentText:a,stickerYn:1,postAuthorNo:this.__htUserOption.nPostAuthorNo};this.__createCommentInner(b)},__createCommentInner:function(oParam){var param={boardNo:Number(oParam.boardNo),commentText:oParam.commentText,stickerYn:Number(oParam.stickerYn),postNo:Number(oParam.postNo),postAuthorNo:Number(oParam.postAuthorNo)};$.ajax("/comment/create.json",{type:"POST",dataType:"json",data:param,timeoutout:3e3,context:this,success:function(jsonObject){try{var jsonResult=eval(jsonObject),code=jsonResult.code;if(oCC.checkSuccess(code)){oCC.showLikePopUp(jsonResult.result.popupHtml,!1),this.__elCommentArea.append(jsonResult.result.htmlString),this.__modifyCommentCount(1);if(oParam.stickerYn==1)return;this.__elCommentTextArea.val(""),this.__checkCommentText()}else oCC.checkRedirect(code)?location.href=jsonResult.result:alert(jsonResult.message)}catch(err){console.log(err)}},error:function(a){}})},__deleteComment:function(a){if(confirm("삭제하시겠습니까?")){var b=$(a.target),c={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo,commentNo:Number(b.data("commentNo"))};this.__deleteCommentInner(c)}},__deleteCommentInner:function(oParam){$.ajax("/comment/delete.json",{type:"POST",dataType:"json",data:oParam,context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;if(oCC.checkSuccess(sCode)){var commentNo=jsonResult.result.commentNo,elComments=$("#commentListArea>li");for(var i in elComments){var elLi=elComments[i];try{if(Number($(elLi).data("commentNo"))==Number(commentNo)){$(elLi).remove(),this.__modifyCommentCount(-1);break}}finally{elCmtLst=elLi=null}}}else oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message)},error:function(a){alert("댓글 삭제에 실패했습니다")}})},__modifyCommentCount:function(a){var b=$("#postCCArea").text();isNaN(b)?b=0:b=Number(b)+a,$("#postCCArea").text(b)},__commentLike:function(a){var b=$(a.target),c={boardNo:this.__htUserOption.nBoardNo,postNo:this.__htUserOption.nPostNo,commentNo:Number(b.data("commentNo")),clickCode:b.data("clickCode")};this.__commentLikeInner(c)},__commentLikeInner:function(oParam){var clickCode=oParam.clickCode,param={boardNo:Number(oParam.boardNo),postNo:Number(oParam.postNo),commentNo:Number(oParam.commentNo)};$.ajax("/post/like.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){try{var jsonResult=eval(jsonObject),sCode=jsonResult.code;if(oCC.checkSuccess(sCode)){var cmtCntArea=$("#commentLCArea_"+oParam.commentNo);cmtCntArea.html(jsonResult.message),cmtCntArea.parent().removeClass("no"),oCC.showLikePopUp(jsonResult.result,!0)}else if(oCC.checkBboomDown(sCode)){var cmtCntArea=$("#commentLCArea_"+oParam.commentNo);cmtCntArea.html(jsonResult.message),cmtCntArea.parent().addClass("no"),clickCode+="cc"}else oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message);nclk(this,clickCode,"","")}catch(err){console.log(err),nclk(this,clickCode,"","")}},error:function(a){nclk(this,clickCode,"","")}})},__checkCommentText:function(){var a=this.__elCommentTextArea.val().length;if(a>300){var b=this.__elCommentTextArea.val();this.__elCommentTextArea.val(b.substring(0,298))}a>0?this.__elCommentLength.html("<strong>"+a+"</strong>/300"):this.__elCommentLength.html("<strong>0</strong>/300")},__uploadPhotoWithCache:function(){var commentFormUrl="/board/commentForm.nhn?boardNo="+this.__htUserOption.nBoardNo+"&postNo="+this.__htUserOption.nPostNo,sCommentText=$.trim(this.__elCommentTextArea.val());if(sCommentText==null||sCommentText.length<=0)location.href=commentFormUrl;var param={commentText:sCommentText};$.ajax("/comment/createCommentText.json",{type:"POST",dataType:"json",data:param,context:this,timeoutout:3e3,success:function(jsonObject){var jsonResult=eval(jsonObject),sCode=jsonResult.code;oCC.checkSuccess(sCode)?location.href=commentFormUrl:oCC.checkRedirect(sCode)?location.href=jsonResult.result:alert(jsonResult.message)},error:function(a){location.href=commentFormUrl}})},__goCommentForm:function(a){var b=$(a.target),c=b.attr("data-board-no"),d=b.attr("data-post-no");location.href="/board/commentForm.nhn?boardNo="+c+"&postNo="+d}}),NoticeList=eg.Class({name:"NoticeList",_CLICK:"",_elList:undefined,construct:function(a){this._htUserOption={htContext:$("#ct").data(),sNavigateUrl:"/notice/list.nhn",sElPageNav:"#pageNav"},this._htUserOption=a||this._htUserOption,this._oCtx=this._htUserOption.htContext,this._el=$("#ct"),this._elPageNav=$(this._htUserOption.sElPageNav),document.touchstart!=undefined?this._CLICK="touchstart":this._CLICK="click";if(this._oCtx.pageNo==undefined||this._oCtx.pageNo=="")this._oCtx.pageNo=1;this._setEvent()},_setEvent:function(){$(document.body).addClass("NO_TAP_HIGHLIGHT"),$(document.body).on(this._CLICK,$.proxy(this._onEvent,this)),$(document).ready($.proxy(this._onLoad,this))},_onEvent:function(a){var b=$(a.target);b.hasClass("_clickVoid")&&a.stopPropagation()},_onLoad:function(a){this._displayPaging()},_displayPaging:function(oParam){var elNext=$("._next",this._el),elPrev=$("._prev",this._el),sUrl=this._htUserOption.sNavigateUrl,elLast=$("#ct>ul>li:last-child"),elFirst=$("#ct>ul>li:first-child"),sPeriodParam=this._htUserOption.sPeriodParam,sPeriodValue=this._htUserOption.sPeriodValue,sPrevUrl=sNextUrl=undefined;eval(this._oCtx.hasNextContents)==1&&(sNextUrl=sUrl+"?pageNo="+(Number(this._oCtx.pageNo)+1)),Number(this._oCtx.pageNo)>=2&&(sPrevUrl=sUrl+"?pageNo="+(Number(this._oCtx.pageNo)-1)),sNextUrl!=undefined?$(elNext).attr("href",sNextUrl):($(elNext).after("<span class='btn_nxt'>다음</span>"),$(elNext).remove()),sPrevUrl!=undefined?$(elPrev).attr("href",sPrevUrl):($(elPrev).before("<span class='btn_prv'>이전</span>"),$(elPrev).remove());var sFirstContentsNo=(Number(this._oCtx.pageNo)-1)*Number(this._oCtx.pageSize)+1,sLastContentsNo=sFirstContentsNo-1+Number(this._oCtx.contentsCount),sPageNav=sFirstContentsNo+" ~ "+sLastContentsNo;$(this._elPageNav).html(sPageNav)}}),SearchList=eg.Class({name:"SearchList",__htUserOption:null,__elWrapper4InfinityScroll:null,__htRequire:null,__htOption:null,__oInfinityScroll:null,__COOKIE_SELVT_NAME:"BBOOM_VIEW_TYPE",__COOKIE_SELVT_DURATION:365,__COOKIE_SELVT_DOMAIN:"bboom.naver.com",__PERSIST_KEY:"bboom",_END_OF_LIST:!1,construct:function(a){this.__htUserOption=a,this.__initVariable(),this.__$checkInterval=200,this.__$expandSize=0,this.__$content=$("#contentsList"),this.__initInfinitScroll(),this.__setRelatedTagArea(),this._setEvent()},__initVariable:function(){clsName="lst2 tp2",this.__htUserOption.nISRequestItemLength=30,this.__htUserOption.nISMaxItemCountInBoundaryArea=10,this.__htUserOption.nISWillChangeTargetItemCount=5},__initInfinitScroll:function(){function b(){a-100<=window.scrollY&&(a=document.documentElement.scrollHeight,this.oSearchList.__getRequestOption(),this.oSearchList.__getMoreList())}var a=document.documentElement.scrollHeight;this.__params={viewTypeNo:Number(this.__htUserOption.viewTypeNo),start:Number(this.__htUserOption.nStart),filter:Number(this.__htUserOption.nFilter||1),type:this.__htUserOption.nType||"",query:this.__htUserOption.sQuery,length:Number(this.__htUserOption.nISRequestItemLength)},(history.state==null||history.state=="null")&&this.__getMoreList(),this.__visible=(new eg.Visible({targetClass:"check_visible",expandSize:this.__$expandSize})).on("change",function(a){$(a.visible).each(function(a){var c=$(this);c.hasClass("lazyloaded")||c.addClass("lazyloaded"),b()})}),this.__visible.check()},__getMoreList:function(){if(this._END_OF_LIST)return;var a=this;$.ajax({type:"POST",url:this.__htUserOption.sISRequestURL,data:this.__params,context:a,success:function(b){try{b=$.trim(b);if(b==null||b=="")this.__noSearchData();else{var c=$(b).size();c<this.__params.length&&this.__endOfSearchList(),a.__$content.append(b)}this.__visible.refresh()}catch(d){console.log(d)}finally{this.__initSocialPlugin(),lcs_do()}},error:function(a){console.log("err = "+a)}})},__initPersits:function(){var a=this;this.__$content.addClass("NO_TAP_HIGHLIGHT"),this.__$content.on("click","a",function(b){$(".thumbnail").each(function(){var a=$(this);a.attr("onload","onLoadImage(this);")}),$.persist(a.__PERSIST_KEY,{comments:a.__$content.html(),scrollTop:document.body.scrollTop,imageCount:$(".thumbnail",a.__$content).size()})});var b=$.persist(this.__PERSIST_KEY);b&&(a.__$content.html(b.comments),a.__nImageCount=b.imageCount,a.__nScrollTop=b.scrollTop)},initSocialPlugin:function(){this.__initSocialPlugin()},__setRelatedTagArea:function(){var a=$("#p");if(a){var b=a.width(),c=$("#p a"),d=0,e=8;c.each(function(){d+=$(this).width()+e});if(b<d){var f=$("._btnMoreRelatedTag");f.first().toggle(),f.last().toggle()}}},__initSocialPlugin:function(){window.__splugin?window.__splugin.init():window.__splugin=SocialPlugIn_Core({evKey:"bboom",serviceName:"뿜",dimmed:"fixed",onClick:function(a){},onShow:function(){},onHide:function(){},onResize:function(a){},onRotate:function(a){}})},_setEvent:function(){$(document.body).addClass("NO_TAP_HIGHLIGHT"),$(document.body).on("click",$.proxy(this._onEvent,this)),$(window).on("load",$.proxy(this.__onLoad,this)),this.__initPersits(),$(window).scroll(function(){this.oSearchList.__visible.options.expandSize=this.oSearchList.__$expandSize,this.oSearchList.__visible.check(this.oSearchList.__$checkInterval)})},__onLoad:function(a){},_onEvent:function(a){var b=$(a.target);b.hasClass("_clickFilterType")?(console.log("asdfa"),a.stopPropagation(),this.__clickFilterType(b)):b.hasClass("_clickPostLike")?(a.stopPropagation(),this.__clickPostLike(b)):b.hasClass("_clickTagArea")?(a.stopPropagation(),this.__clickTagArea(b)):b.hasClass("_btnGoComment")?(a.stopPropagation(),this.__goCommentForm(a)):b.hasClass("_btnGoPost")?(a.stopPropagation(),location.href="/board/postForm.nhn"):b.hasClass("_btnMoreRelatedTag")?(a.stopPropagation(),this.__clickMoreRelatedTag(b)):b.hasClass("_btn_top")&&(a.stopPropagation(),this.__goTop())},__getRequestOption:function(a,b){var c=$(".check_visible").last();this.__params.viewTypeNo=this.__htUserOption.viewTypeNo,this.__params.start=this.__htUserOption.nStart,this.__params.filter=this.__htUserOption.nFilter;if(c!=null){var d=$(c),e=d.data("rank");this.__params.start=e,this.__htUserOption.nStart=e}},__noSearchData:function(){this.__htUserOption.nStart==0&&(this.__htUserOption.nFilter==""&&this.__searchWithFilterType(0),$("._srch_toggle").toggle(),this.__showFooter())},__showFooter:function(){this._END_OF_LIST=!0,$("#_footer").removeClass("hide")},__endOfSearchList:function(){$("._load_timing_next").toggle(),this.__showFooter()},__clickTagArea:function(a){a.parent().toggleClass("on")},__clickFilterType:function(a){var b=a.attr("value");this.__searchWithFilterType(b)},__searchWithFilterType:function(a){location.href="/search/search.nhn?query="+this.__htUserOption.sQuery+"&filter="+a},__clickPostLike:function(a){return this.__postLike(a)},__postLike:function(a){var b=a.data("clickCode"),c=this,d={boardNo:a.attr("data-board-no"),postNo:a.attr("data-post-no")};$.ajax({type:"POST",url:"/post/like.json",dataType:"json",data:d,success:function(d){try{var e=d.code,f=d.message,g=d.result;oCC.checkSuccess(e)?(c.__changePostLikeCount(Number(f),a.attr("data-post-no")),oCC.showLikePopUp(g,!0)):oCC.checkBboomDown(e)?(c.__changePostLikeCount(Number(f),a.attr("data-post-no")),b+="cc"):oCC.checkRedirect(e)?location.href=d.result:alert(f),nclk(this,b,"","")}catch(h){console.log(h),nclk(this,b,"","")}},error:function(a){console.log("err = "+a),nclk(this,b,"","")}})},__changePostLikeCount:function(a,b){var c=a.toString(),d;c.length>4?d="9,999+":c.length==4?d=c.substr(0,1)+","+c.substr(1,3):d=c;var e=$("likeCount_"+b),f=$(".u_hc",e);e.html(f),e.append(d)},__goCommentForm:function(a){var b=$(a.element),c=b.attr("data-board-no"),d=b.attr("data-post-no");location.href="/board/commentForm.nhn?boardNo="+c+"&postNo="+d},__clickMoreRelatedTag:function(a){a.toggleClass("on"),$(".rel_box").toggleClass("on"),a.hasClass("on")?nclk(window,"srr.runfold","",""):nclk(window,"srr.rfold","","")},__goTop:function(){window.scrollTo(0,0)}});nts.m.LineStickerLayer=eg.Class({construct:function(a){this._createObject(a)},_createObject:function(a){this._oController=new nts.m.LineStickerLayer.Controller({onClickSticker:a.onClickSticker},{oModel:new nts.m.LineStickerLayer.Model,oDataBO:new nts.m.LineStickerLayer.DataBO,oTabView:new nts.m.LineStickerLayer.TabView(a.sImageBaseUrl),oStickerView:new nts.m.LineStickerLayer.StickerView(a.sImageBaseUrl),oView:new nts.m.LineStickerLayer.View,oAjax:new nts.m.LineStickerLayer.Ajax({sPackListAPI:a.sPackListAPI,sStickerListAPI:a.sStickerListAPI})})}}),nts.m.LineStickerLayer.config={sLayerId:".u_line_layer",sStickerButtonId:"#_btn_linesticker",sCloseButtonId:".u_linesticker_clse",sScrollTabId:"._scroll_tab",sScrollStickerId:"._scroll_sticker",sListTabId:"._list_tab",sListStickerId:"._list_sticker",sDimmedId:"_dim_line",nScrollTabHeight:37,nScrollTabMenuWidth:48,nScrollStickerHeight:261},nts.m.LineStickerLayer.Model=eg.Class({construct:function(){this._htPackData=null,this._htCacheStickerData={}},getPackDataAllCount:function(){return this._htPackData.result.length},getCurrentPackData:function(a){var b=null,c=this._htPackData;for(var d=0;b=c.result[d];d++)if(b.packCode===a)return b},getCurrentStickerData:function(a){return undefined===this._htCacheStickerData[a]?undefined:this._htCacheStickerData[a]},getPackData:function(){return this._htPackData},getStickerData:function(){return this._htCacheStickerData},setPackData:function(a){this._htPackData=a},setStickerData:function(a,b){this._htCacheStickerData[a]=b}}),nts.m.LineStickerLayer.DataBO=eg.Class({construct:function(){},getCustomStickeData:function(a){var b=a.htStickerData,c=a.sPackCode,d=a.sPackUrl;for(var e=0;b.result[e];e++)b.result[e].packCode=c,b.result[e].packUrl=d;return b}}),nts.m.LineStickerLayer.Controller=eg.Class({construct:function(a,b){this._initProperty(a,b),this._attachEvents()},_initProperty:function(a,b){this._oCallbackClickSticker=a.onClickSticker,this._oModel=b.oModel,this._oDataBO=b.oDataBO,this._oTabView=b.oTabView,this._oStickerView=b.oStickerView,this._oView=b.oView,this._oAjax=b.oAjax},_attachEvents:function(){$(this._oView).on("show",$.proxy(this._onShowLayer,this)),$(this._oView).on("hide",$.proxy(this._onHideLayer,this)),$(this._oTabView).on("OnClickTab",$.proxy(this._onClickTab,this)),$(this._oStickerView).on("OnClickSticker",$.proxy(this._onClickSticker,this)),$(this._oAjax).on("loadPackList",$.proxy(this._onLoadPackList,this)),$(this._oAjax).on("loadStickerList",$.proxy(this._onLoadStickerList,this))},show:function(){this._onShowLayer()},hide:function(){this._onHideLayer()},_onShowLayer:function(){this._oView.show();if(!0===this._isExistPack())return!1;this._oAjax.requestPackList()},_onHideLayer:function(){this._oView.hide()},_isExistPack:function(){return null!==this._oModel.getPackData()?!0:!1},_isExistStickerList:function(a){return undefined!==this._oModel.getCurrentStickerData(a)?!0:!1},_onClickTab:function(a,b){var c=b.sPackCode,d=this._oModel.getCurrentPackData(b.sPackCode);if(!0===this._isExistStickerList(c))return this._oStickerView.updateStickerList(this._oModel.getCurrentStickerData(c)),!1;this._oAjax.requestStickerList({sPackCode:b.sPackCode,sPackUrl:d.packUrl})},_onClickSticker:function(a,b){var c={},d=b.sPackCode,e=b.sStickerCode;d&&e&&(c=this._oModel.getCurrentPackData(d),c.stickerCode=e,typeof this._oCallbackClickSticker=="function"&&this._oCallbackClickSticker.apply(this,[c]))},_onLoadPackList:function(a,b){var c=b,d=0;this._oModel.setPackData(c),d=this._oModel.getPackDataAllCount(),this._oTabView.createScrollTab(d),this._oTabView.updatePackList(this._oModel.getPackData());if(!0===this._isExistStickerList(c.result[0].packCode))return!1;this._oAjax.requestStickerList({sPackCode:c.result[0].packCode,sPackUrl:c.result[0].packUrl})},_onLoadStickerList:function(a,b){var c=b.htData,d=null;d=this._oDataBO.getCustomStickeData({htStickerData:c,sPackCode:b.sPackCode,sPackUrl:b.sPackUrl}),this._oModel.setStickerData(b.sPackCode,d),this._oStickerView.createScrollSticker(),this._oStickerView.updateStickerList(this._oModel.getCurrentStickerData(b.sPackCode))}}),nts.m.LineStickerLayer.TabView=eg.Class({construct:function(a){this.sImageBaseUrl=a,this._assignedHTMLElements(),this._initProperty(),this._initTemplate(a),this._attachEvents()},createScrollTab:function(a){this._resizeTabWidth(a);if(this._oScrollTab!==null)return!1;this._oScrollTab=new IScroll("#hscroll",{scrollX:!0,scrollY:!1,useTransform:!0,click:!0,HWCompositing:eg.isHWAccelerable(),useTransition:eg.isTransitional()})},updatePackList:function(a){this._elListTab.innerHTML=_.template(this._tplTabList,a),this._aelTabBtn=$("BUTTON",this._elListTab),this._activeCurrentTab(this._aelTabBtn[0])},_assignedHTMLElements:function(){var a=nts.m.LineStickerLayer.config;this._elScrollTab=$(a.sScrollTabId).get(0),this._elListTab=$(a.sListTabId).get(0),this._aelTabBtn=[],this._nCurrentTabIndex=0},_initProperty:function(){var a=nts.m.LineStickerLayer.config;this.config=a,this._oScrollTab=null,this._nScrollTabHeight=a.nScrollTabHeight,this._nScrollStickerHeight=a.nScrollStickerHeight,this._nScrollTabMenuWidth=a.nScrollTabMenuWidth},_initTemplate:function(a){this._tplTabList="<% for ( var i = 0; i < result.length ; i++ ) { %>",this._tplTabList+='<li><button type="button" data-value="<%= result[i].packCode %>"><img src="'+a+'<%= result[i].packUrl %>m_tab_off.png" width="48" height="37" alt="<%= result[i].packCode %>"></button></li>',this._tplTabList+="<% } %>"},_attachEvents:function(){$(this._elListTab).on("click","BUTTON",$.proxy(this._onClickTab,this))},_resizeTabWidth:function(a){this._elListTab.style.width=a*this._nScrollTabMenuWidth+this.config.nScrollTabMenuWidth+"px"},_onClickTab:function(a){var b=$(a.target).parent();this._nCurrentTabIndex=this._getCurrentTabIndex(b),this._activeCurrentTab(b.get(0)),$(this).trigger("OnClickTab",{nCurrentTabIndex:this._nCurrentTabIndex,sPackCode:b.data().value})},_getCurrentTabIndex:function(a){var b=this._aelTabBtn;for(var c=0;b[c];c++)if($(b[c]).data().value===a.data().value)return c},_activeCurrentTab:function(a){for(var b=0;this._aelTabBtn[b];b++)this._aelTabBtn[b].firstChild.src=this._aelTabBtn[b].firstChild.src.replace("tab_on","tab_off"),this._aelTabBtn[b].parentNode.className="";a.parentNode.className="active",a.firstChild.src=a.firstChild.src.replace("tab_off","tab_on")}}),nts.m.LineStickerLayer.StickerView=eg.Class({construct:function(a){this._assignedHTMLElements(),this._initProperty(),this._initTemplate(a),this._attachEvents()},_getBackgroundPos:function(a){var b={},c=0,d=0,e="";for(var f=0;b=a.result[f];f++)c=-((b.seq-1)%4*75),d=-((Math.ceil(b.seq/4)-1)*70),e=(c?c+"px ":"0 ")+(d?d+"px":"0 "),a.result[f].sPos=e;return a},createScrollSticker:function(){if(this._oScrollList!==null)return!1;this._oScrollList=new IScroll(this._elScrollList,{scrollX:!1,scrollY:!0,useTransform:!0,click:!0,HWCompositing:eg.isHWAccelerable(),useTransition:eg.isTransitional()})},updateStickerList:function(a){var b=this._getBackgroundPos(a);this._elStickerList.innerHTML=_.template(this._tplStickerList,b),this._oScrollList.refresh()},_assignedHTMLElements:function(){var a=nts.m.LineStickerLayer.config;this._oScrollList=null,this._elScrollList=$(a.sScrollStickerId).get(0),this._elStickerList=$(a.sListStickerId).get(0)},_initProperty:function(){var a=nts.m.LineStickerLayer.config},_initTemplate:function(a){this._tplStickerList="<% for ( var i = 0; i < result.length ; i++ ) { %>",this._tplStickerList+='<li><button type="button" data-value="<%=result[i].stickerCode%>" data-pack="<%=result[i].packCode%>"><i class="stck_s" style="background:url('+a+'<%=result[i].packUrl%>m_preview.png) <%=result[i].sPos%> no-repeat;"><span><%=result[i].stickerCode%></span></i></button></li>',this._tplStickerList+="<% } %>"},_attachEvents:function(){$(this._elStickerList).on("click","button",$.proxy(this._onClickSticker,this))},_onClickSticker:function(a){var b=$(a.target).parent();$(this).trigger("OnClickSticker",{sPackCode:b.data().pack,sStickerCode:b.data().value})}}),nts.m.LineStickerLayer.View=eg.Class({construct:function(){this._assignedHTMLElements(),this._attachEvents(),this._defenceDefaultScroll(),this._defenceEmptyDimmedLayer(),this._defenceTransformElements()},show:function(){this._changeCenterPosition(),this._elLayer.style.visibility="visible",this._elDimmed.style.display="block"},hide:function(){this._elLayer.style.visibility="hidden",this._elDimmed.style.display="none"},_assignedHTMLElements:function(){var a=nts.m.LineStickerLayer.config;this._elLayer=$(a.sLayerId).get(0),this._elDimmed=$(a.sDimmedId).get(0),this._elStickerButton=$(a.sStickerButtonId),this._elCloseButton=$(a.sCloseButtonId)},_changeCenterPosition:function(){this._elDimmed.style.height=$(document).height()+"px",this._elLayer.style.top=$(document).scrollTop()+"px"},_attachEvents:function(){$(this._elStickerButton).on("click",$.proxy(this._onStickerButtonClick,this)),$(this._elCloseButton).on("click",$.proxy(this._onCloseButtonClick,this)),$(window).on("rotate",$.proxy(function(a){this._setTop()},this))},_defenceDefaultScroll:function(){this._elLayer.addEventListener("touchmove",function(a){return a=a||window.event,a.preventDefault(),!1},!1)},_defenceEmptyDimmedLayer:function(){var a=nts.m.LineStickerLayer.config;this._elDimmed||(this._elDimmed=$('<div id="'+a.sDimmedId+'" class="u_line_dim" style="display:none"></div>').get(0),$("body").append(this._elDimmed)),this._elDimmed.style.zIndex=999,$(this._elDimmed).on("touchstart",$.proxy(function(a){a.preventDefault(),this.hide()},this))},_defenceTransformElements:function(){document.body.setAttribute("style","-webkit-perspective: 1000; -webkit-backface-visibility: hidden;")},_setTop:function(){this._elLayer.style.top=document.body.scrollTop+"px"},_onStickerButtonClick:function(a){$(this).trigger("show",a)},_onCloseButtonClick:function(a){$(this).trigger("hide",a)}}),nts.m.LineStickerLayer.Ajax=eg.Class({construct:function(a){this._initOptions(a)},_initOptions:function(a){this._sPackListAPI=a.sPackListAPI||"/stickerPackList.json",this._sStickerListAPI=a.sStickerListAPI||"/stickerList.json"},requestPackList:function(){$.ajax(this._sPackListAPI,{type:"GET",dataType:"json",context:this,timeoutout:3e3,success:$.proxy(this._onLoadPackList,this),error:function(a){}})},requestStickerList:function(a){$.ajax(this._sStickerListAPI,{type:"GET",dataType:"json",data:{packCode:a.sPackCode},context:this,timeoutout:3e3,success:function(b){$.proxy(this._onLoadStickerList(a.sPackCode,a.sPackUrl,b),this)},error:function(a){}})},_onLoadPackList:function(a){$(this).trigger("loadPackList",a)},_onLoadStickerList:function(a,b,c){$(this).trigger("loadStickerList",{sPackCode:a,sPackUrl:b,htData:c})}})
